(this["webpackJsonpreact-flask-app"]=this["webpackJsonpreact-flask-app"]||[]).push([[0],{179:function(e,t,n){},187:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),i=n.n(r),c=n(19),s=n.n(c),o=(n(179),n(8)),l=n(9),u=n(16),j=n(25),d=n(221),b=n(151),h=n(259);n(180);var p=Object(j.i)((function(e){var t=e.history,n=e.children;return Object(r.useEffect)((function(){var e=t.listen((function(){window.scrollTo(0,0)}));return function(){e()}}),[t]),Object(a.jsx)(r.Fragment,{children:n})})),f=n(267),m=n(232),O=n(268),x=n(231),g=n(263),v=n(235),y=n(156),w=n(260),k=n(234),N=n(97),C=n.n(N),S=n(60),D=n(269),I=n(262),B=Object(d.a)((function(e){return{root:{},image:{backgroundImage:"url(resources/cover.jpg)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center",display:"flex"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},coverLogo:{display:"flex","& > *":{fontSize:30,fontWeight:"bold",color:"#3f51b5",margin:e.spacing(1),width:e.spacing(15),height:e.spacing(5),textAlign:"center"}}}}));function T(e){return Object(a.jsx)(I.a,Object(l.a)({elevation:6,variant:"filled"},e))}function R(){return Object(a.jsx)("div",{style:{paddingBottom:10},children:Object(a.jsxs)(S.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(a.jsx)("a",{href:"#",style:{color:"#1976d2"},children:"Books"})," ",(new Date).getFullYear(),"."]})})}function L(e){var t=B(),n=Object(r.useState)({username:"",password:""}),i=Object(o.a)(n,2),c=i[0],s=i[1],j=Object(r.useState)(!1),d=Object(o.a)(j,2),b=d[0],h=d[1];Object(r.useEffect)((function(){return function(){s({username:"",password:""})}}),[]);return Object(a.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",height:"calc(100vh - 120px)"},children:[Object(a.jsx)("div",{}),Object(a.jsx)(y.a,{elevation:3,style:{marginTop:"10vh",maxWidth:"700px",minWidth:"300px"},children:Object(a.jsxs)("div",{className:t.paper,children:[Object(a.jsx)(f.a,{className:t.avatar,children:Object(a.jsx)(C.a,{})}),Object(a.jsx)(S.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(a.jsxs)("form",{className:t.form,noValidate:!0,children:[Object(a.jsx)(O.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",autoFocus:!0,onChange:function(e){c.username=e.target.value,s(Object(l.a)({},c))}}),Object(a.jsx)(O.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){c.password=e.target.value,s(Object(l.a)({},c))}}),Object(a.jsx)(x.a,{control:Object(a.jsx)(g.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(a.jsx)(m.a,{fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(){!function(){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:c.username,password:c.password})};fetch("/api/login",t).then((function(e){return e.json()})).then((function(t){t.length>0?e.setUser(t[0]):h(!0)}))}()},children:"Sign In"}),Object(a.jsx)(D.a,{open:b,anchorOrigin:{vertical:"bottom",horizontal:"right"},autoHideDuration:4e3,onClose:function(e,t){"clickaway"!==t&&h(!1)},children:Object(a.jsx)(T,{onClose:function(e,t){"clickaway"!==t&&h(!1)},severity:"error",children:"User not found!"})}),Object(a.jsxs)(k.a,{container:!0,children:[Object(a.jsx)(k.a,{item:!0,xs:!0,children:Object(a.jsx)(v.a,{href:"#",variant:"body2",children:"Forgot password?"})}),Object(a.jsx)(k.a,{item:!0,children:Object(a.jsx)(v.a,{component:u.b,to:"/signup",children:"Don't have an account? Sign Up"})})]}),Object(a.jsx)(w.a,{mt:5,children:Object(a.jsx)(R,{})})]})]})}),Object(a.jsx)("div",{style:{padding:40}})]})}var W=n(6),P=n.n(W),E=n(11),A=Object(d.a)((function(e){return{root:{},image:{backgroundImage:"url(resources/cover.jpg)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center",display:"flex"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},coverLogo:{display:"flex","& > *":{fontSize:30,fontWeight:"bold",color:"#3f51b5",margin:e.spacing(1),width:e.spacing(15),height:e.spacing(5),textAlign:"center"}}}})),z=function(){var e=Object(E.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/checkuser/"+(t.username||"")).then((function(e){return e.json()})).then((function(e){return e}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(E.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t.username,password:t.password,email:t.email||" ",firstName:t.firstName||" ",lastName:t.lastName||" "})},fetch("/api/signup",n).then((function(e){return e}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function H(e){var t=A(),n=Object(j.g)(),i=Object(r.useState)({}),c=Object(o.a)(i,2),s=c[0],d=c[1],b=Object(r.useState)(!1),h=Object(o.a)(b,2),p=h[0],x=h[1];Object(r.useEffect)((function(){return function(){d({})}}),[]);return Object(a.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",height:"calc(100vh - 120px)"},children:[Object(a.jsx)("div",{}),Object(a.jsx)(y.a,{elevation:3,style:{marginTop:"1.9vh",maxWidth:"700px",minWidth:"300px"},children:Object(a.jsxs)("div",{className:t.paper,children:[Object(a.jsx)(f.a,{className:t.avatar,children:Object(a.jsx)(C.a,{})}),Object(a.jsx)(S.a,{component:"h1",variant:"h5",children:"Create a new account"}),Object(a.jsxs)("form",{className:t.form,noValidate:!0,children:[Object(a.jsx)(O.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"firstName",label:"First Name",name:"firstName",autoComplete:"firstName",autoFocus:!0,value:s.firstName||"",onChange:function(e){s.firstName=e.target.value,d(Object(l.a)({},s))}}),Object(a.jsx)(O.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lastName",value:s.lastName||"",onChange:function(e){s.lastName=e.target.value,d(Object(l.a)({},s))}}),Object(a.jsx)(O.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",value:s.username||"",onChange:function(e){s.username=e.target.value,d(Object(l.a)({},s))}}),Object(a.jsx)(O.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"email",label:"Email",type:"email",id:"email",value:s.email||"",onChange:function(e){s.email=e.target.value,d(Object(l.a)({},s))}}),Object(a.jsx)(O.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:s.password||"",onChange:function(e){s.password=e.target.value,d(Object(l.a)({},s))}}),Object(a.jsx)(m.a,{fullWidth:!0,variant:"contained",color:"primary",disabled:""===s.username||void 0===s.username||""===s.password||void 0===s.password,className:t.submit,onClick:function(){z(s).then((function(e){e.length>0?x(!0):F(s).then((function(){n.push("/")}))}))},children:"Sign Up"}),Object(a.jsx)(D.a,{open:p,anchorOrigin:{vertical:"bottom",horizontal:"right"},autoHideDuration:4e3,onClose:function(e,t){"clickaway"!==t&&x(!1)},children:Object(a.jsx)(U,{onClose:function(e,t){"clickaway"!==t&&x(!1)},severity:"error",children:"User already exists!"})}),Object(a.jsxs)(k.a,{container:!0,children:[Object(a.jsx)(k.a,{item:!0,xs:!0}),Object(a.jsx)(k.a,{item:!0,children:Object(a.jsx)(v.a,{component:u.b,to:"/login",children:"Already have an account? Log in here"})})]}),Object(a.jsx)(w.a,{mt:5,children:Object(a.jsx)(J,{})})]})]})}),Object(a.jsx)("div",{style:{padding:30}})]})}function U(e){return Object(a.jsx)(I.a,Object(l.a)({elevation:6,variant:"filled"},e))}function J(){return Object(a.jsx)("div",{style:{paddingBottom:10},children:Object(a.jsxs)(S.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(a.jsx)("a",{href:"#copyright",style:{color:"#1976d2"},children:"Books"})," ",(new Date).getFullYear(),"."]})})}var Y=n(12),G=n(236),M=n(224),V=n(99),q=n.n(V),X=n(230),Z=n(189),$=n(239),K=n(238),Q=n(237),_=n(157),ee=n(228),te=n(57),ne=n.n(te),ae=function(){var e=Object(E.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/homepage/popularpublishers").then((function(e){return e.json()})).then((function(e){return e}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=Object(E.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/homepage/highratedbooks").then((function(e){return e.json()})).then((function(e){return e}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function ie(e){var t=ce(),n=Object(j.h)(),r=i.a.useState(!0),c=Object(o.a)(r,2),s=c[0],l=c[1],d=i.a.useState([]),b=Object(o.a)(d,2),h=b[0],p=b[1],O=i.a.useState([]),x=Object(o.a)(O,2),g=x[0],v=x[1];i.a.useEffect((function(){return ae().then((function(e){return p(e)})),re().then((function(e){return v(e)})),function(){p([]),v([])}}),[]);return Object(a.jsxs)("div",{className:t.root,children:[Object(a.jsx)(G.a,{in:s,style:{marginBottom:40},children:Object(a.jsxs)(y.a,{style:{height:200},children:[Object(a.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"flex-end"},children:Object(a.jsx)(M.a,{onClick:function(){l((function(e){return!e}))},children:Object(a.jsx)(q.a,{color:"primary"})})}),Object(a.jsxs)(w.a,{display:"flex",children:[Object(a.jsx)(_.a,{in:!0,children:Object(a.jsx)("img",{src:"/resources/homepage.png",alt:"",className:t.banner})}),Object(a.jsxs)(w.a,{display:"flex",flexDirection:"column",children:[Object(a.jsx)(S.a,{color:"primary",variant:"h4",className:t.bannerText,children:"Welcome to books!"}),Object(a.jsx)(S.a,{color:"primary",variant:"h6",className:t.bannerText,children:"This is a website about books, authors and publishers."}),Object(a.jsx)(S.a,{color:"primary",variant:"body1",className:t.bannerText,children:"You can even leave reviews or save favorite books."})]})]})]})}),Object(a.jsxs)("div",{className:t.highRatedBooks,children:[Object(a.jsx)(S.a,{variant:"h4",className:t.title,children:"High Rated Books"}),0===g.length?Object(a.jsx)(a.Fragment,{}):Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(ee.a,{in:!0,children:Object(a.jsx)(k.a,{container:!0,spacing:0,direction:"row",justify:"flex-start",alignItems:"flex-start",className:t.grid,children:g.map((function(e,r){return Object(a.jsx)(k.a,{item:!0,children:Object(a.jsx)(w.a,{display:"flex",justifyContent:"center",style:{minWidth:170},children:Object(a.jsx)(y.a,{elevation:2,className:t.tileRoot,children:Object(a.jsx)(w.a,{children:Object(a.jsxs)(k.a,{container:!0,children:[Object(a.jsx)(m.a,{className:t.imageHolder,component:u.b,to:"/book/"+e.bookID,replace:n==="/book/"+e.bookID,children:Object(a.jsx)("img",{src:"/resources/"+(e.coverPicture||"cover.jpg"),alt:"",className:t.image})}),Object(a.jsxs)(k.a,{item:!0,xs:12,className:t.details,children:[Object(a.jsx)(S.a,{noWrap:!0,children:Object(a.jsx)(u.b,{className:t.tileTitle,to:"/book/"+e.bookID,replace:n==="/book/"+e.bookID,children:e.title})}),Object(a.jsxs)(w.a,{display:"flex",children:[Object(a.jsx)(S.a,{children:e.rating}),Object(a.jsx)(ne.a,{color:"primary",style:{marginTop:-2}})]})]})]})})})})},r)}))})})})]}),Object(a.jsxs)("div",{className:t.popularPublishers,style:{paddingTop:15},children:[Object(a.jsx)(S.a,{variant:"h4",className:t.title,children:"Popular Publishers"}),Object(a.jsx)(_.a,{in:!0,children:Object(a.jsx)(X.a,{children:h.map((function(e,r){return Object(a.jsx)("div",{children:Object(a.jsx)(y.a,{variant:"outlined",className:t.listPaper,children:Object(a.jsxs)(Z.a,{button:!0,style:{paddingTop:10,paddingBottom:10},component:u.b,to:"/publisher/"+e.publisherID,replace:n.pathname==="/publisher/"+e.publisherID,children:[Object(a.jsx)(Q.a,{children:Object(a.jsx)(f.a,{style:{backgroundColor:"#1976d2"},children:e.name.charAt(0).toUpperCase()})}),Object(a.jsx)(K.a,{primary:e.name,secondary:"Points: "+e.ReviewsCount}),Object(a.jsx)($.a,{children:Object(a.jsx)(S.a,{variant:"h4",color:"primary",children:r+1})})]})})},r)}))})})]})]})}var ce=Object(d.a)((function(e){return{root:Object(Y.a)({paddingBottom:40,marginRight:"10%",marginLeft:"10%"},e.breakpoints.down("sm"),{marginRight:"0%",marginLeft:"0%"}),banner:Object(Y.a)({marginTop:-40,height:200},e.breakpoints.down("sm"),{marginTop:-17,height:150}),title:Object(Y.a)({marginBottom:15,color:"#333333",fontSize:"1.8em"},e.breakpoints.down("sm"),{marginRight:"10%",marginLeft:"10%"}),listPaper:{marginBottom:7},popularPublishers:{marginBottom:30},tileRoot:{marginBottom:20,paddingBottom:5,maxWidth:160},imageHolder:{textAlign:"center",paddingTop:5,width:"100%","&:hover":{background:"#efefef"}},image:{width:150,height:225},details:{marginTop:5,paddingLeft:10,paddingRight:10},tileTitle:{lineHeight:"1",fontSize:15,textDecoration:"none",color:"#313131","&:hover":{borderBottom:"0.5px solid #bbb"}},bannerText:Object(Y.a)({},e.breakpoints.down("sm"),{fontSize:16})}})),se=n(244),oe=n(245),le=n(114),ue=n.n(le),je=n(100),de=n.n(je),be=n(264),he=n(4),pe=n(272),fe=n(240),me=n(241),Oe=n(136),xe=n.n(Oe),ge=n(137),ve=n.n(ge),ye=n(131),we=n.n(ye),ke=n(134),Ne=n.n(ke),Ce=n(133),Se=n.n(Ce),De=n(132),Ie=n.n(De),Be=n(138),Te=n.n(Be),Re=n(135),Le=n.n(Re),We=function(){var e=Object(E.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/allgenres").then((function(e){return e.json()})).then((function(e){return e}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Pe=[{name:"Home",icon:Object(a.jsx)(we.a,{}),path:"/"},{name:"Books",icon:Object(a.jsx)(Ie.a,{}),path:"/books"},{name:"Authors",icon:Object(a.jsx)(Se.a,{}),path:"/authors"},{name:"Publishers",icon:Object(a.jsx)(Ne.a,{}),path:"/publishers"}];function Ee(e){var t=Object(j.h)(),n=e.toggleDrawer,r=i.a.useState(!0),c=Object(o.a)(r,2),s=c[0],l=c[1],d=i.a.useState([]),b=Object(o.a)(d,2),h=b[0],p=b[1];i.a.useEffect((function(){We().then((function(e){return p(e)}))}),[]);return Object(a.jsxs)(w.a,{display:"flex",flexDirection:"column",style:{height:"100%"},children:[Object(a.jsxs)(X.a,{style:{width:240,flex:1},children:[Pe.map((function(e,r){return Object(a.jsxs)(Z.a,{button:!0,onClick:n,component:u.b,to:e.path,replace:t.pathname===e.path,children:[Object(a.jsx)(fe.a,{children:e.icon}),Object(a.jsx)(K.a,{primary:e.name})]},r)})),Object(a.jsx)(me.a,{}),Object(a.jsxs)(Z.a,{button:!0,onClick:function(){l(!s)},children:[Object(a.jsx)(fe.a,{children:Object(a.jsx)(Le.a,{})}),Object(a.jsx)(K.a,{primary:"Genres"}),s?Object(a.jsx)(xe.a,{}):Object(a.jsx)(ve.a,{})]}),Object(a.jsx)(G.a,{in:s&&h.length>0,timeout:"auto",unmountOnExit:!0,children:Object(a.jsx)(X.a,{component:"div",disablePadding:!0,children:h.map((function(e,n){return Object(a.jsxs)(Z.a,{button:!0,style:{paddingLeft:"2rem"},component:u.b,to:"/genre/"+e.name,replace:t.pathname==="/genre/"+e.name,children:[Object(a.jsx)(fe.a,{children:Object(a.jsx)(Te.a,{})}),Object(a.jsx)(K.a,{primary:e.name})]},n)}))})})]}),Object(a.jsx)(Ae,{})]})}function Ae(){return Object(a.jsx)("div",{style:{paddingBottom:10},children:Object(a.jsxs)(S.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(a.jsx)("a",{href:"#",style:{color:"#1976d2"},children:"Books"})," ",(new Date).getFullYear(),"."]})})}function ze(e){var t,n,r=Fe(),i=e.open;return Object(a.jsxs)(pe.a,{variant:"permanent",className:Object(he.a)(r.drawer,(t={},Object(Y.a)(t,r.drawerOpen,i),Object(Y.a)(t,r.drawerClose,!i),t)),classes:{paper:Object(he.a)((n={},Object(Y.a)(n,r.drawerOpen,i),Object(Y.a)(n,r.drawerClose,!i),n))},children:[Object(a.jsx)("div",{className:r.toolbar}),Object(a.jsx)(Ee,{})]})}var Fe=Object(d.a)((function(e){return{drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:{transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:0},toolbar:Object(l.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar)}}));function He(e){var t=Ue(),n=Object(j.h)(),r=e.open,i=e.toggleDrawer;return Object(a.jsxs)(pe.a,{anchor:"left",open:r,onClose:i,children:[Object(a.jsx)(X.a,{style:{paddingTop:0,paddingBottom:0},children:Object(a.jsxs)(Z.a,{children:[Object(a.jsx)(fe.a,{children:Object(a.jsx)(M.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu",onClick:i,children:Object(a.jsx)(q.a,{})})}),Object(a.jsx)(K.a,{children:Object(a.jsxs)(S.a,{className:t.title,variant:"h6",component:u.b,to:"/",replace:"/"===n.pathname,children:[Object(a.jsx)(de.a,{style:{marginTop:"-5px"}}),"Books"]})})]})}),Object(a.jsx)(me.a,{}),Object(a.jsx)(Ee,{toggleDrawer:i})]})}var Ue=Object(d.a)((function(e){return{drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:{transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:0},toolbar:Object(l.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),title:{textDecoration:"none",color:"#000000DE",fontWeight:"bold",display:"flex",alignItems:"center"}}})),Je=n(158),Ye=n(101),Ge=n.n(Ye),Me=n(233),Ve=n(102),qe=n.n(Ve),Xe=Object(d.a)((function(e){return{root:{width:"100%"},paper:{display:"flex",alignItems:"center",width:"100%"},input:{flex:1,marginLeft:"15px"},searchButton:{padding:"6px"},searchListRoot:{position:"absolute",zIndex:100,width:"100%",marginTop:"15px",paddingTop:"15px",paddingBottom:"15px",borderTopLeftRadius:"0px",borderTopRightRadius:"0px"},listItemIcon:{color:"rgba(0, 0, 0, 0.54)"}}})),Ze=function(){var e=Object(E.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/short-search/"+t).then((function(e){return e.json()})).then((function(e){return e}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function $e(){var e=Xe(),t=Object(j.h)(),n=i.a.useState(!1),r=Object(o.a)(n,2),c=r[0],s=r[1],l=i.a.useState(""),d=Object(o.a)(l,2),b=d[0],h=d[1],p=i.a.useState([]),f=Object(o.a)(p,2),m=f[0],O=f[1],x=function(e){h(e.target.value),e.target.value.length>0&&Ze(e.target.value).then((function(e){return O(e)})),e.target.value.length>0?s(!0):s(!1)},g=function(){s(!1)};return Object(a.jsx)("div",{className:e.root,children:Object(a.jsx)(Me.a,{onClickAway:g,children:Object(a.jsxs)("div",{style:{width:"100%",position:"relative"},children:[Object(a.jsxs)(y.a,{component:"form",className:e.paper,children:[Object(a.jsx)(Je.a,{className:e.input,placeholder:"Search for books",onChange:x,onFocus:x}),Object(a.jsx)(M.a,{className:e.searchButton,disabled:0===b.length,component:u.b,to:"/search/"+b,onClick:g,children:Object(a.jsx)(Ge.a,{})})]}),c?Object(a.jsx)(_.a,{in:c,children:Object(a.jsx)(y.a,{elevation:10,className:e.searchListRoot,children:Object(a.jsxs)(X.a,{component:"nav","aria-label":"search elements",children:[m.map((function(n,r){return Object(a.jsxs)(Z.a,{button:!0,component:u.b,to:"/book/"+n.bookID,replace:t.pathname==="/book/"+n.bookID,onClick:g,children:[Object(a.jsx)(fe.a,{children:Object(a.jsx)("img",{src:"/resources/"+(n.coverPicture||"cover.jpg"),alt:"",style:{height:60,width:40}})}),Object(a.jsx)(K.a,{children:n.title}),Object(a.jsx)($.a,{className:e.listItemIcon,children:Object(a.jsx)(qe.a,{})})]},r)})),0===m.length?Object(a.jsx)(Z.a,{children:"No results"}):Object(a.jsx)(Z.a,{button:!0,component:u.b,to:"/search/"+b,replace:t.pathname==="/search/"+b,onClick:g,children:Object(a.jsx)(K.a,{style:{textAlign:"center"},children:"More results"})})]})})}):null]})})})}var Ke=Object(d.a)((function(e){return{root:{width:"100%"}}}));function Qe(){Ke(),Object(j.h)();return Object(a.jsx)(M.a,{style:{color:"white"},children:Object(a.jsx)(Ge.a,{fontSize:"large"})})}var _e=n(152),et=n(243),tt=n(242),nt=n(140),at=n.n(nt),rt=n(139),it=n.n(rt),ct=n(144),st=n.n(ct),ot=n(142),lt=n.n(ot),ut=n(143),jt=n.n(ut),dt=n(141),bt=n.n(dt),ht=Object(d.a)((function(e){return{button:{color:"white",borderColor:"white",fontWeight:"bold"}}})),pt=function(){var e=Object(E.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/favorite/user/count/"+t).then((function(e){return e.json()})).then((function(e){return e[0].count}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function ft(e){var t=ht(),n=Object(j.h)(),r=e.userData,c=i.a.useState(null),s=Object(o.a)(c,2),l=s[0],d=s[1],b=i.a.useState(0),h=Object(o.a)(b,2),p=h[0],O=h[1];i.a.useEffect((function(){pt(r.userID).then((function(e){return O(e)}))}),[r.userID,e.rmh]);var x=function(){d(null)};return Object(a.jsxs)("div",{children:[Object(a.jsx)(M.a,{className:t.button,component:u.b,to:"/favorites",replace:"/favorites"===n.pathname,disableFocusRipple:!0,children:Object(a.jsx)(tt.a,{badgeContent:p,color:"error",showZero:!0,children:Object(a.jsx)(it.a,{fontSize:"large"})})}),Object(a.jsx)(M.a,{className:t.button,onClick:function(e){null==l&&d(e.currentTarget)},children:Object(a.jsx)(at.a,{fontSize:"large"})}),Object(a.jsxs)(_e.a,{elevation:6,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},anchorEl:l,keepMounted:!0,open:Boolean(l),onClose:x,children:[Object(a.jsxs)(et.a,{button:!1,style:{outline:"none"},children:[Object(a.jsx)(fe.a,{children:Object(a.jsxs)(f.a,{children:[r.firstName.charAt(0)+r.lastName.charAt(0)," "]})}),Object(a.jsx)(K.a,{primary:r.firstName+" "+r.lastName,secondary:r.email})]}),Object(a.jsx)(et.a,{button:!1,style:{outline:"none",paddingLeft:65,marginTop:-10},children:Object(a.jsx)(m.a,{color:"primary",children:"About account"})}),Object(a.jsx)(me.a,{}),r.isAdmin?Object(a.jsxs)(et.a,{button:!0,component:u.b,to:"/admin",replace:"/admin"===n.pathname,onClick:x,children:[Object(a.jsx)(fe.a,{children:Object(a.jsx)(bt.a,{})}),Object(a.jsx)(K.a,{primary:"Admin Panel"})]}):null,Object(a.jsxs)(et.a,{children:[Object(a.jsx)(fe.a,{children:Object(a.jsx)(lt.a,{})}),Object(a.jsx)(K.a,{primary:"Settings"})]}),Object(a.jsxs)(et.a,{children:[Object(a.jsx)(fe.a,{children:Object(a.jsx)(jt.a,{})}),Object(a.jsx)(K.a,{primary:"Help"})]}),Object(a.jsxs)(et.a,{onClick:function(){x(),e.logOut()},children:[Object(a.jsx)(fe.a,{children:Object(a.jsx)(st.a,{})}),Object(a.jsx)(K.a,{primary:"Log out"})]})]})]})}function mt(e){var t=Ot(),n=Object(j.h)(),r=i.a.useState(!0),c=Object(o.a)(r,2),s=c[0],l=c[1],d=i.a.useState(!1),b=Object(o.a)(d,2),h=b[0],p=b[1],f=function(){p(!h)};return Object(a.jsxs)("div",{className:t.root,children:[Object(a.jsx)(se.a,{position:"fixed",className:Object(he.a)(t.appBar,Object(Y.a)({},t.appBarShift,s)),children:Object(a.jsx)(oe.a,{children:Object(a.jsxs)(k.a,{container:!0,spacing:1,className:t.gridContainer,children:[Object(a.jsx)(k.a,{item:!0,sm:3,className:t.gridLeft,children:Object(a.jsxs)(w.a,{display:"flex",justifyContent:"flex-start",alignItems:"center",style:{height:"100%"},children:[Object(a.jsx)(M.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu",onClick:function(){l(!s),f()},children:Object(a.jsx)(ue.a,{})}),Object(a.jsxs)(S.a,{className:t.title,variant:"h6",component:u.b,to:"/",replace:"/"===n.pathname,children:[Object(a.jsx)(de.a,{style:{marginTop:"-5px"}}),"Books"]})]})}),Object(a.jsx)(k.a,{item:!0,sm:6,className:t.gridCenter,children:Object(a.jsx)(w.a,{display:"flex",justifyContent:"center",alignItems:"center",style:{height:"100%"},children:Object(a.jsx)($e,{})})}),Object(a.jsx)(k.a,{item:!0,sm:3,className:t.gridRight,children:Object(a.jsxs)(w.a,{display:"flex",justifyContent:"flex-end",alignItems:"center",style:{height:"100%"},children:[Object(a.jsx)(be.a,{smUp:!0,children:Object(a.jsx)(Qe,{})}),e.isLogged?Object(a.jsx)(ft,{userData:e.userData,logOut:e.logOut,rmh:e.rmh}):Object(a.jsxs)("div",{children:[Object(a.jsx)(m.a,{className:t.loginButton,variant:"outlined",component:u.b,to:"/login",replace:"/login"===n.pathname,children:"Log in"}),Object(a.jsx)(m.a,{className:t.button,variant:"outlined",component:u.b,to:"/signup",replace:"/signup"===n.pathname,children:"Sign up"})]})]})})]})})}),Object(a.jsx)(be.a,{mdDown:!0,children:Object(a.jsx)(ze,{open:s})}),Object(a.jsx)(be.a,{lgUp:!0,children:Object(a.jsx)(He,{open:h,toggleDrawer:f})})]})}var Ot=Object(d.a)((function(e){var t;return{root:{},title:{textDecoration:"none",color:"white",fontWeight:"bold",display:"flex",alignItems:"center",marginLeft:10},button:{color:"white",borderColor:"white",fontWeight:"bold"},loginButton:{color:"white",borderColor:"white",fontWeight:"bold",marginRight:e.spacing(2)},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{},hide:{display:"none"},drawer:{width:270,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:270,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:{transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:0},toolbar:Object(l.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),gridContainer:Object(Y.a)({},e.breakpoints.up("sm"),{display:"flex"}),gridLeft:Object(Y.a)({},e.breakpoints.down("sm"),{flex:1}),gridCenter:(t={display:"block"},Object(Y.a)(t,e.breakpoints.down("sm"),{display:"none"}),Object(Y.a)(t,e.breakpoints.up("sm"),{display:"block"}),t),gridRight:{}}})),xt=n(80),gt=n.n(xt),vt=n(266),yt=n(148),wt=n.n(yt),kt=n(145),Nt=n.n(kt),Ct=Object(d.a)((function(e){return{root:{marginBottom:20,paddingLeft:"2%"},avatar:{marginTop:5,backgroundColor:"orange"},dateRating:{color:"#aaa",fontSize:15},starIcon:{fontSize:"1rem",marginBottom:"-1.5px",marginRight:"10px"},textBody:{fontFamily:"system-ui",fontWeight:300,color:"333333"}}}));function St(e){var t=Ct(),n=e.data;return Object(a.jsx)("div",{className:t.root,children:Object(a.jsxs)(k.a,{container:!0,spacing:1,children:[Object(a.jsx)(k.a,{item:!0,xs:1,children:Object(a.jsx)(f.a,{className:t.avatar,children:n.firstName.charAt(0)+n.lastName.charAt(0)})}),Object(a.jsxs)(k.a,{item:!0,xs:10,children:[Object(a.jsx)(S.a,{children:n.firstName+" "+n.lastName}),Object(a.jsxs)(S.a,{variant:"body2",className:t.dateRating,children:[n.rating+"/5"," ",Object(a.jsx)(ne.a,{className:t.starIcon}),function(){var e=new Date(n.date);return e.getDay()+"/"+e.getMonth()+"/"+e.getFullYear()}()]}),Object(a.jsx)(S.a,{variant:"body2",className:t.textBody,children:n.textContent})]}),Object(a.jsxs)(k.a,{item:!0,xs:1,style:{textAlign:"center"},children:[Object(a.jsx)(M.a,{children:Object(a.jsx)(Nt.a,{})}),Object(a.jsx)(S.a,{variant:"caption",display:"block",children:n.likes})]})]})})}var Dt=n(246),It=n(250),Bt=n(248),Tt=n(249),Rt=n(247),Lt=n(146),Wt=n.n(Lt),Pt=n(147),Et=n.n(Pt),At=Object(d.a)((function(e){return{button:{color:"dimgrey",backgroundColor:"white",border:"1px solid #bbb"},image:{width:125,height:190,boxShadow:"0px 0px 10px 0px"},starIcon:{color:e.palette.primary.main,marginTop:"-3px"},slider:{maxWidth:300,marginRight:20},ratingBox:{marginTop:30,marginBottom:20}}})),zt=function(){var e=Object(E.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},e.next=3,fetch("/api/add-review",n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Ft(e){var t=At(),n=e.bookData,r=e.user,c=i.a.useState(!1),s=Object(o.a)(c,2),u=s[0],j=s[1],d=i.a.useState({}),b=Object(o.a)(d,2),h=b[0],p=b[1],f=function(){j(!1)};return Object(a.jsxs)("div",{children:[Object(a.jsx)(m.a,{variant:"contained",color:"default",className:t.button,startIcon:Object(a.jsx)(Wt.a,{}),onClick:function(){j(!0)},children:"Write a review"}),""!==r.username?Object(a.jsxs)(Dt.a,{open:u,onClose:f,"aria-labelledby":"form-dialog-title",children:[Object(a.jsxs)(Rt.a,{id:"form-dialog-title",children:["Review by ",r.firstName+" "+r.lastName]}),Object(a.jsx)(me.a,{}),Object(a.jsxs)(Bt.a,{children:[Object(a.jsx)(Tt.a,{children:"Reviews are public and editable. Past edits are visible to the developer and users unless you delete your review altogether."}),Object(a.jsxs)(k.a,{container:!0,children:[Object(a.jsx)(k.a,{item:!0,xs:3,children:Object(a.jsx)("img",{src:"/resources/"+(n.coverPicture||"cover.jpg"),alt:"",className:t.image})}),Object(a.jsx)(k.a,{item:!0,xs:9,children:Object(a.jsx)(O.a,{id:"outlined-multiline-static",placeholder:"Tell others what you think about this book. Would you recommend it, and why?",fullWidth:!0,multiline:!0,rows:8,variant:"outlined",onChange:function(e){h.textContent=e.target.value,p(Object(l.a)({},h))}})})]}),Object(a.jsx)(w.a,{display:"flex",justifyContent:"flex-end",className:t.ratingBox,children:Object(a.jsx)(Ht,{setData:function(e){h.rating=e,p(Object(l.a)({},h))}})})]}),Object(a.jsxs)(It.a,{children:[Object(a.jsx)(m.a,{onClick:f,variant:"outlined",color:"primary",children:"Cancel"}),Object(a.jsx)(m.a,{onClick:function(){h.userID=r.userID,h.bookID=n.bookID,h.likes=0,h.date=(new Date).toJSON().slice(0,10).replace(/-/g,"/"),console.log(h),zt(h),j(!1),e.updateReviews()},variant:"contained",color:"primary",children:"Submit"})]})]}):Object(a.jsxs)(Dt.a,{open:u,onClose:f,"aria-labelledby":"form-dialog-title",children:[Object(a.jsx)(Bt.a,{children:Object(a.jsx)(Tt.a,{children:"You must be logged to post a review."})}),Object(a.jsx)(It.a,{children:Object(a.jsx)(m.a,{onClick:f,variant:"outlined",color:"primary",children:"Cancel"})})]})]})}function Ht(e){var t=At(),n=i.a.useState([0,0,0,0,0]),r=Object(o.a)(n,2),c=r[0],s=r[1],l=i.a.useState(!1),u=Object(o.a)(l,2),j=u[0],d=u[1],b=i.a.useState(-1),h=Object(o.a)(b,2),p=h[0],f=h[1],m=function(e){if(!j){for(var t=e.target.value,n=[0,0,0,0,0],a=0;a<=t;a++)n[a]=1;s(n)}},O=function(e){if(!j){for(var t=e.target.value,n=[0,0,0,0,0],a=0;a<t;a++)n[a]=1;s(n)}},x=function(t){var n=t.currentTarget.value;if(-1===p)f(n),d(!0),e.setData(g(c));else if(n!==p){d(!0);for(var a=[0,0,0,0,0],r=0;r<=n;r++)a[r]=1;f(n),s(a),e.setData(g(c))}else n===p&&(d(!1),f(-1),e.setData(0))},g=function(e){var t=0;return e.forEach((function(e){e&&t++})),t};return Object(a.jsx)("div",{onMouseLeave:function(){j||s([0,0,0,0,0])},children:c.map((function(e,n){return 0===e?Object(a.jsx)(M.a,{value:n,onMouseEnter:m,onClick:x,children:Object(a.jsx)(Et.a,{className:t.starIcon,fontSize:"large"})},n):Object(a.jsx)(M.a,{value:n,onMouseLeave:O,onClick:x,children:Object(a.jsx)(ne.a,{className:t.starIcon,fontSize:"large"})},n)}))})}var Ut=Object(d.a)((function(e){return{root:{paddingBottom:30},reviewTitleBox:{margin:"2rem",marginLeft:"3rem",marginRight:"3rem",alignItems:"baseline",marginBottom:"3rem"},reviewTitle:{flex:1},reviewsCount:{color:"#aaa",fontSize:14,display:"flex",alignItems:"center"},reviewsBox:{margin:"calc(2rem - 20px)",marginLeft:"3rem",marginRight:"3rem"}}})),Jt=function(){var e=Object(E.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/review/"+t).then((function(e){return e.json()})).then((function(e){return e}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Yt(e){var t=Ut(),n=e.bookData,r=i.a.useState([]),c=Object(o.a)(r,2),s=c[0],l=c[1],u=i.a.useState(!1),j=Object(o.a)(u,2),d=j[0],b=j[1],h=i.a.useState(0),p=Object(o.a)(h,2),f=p[0],O=p[1],x=i.a.useState(!0),g=Object(o.a)(x,2),v=g[0],y=g[1];i.a.useEffect((function(){Jt(n.bookID).then((function(e){O(e.length),l(v?e.splice(0,3):e)}))}),[n.bookID,d,v]);return Object(a.jsxs)("div",{className:t.root,children:[Object(a.jsxs)(w.a,{component:"div",overflow:"visible",display:"flex",className:t.reviewTitleBox,children:[Object(a.jsxs)(w.a,{className:t.reviewTitle,children:[Object(a.jsx)(S.a,{children:"REVIEWS"}),Object(a.jsxs)(S.a,{className:t.reviewsCount,children:[Object(a.jsx)(wt.a,{style:{color:"grey"}}),f+" total"]})]}),Object(a.jsx)(Ft,{bookData:n,user:e.user,updateReviews:function(){b(!d)}})]}),Object(a.jsx)(w.a,{component:"div",overflow:"visible",className:t.reviewsBox,children:Object(a.jsx)(G.a,{in:s.length>0,children:s.map((function(e,t){return Object(a.jsx)(St,{data:e},t)}))})}),Object(a.jsx)(w.a,{textAlign:"center",children:Object(a.jsx)(m.a,{color:"primary",onClick:function(){return y(!v)},children:v?"Read all reviews":"Read less"})})]})}var Gt=function(){var e=Object(E.a)(P.a.mark((function e(t,n){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({bookID:t,userID:n})},e.next=3,fetch("/api/favorite/add",a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Mt=function(){var e=Object(E.a)(P.a.mark((function e(t,n){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({bookID:t,userID:n})},e.next=3,fetch("/api/favorite/delete",a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Vt=function(){var e=Object(E.a)(P.a.mark((function e(t,n){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/favorite/check/"+t+"-"+n).then((function(e){return e.json()})).then((function(e){return e.length>0}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function qt(e){var t=e.bookData,n=e.user,r=i.a.useState(null),c=Object(o.a)(r,2),s=c[0],l=c[1];i.a.useEffect((function(){Vt(t.bookID,n.userID).then((function(e){return l(e)}))}),[t.bookID,n.userID]);return Object(a.jsx)(a.Fragment,{children:s?Object(a.jsx)(vt.a,{title:"Remove from favorites",placement:"top",children:Object(a.jsx)(M.a,{onClick:function(){Mt(t.bookID,n.userID),l(!1),e.remountHeader()},children:Object(a.jsx)(gt.a,{style:{color:"red"}})})}):Object(a.jsx)(vt.a,{title:"Add to favorites",placement:"top",children:Object(a.jsx)(M.a,{onClick:function(){Gt(t.bookID,n.userID),l(!0),e.remountHeader()},children:Object(a.jsx)(gt.a,{})})})})}var Xt=function(){var e=Object(E.a)(P.a.mark((function e(t){var n,a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/genres-book/"+t).then((function(e){return e.json()})).then((function(e){return e}));case 2:return n=e.sent,a="",n.forEach((function(e){a+=", "+e.name})),e.abrupt("return",a.substring(1,a.length));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Zt(e){var t=$t(),n=i.a.useState(""),r=Object(o.a)(n,2),c=r[0],s=r[1],l=e.bookData;i.a.useEffect((function(){Xt(l.bookID).then((function(e){return s(e)}))}),[l.bookID]);var u=[{title:"Publisher",content:l.publisherName},{title:"Published on",content:l.date},{title:"Genres",content:c},{title:"Digital Format",content:l.isDigital?"Yes":"No"},{title:"Pages",content:l.pages},{title:"Price",content:l.price}];return Object(a.jsxs)("div",{className:t.root,children:[Object(a.jsx)(S.a,{children:"ADDITIONAL INFORMATION"}),Object(a.jsx)(k.a,{container:!0,spacing:3,className:t.gridContainer,children:u.map((function(e,n){return Object(a.jsxs)(k.a,{item:!0,xs:4,children:[Object(a.jsx)(S.a,{children:e.title}),Object(a.jsx)(S.a,{variant:"body2",className:t.contentText,children:e.content})]},n)}))})]})}var $t=Object(d.a)((function(e){return{root:{margin:"2rem"},gridContainer:{paddingTop:20},contentText:{color:"dimgrey"}}}));function Kt(e){var t=Qt(),n=Object(j.h)(),r=e.bookData,i=e.user;return Object(a.jsxs)(y.a,{elevation:5,className:t.paper,children:[Object(a.jsxs)(k.a,{container:!0,spacing:2,children:[Object(a.jsxs)(k.a,{item:!0,xs:12,className:t.bookBox,style:{display:"flex"},children:[Object(a.jsx)(_.a,{in:!0,children:Object(a.jsx)(w.a,{className:t.imageBox,children:Object(a.jsx)("img",{src:"/resources/"+(r.coverPicture||"cover.jpg"),alt:"",className:t.image})})}),Object(a.jsxs)(w.a,{display:"flex",flexDirection:"column",className:t.textInfo,children:[Object(a.jsx)(S.a,{variant:"h2",className:t.title,children:r.title}),Object(a.jsx)(w.a,{display:"flex",style:{marginBottom:12},children:r.authors.map((function(e,t){return Object(a.jsx)(S.a,{style:{fontSize:14,color:"#616161",marginRight:7},children:Object(a.jsx)(v.a,{component:u.b,to:"/author/"+e.authorID,replace:n==="/author"+e.authorID,children:e.firstName+" "+e.lastName})},t)}))}),Object(a.jsxs)(S.a,{style:{fontSize:14,color:"#616161",flex:1},children:["Publisher: ",Object(a.jsx)(v.a,{component:u.b,to:"/publisher/"+r.publisherID,replace:n==="/publisher/"+r.publisherID,children:r.publisherName})]}),Object(a.jsxs)("div",{style:{width:"100%",display:"flex"},children:[Object(a.jsx)(w.a,{style:{flex:1},children:Object(a.jsxs)(w.a,{display:"flex",children:[Object(a.jsx)(S.a,{style:{fontSize:30},children:r.rating}),Object(a.jsx)(ne.a,{color:"primary",style:{marginTop:4,fontSize:35}})]})}),Object(a.jsxs)(w.a,{style:{textAlign:"end"},children:[""!==i.username?Object(a.jsx)(qt,{bookData:r,user:i,remountHeader:e.remountHeader}):Object(a.jsx)(vt.a,{title:"Login for favorites",placement:"top",children:Object(a.jsx)(M.a,{children:Object(a.jsx)(gt.a,{})})}),Object(a.jsxs)(m.a,{color:"primary",variant:"contained",style:{marginRight:"calc(3rem - 30px)"},children:["Buy ",r.price,"$"]})]})]})]})]}),Object(a.jsx)(k.a,{item:!0,xs:12,className:t.descriptionBox,children:Object(a.jsx)(S.a,{className:t.description,children:r.description})})]}),Object(a.jsx)(me.a,{variant:"middle"}),Object(a.jsx)(Yt,{bookData:r,user:i}),Object(a.jsx)(me.a,{variant:"middle"}),Object(a.jsx)(Zt,{bookData:r}),Object(a.jsx)(me.a,{variant:"middle"})]})}var Qt=Object(d.a)((function(e){var t;return{paper:Object(Y.a)({marginLeft:20,paddingBottom:50,maxWidth:800},e.breakpoints.down("sm"),{marginRight:0,marginLeft:0}),bookBox:{flexDirection:"row"},imageBox:{marginLeft:30,marginTop:30},image:(t={width:100,height:150,boxShadow:"0px 0px 10px 0px"},Object(Y.a)(t,e.breakpoints.up(450),{width:175,height:260}),Object(Y.a)(t,e.breakpoints.up("md"),{width:200,height:300}),t),textInfo:{height:"100%",width:"100%",marginRight:30,marginLeft:30},title:{fontSize:35,fontWeight:300,fontVariant:"all-small-caps",lineHeight:.8,marginBottom:30,marginTop:30},descriptionBox:{marginTop:"1rem",marginBottom:"2rem",marginLeft:"3rem",marginRight:"3rem"},description:{color:"#333333",fontFamily:"system-ui",fontSize:15,fontWeight:200,overflowWrap:"break-word"}}})),_t=Object(d.a)((function(e){return{root:{marginBottom:20,paddingBottom:5,maxWidth:160},imageHolder:{textAlign:"center",paddingTop:5,width:"100%","&:hover":{background:"#efefef"}},image:{width:150,height:225},details:{marginTop:5,paddingLeft:10,paddingRight:10},title:{lineHeight:"1",fontSize:15,textDecoration:"none",color:"#313131","&:hover":{borderBottom:"0.5px solid #bbb"}},author:{marginTop:5,fontSize:13,color:"grey",marginBottom:10,textDecoration:"none","&:hover":{borderBottom:"0.5px solid #bbb"}}}}));function en(e){var t=_t(),n=Object(j.h)(),r=e.book||{};return Object(a.jsx)(y.a,{elevation:2,className:t.root,children:Object(a.jsx)(w.a,{children:Object(a.jsxs)(k.a,{container:!0,children:[Object(a.jsx)(m.a,{className:t.imageHolder,component:u.b,to:"/book/"+r.bookID,replace:n==="/book/"+r.bookID,children:Object(a.jsx)("img",{src:"/resources/"+(r.coverPicture||"cover.jpg"),alt:"",className:t.image})}),Object(a.jsxs)(k.a,{item:!0,xs:12,className:t.details,children:[Object(a.jsx)(S.a,{noWrap:!0,children:Object(a.jsx)(u.b,{className:t.title,to:"/book/"+r.bookID,replace:n==="/book/"+r.bookID,children:r.title})}),Object(a.jsx)(S.a,{children:Object(a.jsx)(u.b,{className:t.author,to:"/author/"+r.authorNameID,replace:n==="/book/"+r.authorNameID,children:r.authorName})})]})]})})})}var tn=function(){var e=Object(E.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/recommended/"+t).then((function(e){return e.json()})).then((function(e){return e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function nn(e){var t=an(),n=e.bookData,r=i.a.useState([]),c=Object(o.a)(r,2),s=c[0],l=c[1];return i.a.useEffect((function(){tn(n.bookID).then((function(e){return l(e)}))}),[n.bookID]),Object(a.jsxs)("div",{className:t.root,children:[Object(a.jsx)(S.a,{variant:"h6",fontSize:"h6.fontSize",className:t.rootTitle,children:"Recommended"}),s.map((function(e,t){return Object(a.jsx)(en,{book:e},t)}))]})}var an=Object(d.a)((function(e){return{root:Object(Y.a)({marginTop:"0px",marginLeft:"50px",maxWidth:"170px",marginRight:"20px"},e.breakpoints.down("sm"),{marginTop:"50px",marginLeft:"20px"}),rootTitle:{marginBottom:20}}})),rn=function(){var e=Object(E.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/book-authors/"+t).then((function(e){return e.json()})).then((function(e){return e}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),cn=function(){var e=Object(E.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/book-rating/"+t).then((function(e){return e.json()})).then((function(e){return e.length>0?e[0].rating:"None"}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),sn=function(){var e=Object(E.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/book/"+t).then((function(e){return e.json()})).then((function(e){return e.length>0?e[0]:Object.create({noBook:!0})}));case 2:return n=e.sent,e.next=5,rn(t).then((function(e){return e}));case 5:return n.authors=e.sent,e.next=8,cn(t).then((function(e){return e}));case 8:return n.rating=e.sent,e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function on(e){var t=ln(),n=i.a.useState(null),r=Object(o.a)(n,2),c=r[0],s=r[1],l=e.match.params.id;return i.a.useEffect((function(){sn(l).then((function(e){s(e)}))}),[l]),Object(a.jsx)("div",{children:null===c?null:c.noBook?Object(a.jsx)("p",{style:{marginTop:120,marginLeft:50},children:"Book not found"}):Object(a.jsx)(w.a,{justifyContent:"center",m:6,className:t.root,children:Object(a.jsxs)(w.a,{display:"flex",className:t.content,children:[Object(a.jsx)(Kt,{bookData:c,user:e.user,remountHeader:e.remountHeader}),Object(a.jsx)(nn,{bookData:c})]})})})}var ln=Object(d.a)((function(e){return{root:Object(Y.a)({marginRight:0,marginLeft:0},e.breakpoints.up("sm"),{display:"flex"}),content:Object(Y.a)({flexDirection:"column"},e.breakpoints.up("md"),{flexDirection:"row"}),paper:Object(Y.a)({marginLeft:20,paddingBottom:200,maxWidth:800},e.breakpoints.down("sm"),{marginRight:20})}})),un=Object(d.a)((function(e){return{root:Object(Y.a)({marginRight:"10%",marginLeft:"10%"},e.breakpoints.down("sm"),{marginRight:"0%",marginLeft:"0%"}),title:Object(Y.a)({marginBottom:30,color:"#333333",fontSize:"1.8em"},e.breakpoints.down("sm"),{marginRight:"10%",marginLeft:"10%"}),grid:Object(Y.a)({},e.breakpoints.down("sm"),{justifyContent:"space-evenly",paddingLeft:0,paddingRight:0}),gridItem:{display:"flex",alignItems:"center"}}})),jn=function(){var e=Object(E.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/favorite/user/"+t).then((function(e){return e.json()})).then((function(e){return e}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function dn(e){var t=un(),n=e.user,r=i.a.useState(null),c=Object(o.a)(r,2),s=c[0],l=c[1];return i.a.useEffect((function(){jn(n.userID).then((function(e){return l(e)}))}),[n.userID]),Object(a.jsx)("div",{className:t.root,children:null===s?Object(a.jsx)(a.Fragment,{}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(S.a,{variant:"h4",className:t.title,children:["Your favorite books (",s.length,")"]}),Object(a.jsx)(ee.a,{in:!0,children:Object(a.jsx)(k.a,{container:!0,spacing:0,direction:"row",justify:"flex-start",alignItems:"flex-start",className:t.grid,children:s.map((function(e,t){return Object(a.jsx)(k.a,{item:!0,children:Object(a.jsx)(w.a,{display:"flex",justifyContent:"center",style:{minWidth:170},children:Object(a.jsx)(en,{book:e})})},t)}))})})]})})}var bn=Object(d.a)((function(e){return{root:Object(Y.a)({marginRight:"10%",marginLeft:"10%"},e.breakpoints.down("sm"),{marginRight:"0%",marginLeft:"0%"}),paper:{minHeight:200,marginBottom:30,display:"flex"},authorBox:{padding:20,flex:1},authorIll:Object(Y.a)({height:200,paddingRight:30},e.breakpoints.down("sm"),{height:140,width:120}),title:Object(Y.a)({marginBottom:30,color:"#333333",fontSize:"1.8em"},e.breakpoints.down("sm"),{marginLeft:"5%"}),grid:Object(Y.a)({},e.breakpoints.down("sm"),{justifyContent:"space-evenly",paddingLeft:0,paddingRight:0}),gridItem:{display:"flex",alignItems:"center"}}})),hn=function(){var e=Object(E.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/author/"+t).then((function(e){return e.json()})).then((function(e){return e.length>0?e[0]:{noAuthor:!0}}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pn=function(){var e=Object(E.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/author/"+t+"/get-books").then((function(e){return e.json()})).then((function(e){return e}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function fn(e){var t=bn(),n=e.match.params.id,r=i.a.useState(null),c=Object(o.a)(r,2),s=c[0],u=c[1],j=i.a.useState(null),d=Object(o.a)(j,2),b=d[0],h=d[1];return i.a.useEffect((function(){pn(n).then((function(e){return u(e)})),hn(n).then((function(e){return h(e)}))}),[n]),Object(a.jsx)("div",{className:t.root,children:null===b||null===s?null:b.noAuthor?Object(a.jsx)(a.Fragment,{children:"No author found"}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(y.a,{className:t.paper,children:[Object(a.jsxs)(w.a,{display:"flex",flexDirection:"column",className:t.authorBox,children:[Object(a.jsx)(S.a,{variant:"h5",children:b.firstName+" "+b.lastName}),Object(a.jsxs)(S.a,{variant:"body2",color:"primary",children:["Contact:  ",b.email]}),Object(a.jsx)(S.a,{variant:"body2",style:{paddingTop:20},children:b.description})]}),Object(a.jsx)(w.a,{display:"flex",flexDirection:"column",children:Object(a.jsx)("img",{src:"/resources/author.png",alt:"",className:t.authorIll})})]}),Object(a.jsxs)(S.a,{variant:"h4",className:t.title,children:["From this author (",s.length,")"]}),Object(a.jsx)(ee.a,{in:!0,children:Object(a.jsx)(k.a,{container:!0,spacing:0,direction:"row",justify:"flex-start",alignItems:"flex-start",className:t.grid,children:s.map((function(e,t){return Object(a.jsx)(k.a,{item:!0,children:Object(a.jsx)(w.a,{display:"flex",justifyContent:"center",style:{minWidth:170},children:Object(a.jsx)(en,{book:Object(l.a)(Object(l.a)({},e),{},{authorName:b.firstName+" "+b.lastName,authorNameID:b.authorID})})})},t)}))})})]})})}var mn=Object(d.a)((function(e){return{root:Object(Y.a)({marginRight:"10%",marginLeft:"10%"},e.breakpoints.down("sm"),{marginRight:"0%",marginLeft:"0%"}),paper:{minHeight:200,marginBottom:30,display:"flex"},authorBox:{padding:20,flex:1},authorIll:{height:200,paddingRight:30},title:Object(Y.a)({marginBottom:30,color:"#333333",fontSize:"1.8em"},e.breakpoints.down("sm"),{marginLeft:"5%"}),grid:Object(Y.a)({},e.breakpoints.down("sm"),{justifyContent:"space-evenly",paddingLeft:0,paddingRight:0}),gridItem:{display:"flex",alignItems:"center"}}})),On=function(){var e=Object(E.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/publisher/"+t).then((function(e){return e.json()})).then((function(e){return e.length>0?e[0]:{noPublisher:!0}}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xn=function(){var e=Object(E.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/publisher/"+t+"/get-books").then((function(e){return e.json()})).then((function(e){return e}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function gn(e){var t=mn(),n=e.match.params.id,r=i.a.useState(null),c=Object(o.a)(r,2),s=c[0],u=c[1],j=i.a.useState(null),d=Object(o.a)(j,2),b=d[0],h=d[1];return i.a.useEffect((function(){xn(n).then((function(e){return u(e)})),On(n).then((function(e){return h(e)}))}),[n]),Object(a.jsx)("div",{className:t.root,children:null===b||null==s?null:b.noPublisher?Object(a.jsx)(a.Fragment,{children:"No publisher found"}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(y.a,{className:t.paper,children:[Object(a.jsxs)(w.a,{display:"flex",flexDirection:"column",className:t.authorBox,children:[Object(a.jsx)(S.a,{variant:"h5",children:b.name}),Object(a.jsxs)(S.a,{variant:"body2",color:"primary",children:["Email:  ",b.email]}),Object(a.jsxs)(S.a,{variant:"body2",style:{color:"grey"},children:["Phone:  ",b.phone]}),Object(a.jsxs)(S.a,{variant:"body2",style:{color:"grey"},children:["Address:  ",b.address]}),Object(a.jsx)(S.a,{variant:"body2",style:{paddingTop:20},children:b.description})]}),Object(a.jsx)(w.a,{display:"flex",flexDirection:"column",children:Object(a.jsx)("img",{src:"/resources/publisher.png",alt:"",className:t.authorIll})})]}),Object(a.jsxs)(S.a,{variant:"h4",className:t.title,children:["From this publisher (",s.length,")"]}),Object(a.jsx)(ee.a,{in:!0,children:Object(a.jsx)(k.a,{container:!0,spacing:0,direction:"row",justify:"flex-start",alignItems:"flex-start",className:t.grid,children:s.map((function(e,t){return Object(a.jsx)(k.a,{item:!0,children:Object(a.jsx)(w.a,{display:"flex",justifyContent:"center",style:{minWidth:170},children:Object(a.jsx)(en,{book:Object(l.a)({},e)})})},t)}))})})]})})}var vn=Object(d.a)((function(e){var t;return{root:(t={marginRight:"10%",marginLeft:"10%"},Object(Y.a)(t,e.breakpoints.down("sm"),{marginRight:"0%",marginLeft:"0%"}),Object(Y.a)(t,"paddingBottom",50),t),title:Object(Y.a)({color:"#333333",fontSize:"1.8em"},e.breakpoints.down("sm"),{marginRight:"10%",marginLeft:"10%"}),underTitle:Object(Y.a)({marginBottom:30},e.breakpoints.down("sm"),{marginRight:"10%",marginLeft:"10%"}),grid:Object(Y.a)({},e.breakpoints.down("sm"),{justifyContent:"space-evenly",paddingLeft:0,paddingRight:0}),gridItem:{display:"flex",alignItems:"center"}}})),yn=function(){var e=Object(E.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/allbooks").then((function(e){return e.json()})).then((function(e){return e}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function wn(e){var t=vn(),n=i.a.useState([]),r=Object(o.a)(n,2),c=r[0],s=r[1];return i.a.useEffect((function(){yn().then((function(e){return s(e)}))}),[]),Object(a.jsxs)("div",{className:t.root,children:[Object(a.jsx)(S.a,{variant:"h4",className:t.title,children:"All Books"}),Object(a.jsx)(_.a,{in:c.length>0,children:Object(a.jsxs)(S.a,{variant:"body2",className:t.underTitle,children:[c.length," Books"]})}),0===c.length?Object(a.jsx)(a.Fragment,{}):Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(ee.a,{in:!0,children:Object(a.jsx)(k.a,{container:!0,spacing:0,direction:"row",justify:"flex-start",alignItems:"flex-start",className:t.grid,children:c.map((function(e,t){return Object(a.jsx)(k.a,{item:!0,children:Object(a.jsx)(w.a,{display:"flex",justifyContent:"center",style:{minWidth:170},children:Object(a.jsx)(en,{book:e})})},t)}))})})})]})}var kn=n(153),Nn=n(261),Cn=n(258),Sn=n(150),Dn=n.n(Sn),In=n(252),Bn=n(256),Tn=n(255),Rn=n(251),Ln=n(253),Wn=n(254),Pn=n(59),En=n.n(Pn),An=n(46),zn=n.n(An),Fn=n(257),Hn=Object(d.a)((function(e){return{table:{minWidth:650},fab:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)}}})),Un=function(){var e=Object(E.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/admin/getauthors").then((function(e){return e.json()})).then((function(e){return e}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Jn=function(){var e=Object(E.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/admin/deleteauthors/"+t).then((function(e){return e})).then((function(e){return e}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Yn=function(){var e=Object(E.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(l.a)({},t))},fetch("api/admin/updateauthors",n).then((function(e){return e})).then((function(e){return e}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Gn=function(){var e=Object(E.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(l.a)({},t))},fetch("api/admin/addauthors",n).then((function(e){return e})).then((function(e){return e}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Mn(){var e=Hn(),t=i.a.useState([]),n=Object(o.a)(t,2),r=n[0],c=n[1],s=i.a.useState(!1),l=Object(o.a)(s,2),u=l[0],j=l[1],d=i.a.useState(!1),b=Object(o.a)(d,2),h=b[0],p=b[1],f=i.a.useState({}),m=Object(o.a)(f,2),O=m[0],x=m[1];i.a.useEffect((function(){Un().then((function(e){return c(e)}))}),[u]);var g=function(e){var t=e.currentTarget.value;x(r[t]),p(!0)};return Object(a.jsxs)("div",{style:{paddingBottom:50},children:[Object(a.jsx)(Rn.a,{component:y.a,children:Object(a.jsxs)(In.a,{className:e.table,"aria-label":"simple table",children:[Object(a.jsx)(Ln.a,{children:Object(a.jsxs)(Wn.a,{children:[Object(a.jsx)(Tn.a,{children:"First Name"}),Object(a.jsx)(Tn.a,{children:"Last Name"}),Object(a.jsx)(Tn.a,{children:"Email"}),Object(a.jsx)(Tn.a,{children:"Description"}),Object(a.jsx)(Tn.a,{children:"Edit"}),Object(a.jsx)(Tn.a,{children:"Delete"})]})}),Object(a.jsx)(Bn.a,{children:r.map((function(e,t){return Object(a.jsxs)(Wn.a,{children:[Object(a.jsx)(Tn.a,{children:e.firstName}),Object(a.jsx)(Tn.a,{children:e.lastName}),Object(a.jsx)(Tn.a,{children:e.email}),Object(a.jsx)(Tn.a,{children:e.description}),Object(a.jsx)(Tn.a,{children:Object(a.jsx)(M.a,{value:t,onClick:function(e){return g(e)},children:Object(a.jsx)(zn.a,{})})}),Object(a.jsx)(Tn.a,{children:Object(a.jsx)(M.a,{value:e.authorID,onClick:function(e){!function(e){var t=e.currentTarget.value;Jn(t).then((function(){return j((function(e){return!e}))}))}(e)},children:Object(a.jsx)(En.a,{})})})]},e.authorID)}))})]})}),Object(a.jsx)(Vn,{open:h,data:O,handleClickOpen:g,handleClose:function(){p(!1),j((function(e){return!e}))}}),Object(a.jsxs)(Fn.a,{className:e.fab,variant:"extended",style:{backgroundColor:"blueviolet",color:"white"},onClick:function(){x({newEntry:!0}),p(!0)},children:[Object(a.jsx)(zn.a,{}),"New Author"]})]})}function Vn(e){var t=e.open,n=e.handleClose,r=i.a.useState({}),c=Object(o.a)(r,2),s=c[0],u=c[1];return i.a.useEffect((function(){u(e.data)}),[e.data]),Object(a.jsx)("div",{children:Object(a.jsxs)(Dt.a,{open:t,onClose:n,"aria-labelledby":"form-dialog-title",children:[Object(a.jsxs)(Rt.a,{id:"form-dialog-title",children:[!0===s.newEntry?"Insert":"Update"," Author"]}),Object(a.jsxs)(Bt.a,{children:[Object(a.jsx)(Tt.a,{children:"*To change the entry just modify the previous values and hit update"}),Object(a.jsx)(O.a,{autoFocus:!0,margin:"dense",label:"First Name",fullWidth:!0,value:s.firstName||"",onChange:function(e){s.firstName=e.target.value,u(Object(l.a)({},s))}}),Object(a.jsx)(O.a,{margin:"dense",label:"Last Name",fullWidth:!0,value:s.lastName||"",onChange:function(e){s.lastName=e.target.value,u(Object(l.a)({},s))}}),Object(a.jsx)(O.a,{margin:"dense",label:"Email",fullWidth:!0,value:s.email||"",onChange:function(e){s.email=e.target.value,u(Object(l.a)({},s))}}),Object(a.jsx)(O.a,{margin:"dense",label:"Description",fullWidth:!0,multiline:!0,rows:4,value:s.description||"",onChange:function(e){s.description=e.target.value,u(Object(l.a)({},s))}})]}),Object(a.jsxs)(It.a,{children:[Object(a.jsx)(m.a,{onClick:function(){n()},color:"primary",children:"Cancel"}),Object(a.jsx)(m.a,{onClick:function(){!0===s.newEntry?Gn(s):Yn(s),n()},color:"primary",children:!0===s.newEntry?"Insert":"Update"})]})]})})}var qn=Object(d.a)((function(e){return{table:{minWidth:650},fab:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)}}})),Xn=function(){var e=Object(E.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/admin/getpublishers").then((function(e){return e.json()})).then((function(e){return e}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Zn=function(){var e=Object(E.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/admin/deletepublishers/"+t).then((function(e){return e})).then((function(e){return e}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$n=function(){var e=Object(E.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(l.a)({},t))},fetch("api/admin/updatepublishers",n).then((function(e){return e})).then((function(e){return e}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Kn=function(){var e=Object(E.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(l.a)({},t))},fetch("api/admin/addpublishers",n).then((function(e){return e})).then((function(e){return e}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Qn(){var e=qn(),t=i.a.useState([]),n=Object(o.a)(t,2),r=n[0],c=n[1],s=i.a.useState(!1),l=Object(o.a)(s,2),u=l[0],j=l[1],d=i.a.useState(!1),b=Object(o.a)(d,2),h=b[0],p=b[1],f=i.a.useState({}),m=Object(o.a)(f,2),O=m[0],x=m[1];i.a.useEffect((function(){Xn().then((function(e){return c(e)}))}),[u]);var g=function(e){var t=e.currentTarget.value;x(r[t]),p(!0)};return Object(a.jsxs)("div",{children:[Object(a.jsx)(Rn.a,{component:y.a,children:Object(a.jsxs)(In.a,{className:e.table,"aria-label":"simple table",children:[Object(a.jsx)(Ln.a,{children:Object(a.jsxs)(Wn.a,{children:[Object(a.jsx)(Tn.a,{children:"Name"}),Object(a.jsx)(Tn.a,{children:"Email"}),Object(a.jsx)(Tn.a,{children:"Phone"}),Object(a.jsx)(Tn.a,{children:"Address"}),Object(a.jsx)(Tn.a,{children:"Description"}),Object(a.jsx)(Tn.a,{children:"Edit"}),Object(a.jsx)(Tn.a,{children:"Delete"})]})}),Object(a.jsx)(Bn.a,{children:r.map((function(e,t){return Object(a.jsxs)(Wn.a,{children:[Object(a.jsx)(Tn.a,{style:{minWidth:130},children:e.name}),Object(a.jsx)(Tn.a,{children:e.email}),Object(a.jsx)(Tn.a,{children:e.phone}),Object(a.jsx)(Tn.a,{style:{minWidth:100},children:e.address}),Object(a.jsx)(Tn.a,{children:e.description}),Object(a.jsx)(Tn.a,{children:Object(a.jsx)(M.a,{value:t,onClick:function(e){return g(e)},children:Object(a.jsx)(zn.a,{})})}),Object(a.jsx)(Tn.a,{children:Object(a.jsx)(M.a,{value:e.publisherID,onClick:function(e){return function(e){var t=e.currentTarget.value;Zn(t).then((function(){return j((function(e){return!e}))}))}(e)},children:Object(a.jsx)(En.a,{})})})]},e.publisherID)}))})]})}),Object(a.jsx)(_n,{open:h,data:O,handleClickOpen:g,handleClose:function(){p(!1),j((function(e){return!e}))}}),Object(a.jsxs)(Fn.a,{className:e.fab,variant:"extended",color:"secondary",onClick:function(){x({newEntry:!0}),p(!0)},children:[Object(a.jsx)(zn.a,{}),"New Publisher"]})]})}function _n(e){var t=e.open,n=e.handleClose,r=i.a.useState({}),c=Object(o.a)(r,2),s=c[0],u=c[1];return i.a.useEffect((function(){u(e.data)}),[e.data]),Object(a.jsx)("div",{style:{paddingBottom:50},children:Object(a.jsxs)(Dt.a,{open:t,onClose:n,"aria-labelledby":"form-dialog-title",children:[Object(a.jsxs)(Rt.a,{id:"form-dialog-title",children:[!0===s.newEntry?"Insert":"Update"," Publisher"]}),Object(a.jsxs)(Bt.a,{children:[Object(a.jsx)(Tt.a,{children:"*To change the entry just modify the previous values and hit update"}),Object(a.jsx)(O.a,{autoFocus:!0,margin:"dense",label:"Name",fullWidth:!0,value:s.name||"",onChange:function(e){s.name=e.target.value,u(Object(l.a)({},s))}}),Object(a.jsx)(O.a,{margin:"dense",label:"Email",fullWidth:!0,value:s.email||"",onChange:function(e){s.email=e.target.value,u(Object(l.a)({},s))}}),Object(a.jsx)(O.a,{margin:"dense",label:"Phone",fullWidth:!0,value:s.phone||"",onChange:function(e){s.phone=e.target.value,u(Object(l.a)({},s))}}),Object(a.jsx)(O.a,{margin:"dense",label:"Address",fullWidth:!0,value:s.address||"",onChange:function(e){s.address=e.target.value,u(Object(l.a)({},s))}}),Object(a.jsx)(O.a,{margin:"dense",label:"Description",fullWidth:!0,multiline:!0,rows:4,value:s.description||"",onChange:function(e){s.description=e.target.value,u(Object(l.a)({},s))}})]}),Object(a.jsxs)(It.a,{children:[Object(a.jsx)(m.a,{onClick:function(){n()},color:"primary",children:"Cancel"}),Object(a.jsx)(m.a,{onClick:function(){!0===s.newEntry?Kn(s):$n(s),n()},color:"primary",children:!0===s.newEntry?"Insert":"Update"})]})]})})}var ea=Object(d.a)((function(e){return{table:{minWidth:650},fab:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)}}})),ta=function(){var e=Object(E.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/admin/getgenres").then((function(e){return e.json()})).then((function(e){return e}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),na=function(){var e=Object(E.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/admin/deletegenres/"+t).then((function(e){return e})).then((function(e){return e}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),aa=function(){var e=Object(E.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(l.a)({},t))},fetch("api/admin/updategenres",n).then((function(e){return e})).then((function(e){return e}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ra=function(){var e=Object(E.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(l.a)({},t))},fetch("api/admin/addgenres",n).then((function(e){return e})).then((function(e){return e}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function ia(){var e=ea(),t=i.a.useState([]),n=Object(o.a)(t,2),r=n[0],c=n[1],s=i.a.useState(!1),l=Object(o.a)(s,2),u=l[0],j=l[1],d=i.a.useState(!1),b=Object(o.a)(d,2),h=b[0],p=b[1],f=i.a.useState({}),m=Object(o.a)(f,2),O=m[0],x=m[1];i.a.useEffect((function(){ta().then((function(e){return c(e)}))}),[u]);var g=function(e){var t=e.currentTarget.value;x(r[t]),p(!0)};return Object(a.jsxs)("div",{style:{paddingBottom:50},children:[Object(a.jsx)(Rn.a,{component:y.a,children:Object(a.jsxs)(In.a,{className:e.table,"aria-label":"simple table",children:[Object(a.jsx)(Ln.a,{children:Object(a.jsxs)(Wn.a,{children:[Object(a.jsx)(Tn.a,{children:"Name"}),Object(a.jsx)(Tn.a,{children:"Info"}),Object(a.jsx)(Tn.a,{align:"right",children:"Edit"}),Object(a.jsx)(Tn.a,{align:"right",children:"Delete"})]})}),Object(a.jsx)(Bn.a,{children:r.map((function(e,t){return Object(a.jsxs)(Wn.a,{children:[Object(a.jsx)(Tn.a,{children:e.name}),Object(a.jsx)(Tn.a,{children:e.info}),Object(a.jsx)(Tn.a,{align:"right",children:Object(a.jsx)(M.a,{value:t,onClick:function(e){return g(e)},children:Object(a.jsx)(zn.a,{})})}),Object(a.jsx)(Tn.a,{align:"right",children:Object(a.jsx)(M.a,{value:e.genreID,onClick:function(e){return function(e){var t=e.currentTarget.value;na(t).then((function(){return j((function(e){return!e}))}))}(e)},children:Object(a.jsx)(En.a,{})})})]},e.genreID)}))})]})}),Object(a.jsx)(ca,{open:h,data:O,handleClickOpen:g,handleClose:function(){p(!1),j((function(e){return!e}))}}),Object(a.jsxs)(Fn.a,{className:e.fab,variant:"extended",style:{backgroundColor:"coral",color:"white"},onClick:function(){x({newEntry:!0}),p(!0)},children:[Object(a.jsx)(zn.a,{}),"New Genre"]})]})}function ca(e){var t=e.open,n=e.handleClose,r=i.a.useState({}),c=Object(o.a)(r,2),s=c[0],u=c[1];return i.a.useEffect((function(){u(e.data)}),[e.data]),Object(a.jsx)("div",{children:Object(a.jsxs)(Dt.a,{open:t,onClose:n,"aria-labelledby":"form-dialog-title",children:[Object(a.jsxs)(Rt.a,{id:"form-dialog-title",children:[!0===s.newEntry?"Insert":"Update"," Genre"]}),Object(a.jsxs)(Bt.a,{children:[Object(a.jsx)(Tt.a,{children:"*To change the entry just modify the previous values and hit update"}),Object(a.jsx)(O.a,{autoFocus:!0,margin:"dense",label:"Name",fullWidth:!0,value:s.name||"",onChange:function(e){s.name=e.target.value,u(Object(l.a)({},s))}}),Object(a.jsx)(O.a,{margin:"dense",label:"Info",fullWidth:!0,multiline:!0,rows:4,value:s.info||"",onChange:function(e){s.info=e.target.value,u(Object(l.a)({},s))}})]}),Object(a.jsxs)(It.a,{children:[Object(a.jsx)(m.a,{onClick:function(){n()},color:"primary",children:"Cancel"}),Object(a.jsx)(m.a,{onClick:function(){!0===s.newEntry?ra(s):aa(s),n()},color:"primary",children:!0===s.newEntry?"Insert":"Update"})]})]})})}var sa=n(225),oa=n(271),la=n(227),ua=n(265),ja=Object(d.a)((function(e){return{table:{minWidth:650},fab:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)},formControl:{margin:e.spacing(1),minWidth:120,maxWidth:300}}})),da=function(){var e=Object(E.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/admin/getbooks").then((function(e){return e.json()})).then((function(e){return e}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ba=function(){var e=Object(E.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/admin/deletebooks/"+t).then((function(e){return e})).then((function(e){return e}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function ha(){var e=ja(),t=i.a.useState([]),n=Object(o.a)(t,2),r=n[0],c=n[1],s=i.a.useState(!1),l=Object(o.a)(s,2),u=l[0],j=l[1],d=i.a.useState(!1),b=Object(o.a)(d,2),h=b[0],p=b[1];i.a.useEffect((function(){da().then((function(e){return c(e)}))}),[u]);var f=function(e){p(!0)};return Object(a.jsxs)("div",{children:[Object(a.jsx)(Rn.a,{component:y.a,children:Object(a.jsxs)(In.a,{className:e.table,"aria-label":"simple table",children:[Object(a.jsx)(Ln.a,{children:Object(a.jsxs)(Wn.a,{children:[Object(a.jsx)(Tn.a,{children:"Title"}),Object(a.jsx)(Tn.a,{children:"Description"}),Object(a.jsx)(Tn.a,{children:"Authors"}),Object(a.jsx)(Tn.a,{children:"Genres"}),Object(a.jsx)(Tn.a,{children:"Publisher"}),Object(a.jsx)(Tn.a,{children:"Is Digital"}),Object(a.jsx)(Tn.a,{children:"Price"}),Object(a.jsx)(Tn.a,{children:"Pages"}),Object(a.jsx)(Tn.a,{children:"Delete"})]})}),Object(a.jsx)(Bn.a,{children:r.map((function(e){return Object(a.jsxs)(Wn.a,{children:[Object(a.jsx)(Tn.a,{style:{minWidth:150},children:e.title}),Object(a.jsx)(Tn.a,{size:"small",children:e.description}),Object(a.jsx)(Tn.a,{style:{minWidth:120},children:e.authors}),Object(a.jsx)(Tn.a,{style:{minWidth:120},children:e.genres}),Object(a.jsx)(Tn.a,{children:e.publisherName}),Object(a.jsx)(Tn.a,{children:1===e.isDigital?"Yes":"No"}),Object(a.jsx)(Tn.a,{children:e.price}),Object(a.jsx)(Tn.a,{children:e.pages}),Object(a.jsx)(Tn.a,{children:Object(a.jsx)(M.a,{value:e.bookID,onClick:function(e){!function(e){var t=e.currentTarget.value;ba(t).then((function(){return j((function(e){return!e}))}))}(e)},children:Object(a.jsx)(En.a,{})})})]},e.bookID)}))})]})}),Object(a.jsx)(xa,{open:h,handleClickOpen:f,handleClose:function(){p(!1),j((function(e){return!e}))}}),Object(a.jsxs)(Fn.a,{className:e.fab,variant:"extended",style:{background:"linear-gradient(90deg, rgba(2,0,36,1) 0%, rgba(9,9,121,1) 35%, rgba(4,125,197,1) 69%, rgba(0,212,255,1) 100%)",color:"white"},onClick:f,children:[Object(a.jsx)(zn.a,{}),"New Book"]})]})}var pa=function(){var e=Object(E.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/admin/getauthors").then((function(e){return e.json()})).then((function(e){return e}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fa=function(){var e=Object(E.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/admin/getpublishers").then((function(e){return e.json()})).then((function(e){return e}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ma=function(){var e=Object(E.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/admin/getgenres").then((function(e){return e.json()})).then((function(e){return e}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Oa=function(){var e=Object(E.a)(P.a.mark((function e(t,n,a,r){var i,c;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(n),console.log(a),console.log(r),t.isDigital=!0===t.isDigital?1:0,t.publisherID=n.publisherID,console.log(t),c={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(l.a)({},t))},fetch("api/admin/addbooks",c).then((function(e){return e.json()})).then((function(e){i=e[0].bookID,console.log(i),a.forEach((function(e){fetch("api/admin/authorbond/"+i+"/"+e.authorID)})),r.forEach((function(e){fetch("/api/admin/genrebond/"+i+"/"+e.genreID)}))}));case 8:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}();function xa(e){var t=ja(),n=e.open,r=e.handleClose,c=i.a.useState({}),s=Object(o.a)(c,2),u=s[0],j=s[1],d=i.a.useState([]),b=Object(o.a)(d,2),h=b[0],p=b[1],f=i.a.useState([]),v=Object(o.a)(f,2),y=v[0],w=v[1],k=i.a.useState([]),N=Object(o.a)(k,2),C=N[0],S=N[1],D=i.a.useState([]),I=Object(o.a)(D,2),B=I[0],T=I[1],R=i.a.useState({}),L=Object(o.a)(R,2),W=L[0],P=L[1],E=i.a.useState([]),A=Object(o.a)(E,2),z=A[0],F=A[1];i.a.useEffect((function(){pa().then((function(e){return p(e)})),fa().then((function(e){w(e),P(e[0])})),ma().then((function(e){return S(e)}))}),[n]);var H=function(){j({}),T([]),F([]),P({})};return Object(a.jsx)("div",{children:Object(a.jsxs)(Dt.a,{open:n,onClose:r,"aria-labelledby":"form-dialog-title",children:[Object(a.jsx)(Rt.a,{id:"form-dialog-title",children:"Insert Book"}),Object(a.jsxs)(Bt.a,{children:[Object(a.jsx)(Tt.a,{children:"*To change the entry just modify the previous values and hit update"}),Object(a.jsx)(O.a,{autoFocus:!0,margin:"dense",label:"Title",fullWidth:!0,value:u.title||"",onChange:function(e){u.title=e.target.value,j(Object(l.a)({},u))}}),Object(a.jsx)(O.a,{margin:"dense",label:"Description",fullWidth:!0,multiline:!0,rows:4,value:u.description||"",onChange:function(e){u.description=e.target.value,j(Object(l.a)({},u))}}),Object(a.jsx)(O.a,{label:"Date",type:"date",style:{marginTop:10},fullWidth:!0,defaultValue:"2020-05-24",InputLabelProps:{shrink:!0},onChange:function(e){u.date=e.target.value,j(Object(l.a)({},u))}}),Object(a.jsx)(x.a,{style:{paddingTop:10,paddingBottom:10},control:Object(a.jsx)(g.a,{checked:u.isDigital||!1,onChange:function(){void 0===u.isDigital?u.isDigital=!0:u.isDigital=!u.isDigital,j(Object(l.a)({},u))},inputProps:{"aria-label":"primary checkbox"}}),label:"Is Digital"}),Object(a.jsx)(O.a,{margin:"dense",label:"Price",fullWidth:!0,value:u.price||"",onChange:function(e){u.price=e.target.value,j(Object(l.a)({},u))}}),Object(a.jsx)(O.a,{margin:"dense",label:"Pages",fullWidth:!0,value:u.pages||"",onChange:function(e){u.pages=e.target.value,j(Object(l.a)({},u))}}),Object(a.jsxs)(la.a,{className:t.formControld,fullWidth:!0,children:[Object(a.jsx)(oa.a,{children:"Publisher"}),Object(a.jsx)(ua.a,{value:W,renderValue:function(e){return void 0===e.name?"":e.name},onChange:function(e){P(e.target.value)},children:y.map((function(e,t){return Object(a.jsx)(et.a,{value:e,children:e.name},t)}))})]}),Object(a.jsxs)(la.a,{className:t.formControld,fullWidth:!0,children:[Object(a.jsx)(oa.a,{children:"Authors"}),Object(a.jsx)(ua.a,{multiple:!0,value:B,onChange:function(e){T(e.target.value)},input:Object(a.jsx)(sa.a,{}),renderValue:function(e){var t="";return e.forEach((function(e){t+=", "+e.firstName+" "+e.lastName})),t=t.slice(1,t.length)},MenuProps:ga,children:h.map((function(e,t){return Object(a.jsxs)(et.a,{value:e,children:[Object(a.jsx)(g.a,{checked:B.indexOf(e)>-1}),Object(a.jsx)(K.a,{primary:e.firstName+" "+e.lastName})]},t)}))})]}),Object(a.jsxs)(la.a,{className:t.formControld,fullWidth:!0,children:[Object(a.jsx)(oa.a,{children:"Genres"}),Object(a.jsx)(ua.a,{multiple:!0,value:z,onChange:function(e){F(e.target.value)},input:Object(a.jsx)(sa.a,{}),renderValue:function(e){var t="";return e.forEach((function(e){t+=", "+e.name})),t=t.slice(1,t.length)},MenuProps:ga,children:C.map((function(e,t){return Object(a.jsxs)(et.a,{value:e,children:[Object(a.jsx)(g.a,{checked:z.indexOf(e)>-1}),Object(a.jsx)(K.a,{primary:e.name})]},t)}))})]})]}),Object(a.jsxs)(It.a,{children:[Object(a.jsx)(m.a,{onClick:function(){H(),r()},color:"primary",children:"Cancel"}),Object(a.jsx)(m.a,{onClick:function(){Oa(u,W,B,z),H(),r()},color:"primary",children:"Insert"})]})]})})}var ga={PaperProps:{style:{maxHeight:224,width:250}}};function va(){var e=ka(),t=i.a.useState(0),n=Object(o.a)(t,2),r=n[0],c=n[1],s=[{content:Object(a.jsx)(Na,{})},{content:Object(a.jsx)(Mn,{})},{content:Object(a.jsx)(Qn,{})},{content:Object(a.jsx)(ia,{})},{content:Object(a.jsx)(ha,{})}];return Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsx)(y.a,{elevation:1,children:Object(a.jsxs)(Nn.a,{value:r,onChange:function(e,t){c(t)},indicatorColor:"primary",textColor:"primary",children:[Object(a.jsx)(Cn.a,Object(l.a)({label:"Dashboard"},wa(0))),Object(a.jsx)(Cn.a,Object(l.a)({label:"Authors"},wa(1))),Object(a.jsx)(Cn.a,Object(l.a)({label:"Publishers"},wa(2))),Object(a.jsx)(Cn.a,Object(l.a)({label:"Genres"},wa(3))),Object(a.jsx)(Cn.a,Object(l.a)({label:"Books"},wa(4)))]})}),s.map((function(e,t){return Object(a.jsx)(ya,{value:r,index:t,children:e.content},t)}))]})}function ya(e){var t=e.children,n=e.value,r=e.index,i=Object(kn.a)(e,["children","value","index"]);return Object(a.jsx)("div",Object(l.a)(Object(l.a)({role:"tabpanel",hidden:n!==r,id:"simple-tabpanel-".concat(r),"aria-labelledby":"simple-tab-".concat(r)},i),{},{children:n===r&&Object(a.jsx)(w.a,{p:3,children:t})}))}function wa(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var ka=Object(d.a)((function(e){return{root:{flexGrow:1,backgroundColor:"#f5f5f5",marginLeft:20,marginRight:20,marginTop:15},fab:{position:"absolute",bottom:e.spacing(2),right:e.spacing(2)}}}));function Na(){return Object(a.jsx)(y.a,{children:Object(a.jsxs)("div",{style:{padding:30,paddingBottom:100},children:[Object(a.jsx)(S.a,{variant:"h3",children:" Dashboard "}),Object(a.jsx)(S.a,{variant:"h5",style:{paddingTop:40},children:"Here you can view the database."}),Object(a.jsx)(S.a,{variant:"h6",children:"You can also insert, update and delete entries."}),Object(a.jsx)(Dn.a,{style:{fontSize:50}})]})})}var Ca=Object(d.a)((function(e){var t;return{root:(t={marginRight:"10%",marginLeft:"10%"},Object(Y.a)(t,e.breakpoints.down("sm"),{marginRight:"0%",marginLeft:"0%"}),Object(Y.a)(t,"paddingBottom",50),t),title:Object(Y.a)({marginBottom:30,color:"#333333",fontSize:"1.8em"},e.breakpoints.down("sm"),{marginRight:"10%",marginLeft:"10%"}),listPaper:{marginBottom:7}}})),Sa=function(){var e=Object(E.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/allauthors").then((function(e){return e.json()})).then((function(e){return e}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Da(e){var t=Ca(),n=i.a.useState([]),r=Object(o.a)(n,2),c=r[0],s=r[1],l=Object(j.h)();return i.a.useEffect((function(){return Sa().then((function(e){return s(e)})),function(){s([])}}),[]),Object(a.jsxs)("div",{className:t.root,children:[Object(a.jsx)(S.a,{variant:"h4",className:t.title,children:"All Authors"}),Object(a.jsx)(_.a,{in:!0,children:Object(a.jsx)(X.a,{children:c.map((function(e,n){return Object(a.jsx)("div",{children:Object(a.jsx)(y.a,{variant:"outlined",className:t.listPaper,children:Object(a.jsxs)(Z.a,{button:!0,style:{paddingTop:10,paddingBottom:10},component:u.b,to:"/author/"+e.authorID,replace:l.pathname==="/author/"+e.authorID,children:[Object(a.jsx)(Q.a,{children:Object(a.jsx)(f.a,{style:{backgroundColor:"#1976d2"},children:e.firstName.charAt(0).toUpperCase()+e.lastName.charAt(0).toUpperCase()})}),Object(a.jsx)(K.a,{primary:e.firstName+" "+e.lastName,secondary:e.booksCount+" books"}),Object(a.jsx)($.a,{})]})})},n)}))})})]})}var Ia=Object(d.a)((function(e){var t;return{root:(t={marginRight:"10%",marginLeft:"10%"},Object(Y.a)(t,e.breakpoints.down("sm"),{marginRight:"0%",marginLeft:"0%"}),Object(Y.a)(t,"paddingBottom",50),t),title:Object(Y.a)({marginBottom:30,color:"#333333",fontSize:"1.8em"},e.breakpoints.down("sm"),{marginRight:"10%",marginLeft:"10%"}),listPaper:{marginBottom:7}}})),Ba=function(){var e=Object(E.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/allpublishers").then((function(e){return e.json()})).then((function(e){return e}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Ta(e){var t=Ia(),n=i.a.useState([]),r=Object(o.a)(n,2),c=r[0],s=r[1],l=Object(j.h)();return i.a.useEffect((function(){return Ba().then((function(e){return s(e)})),function(){s([])}}),[]),Object(a.jsxs)("div",{className:t.root,children:[Object(a.jsx)(S.a,{variant:"h4",className:t.title,children:"All Publishers"}),Object(a.jsx)(_.a,{in:!0,children:Object(a.jsx)(X.a,{children:c.map((function(e,n){return Object(a.jsx)("div",{children:Object(a.jsx)(y.a,{variant:"outlined",className:t.listPaper,children:Object(a.jsxs)(Z.a,{button:!0,style:{paddingTop:10,paddingBottom:10},component:u.b,to:"/publisher/"+e.publisherID,replace:l.pathname==="/publisher/"+e.publisherID,children:[Object(a.jsx)(Q.a,{children:Object(a.jsx)(f.a,{style:{backgroundColor:"#1976d2"},children:e.name.charAt(0).toUpperCase()})}),Object(a.jsx)(K.a,{primary:e.name,secondary:e.booksCount+" books"}),Object(a.jsx)($.a,{})]})})},n)}))})})]})}var Ra=Object(d.a)((function(e){var t;return{root:(t={marginRight:"10%",marginLeft:"10%"},Object(Y.a)(t,e.breakpoints.down("sm"),{marginRight:"0%",marginLeft:"0%"}),Object(Y.a)(t,"paddingBottom",50),t),title:Object(Y.a)({marginBottom:30,color:"#333333",fontSize:"1.8em"},e.breakpoints.down("sm"),{marginRight:"10%",marginLeft:"10%"}),grid:Object(Y.a)({},e.breakpoints.down("sm"),{justifyContent:"space-evenly",paddingLeft:0,paddingRight:0}),gridItem:{display:"flex",alignItems:"center"}}})),La=function(){var e=Object(E.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/genres/"+t).then((function(e){return e.json()})).then((function(e){return e}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Wa(e){var t=Ra(),n=e.match.params.genre,r=i.a.useState(null),c=Object(o.a)(r,2),s=c[0],l=c[1],u=i.a.useState(!1),j=Object(o.a)(u,2),d=j[0],b=j[1];return i.a.useEffect((function(){b(!1)}),[n]),i.a.useEffect((function(){d||b(!0),d&&La(n).then((function(e){return l(e)}))}),[d,n]),Object(a.jsxs)("div",{className:t.root,children:[Object(a.jsxs)(S.a,{variant:"h4",className:t.title,children:["All Books In ",n]}),null===s?Object(a.jsx)(a.Fragment,{}):Object(a.jsx)(a.Fragment,{children:d?Object(a.jsx)(ee.a,{in:!0,children:Object(a.jsx)(k.a,{container:!0,spacing:0,direction:"row",justify:"flex-start",alignItems:"flex-start",className:t.grid,children:s.map((function(e,t){return Object(a.jsx)(k.a,{item:!0,children:Object(a.jsx)(w.a,{display:"flex",justifyContent:"center",style:{minWidth:170},children:Object(a.jsx)(en,{book:e})})},t)}))})}):null})]})}var Pa=Object(d.a)((function(e){return{root:Object(Y.a)({marginRight:"10%",marginLeft:"10%"},e.breakpoints.down("sm"),{marginRight:"0%",marginLeft:"0%"}),title:Object(Y.a)({marginBottom:30,color:"#333333",fontSize:"1.8em"},e.breakpoints.down("sm"),{marginRight:"10%",marginLeft:"10%"}),listPaper:{marginBottom:7}}})),Ea=function(){var e=Object(E.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/long-search/"+t).then((function(e){return e.json()})).then((function(e){return e}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Aa(e){var t=Pa(),n=e.match.params.name,r=i.a.useState([]),c=Object(o.a)(r,2),s=c[0],l=c[1],d=Object(j.h)();return i.a.useEffect((function(){Ea(n).then((function(e){return l(e)}))}),[n]),Object(a.jsxs)("div",{className:t.root,children:[Object(a.jsxs)(S.a,{variant:"h4",className:t.title,children:["Search Results for: ",n]}),Object(a.jsx)(_.a,{in:!0,children:Object(a.jsx)(X.a,{component:"nav","aria-label":"search elements",children:s.map((function(e,n){return Object(a.jsx)("div",{children:Object(a.jsx)(y.a,{variant:"outlined",className:t.listPaper,children:Object(a.jsxs)(Z.a,{button:!0,component:u.b,to:"/book/"+e.bookID,replace:d.pathname==="/book/"+e.bookID,children:[Object(a.jsx)(fe.a,{children:Object(a.jsx)("img",{src:"/resources/"+(e.coverPicture||"cover.jpg"),alt:"",style:{height:60,width:40}})}),Object(a.jsx)(K.a,{primary:e.title,secondary:"Publisher: "+e.name}),Object(a.jsx)($.a,{className:t.listItemIcon,children:Object(a.jsx)(qe.a,{})})]},n)})},n)}))})})]})}var za=Object(b.a)({palette:{primary:{main:"#1976d2"}}}),Fa=Object(d.a)((function(e){return{root:{display:"flex",height:"100%"},toolbar:Object(l.a)(Object(l.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),{},{marginBottom:48}),content:{flexGrow:1}}}));var Ha=function(){var e=Fa(),t=Object(r.useState)(null),n=Object(o.a)(t,2),i=n[0],c=n[1],s=Object(r.useState)(!1),d=Object(o.a)(s,2),b=d[0],f=d[1];Object(r.useEffect)((function(){var e=JSON.parse(localStorage.getItem("user"));if(null!==e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e.username,password:e.password})};fetch("/api/login",t).then((function(e){return e.json()})).then((function(e){e.length>0?c(e[0]):c({username:"",password:""})}))}else c({username:"",password:""})}),[]);var m=function(e){c(Object(l.a)({},e)),localStorage.setItem("user",JSON.stringify(e))},O=function(){return null!=i&&""!==i.username&&""!==i.password},x=function(){return f(!b)};return null!==i?Object(a.jsx)(h.a,{theme:za,children:Object(a.jsx)(u.a,{children:Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsx)(mt,{isLogged:O(),userData:i,logOut:function(){c({username:"",password:""}),localStorage.setItem("user",null)},rmh:b}),Object(a.jsxs)("main",{className:e.content,children:[Object(a.jsx)("div",{className:e.toolbar}),Object(a.jsx)(p,{children:Object(a.jsxs)(j.d,{children:[Object(a.jsx)(j.b,{exact:!0,path:"./login",render:function(){return O()?Object(a.jsx)(j.a,{to:"./"}):Object(a.jsx)(L,{setUser:m})}}),Object(a.jsx)(j.b,{exact:!0,path:"./signup",render:function(){return O()?Object(a.jsx)(j.a,{to:"/"}):Object(a.jsx)(H,{})}}),Object(a.jsx)(j.b,{exact:!0,path:"./",component:ie}),Object(a.jsx)(j.b,{exact:!0,path:"./search/:name",render:function(e){return Object(a.jsx)(Aa,Object(l.a)({},e))}}),Object(a.jsx)(j.b,{exact:!0,path:"./books",render:function(e){return Object(a.jsx)(wn,Object(l.a)({},e))}}),Object(a.jsx)(j.b,{exact:!0,path:"./publishers",render:function(e){return Object(a.jsx)(Ta,Object(l.a)({},e))}}),Object(a.jsx)(j.b,{exact:!0,path:"./authors",render:function(e){return Object(a.jsx)(Da,Object(l.a)({},e))}}),Object(a.jsx)(j.b,{exact:!0,path:"./author/:id",render:function(e){return Object(a.jsx)(fn,Object(l.a)({},e))}}),Object(a.jsx)(j.b,{exact:!0,path:"./publisher/:id",render:function(e){return Object(a.jsx)(gn,Object(l.a)({},e))}}),Object(a.jsx)(j.b,{exact:!0,path:"./book/:id",render:function(e){return Object(a.jsx)(on,Object(l.a)({user:i,remountHeader:x},e))}}),Object(a.jsx)(j.b,{exact:!0,path:"./genre/:genre",render:function(e){return Object(a.jsx)(Wa,Object(l.a)({},e))}}),Object(a.jsx)(j.b,{exact:!0,path:"./favorites",render:function(e){return O()?Object(a.jsx)(dn,Object(l.a)({user:i,remountHeader:x},e)):Object(a.jsx)(j.a,{to:"/"})}}),Object(a.jsx)(j.b,{exact:!0,path:"./admin",render:function(){return O()&&i.isAdmin?Object(a.jsx)(va,{setUser:m}):Object(a.jsx)(j.a,{to:"./"})}})]})})]})]})})}):Object(a.jsx)(a.Fragment,{})},Ua=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,274)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))};s.a.render(Object(a.jsx)(Ha,{}),document.getElementById("root")),Ua()}},[[187,1,2]]]);
//# sourceMappingURL=main.acbd9a7a.chunk.js.map