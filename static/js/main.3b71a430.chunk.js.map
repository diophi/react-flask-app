{"version":3,"sources":["components/Layout/ScrollToTop.js","components/User/SignIn.js","components/User/SignUp.js","components/HomePage/HomePage.js","components/Layout/MainMenu/MainMenu.js","components/Layout/MainMenu/PermanentDrawer.js","components/Layout/MainMenu/TemporaryDrawer.js","components/Layout/SearchBar.js","components/Layout/SearchButton.js","components/Layout/UserMenu.js","components/Layout/AppHeader.js","components/BookPage/Review.js","components/BookPage/WriteReviewButton.js","components/BookPage/ReviewsBlock.js","components/BookPage/FavoriteButton.js","components/BookPage/AdditionalInfo.js","components/BookPage/BookBlock.js","components/Layout/BookTile.js","components/BookPage/RecommendedBooks.js","components/BookPage/BookPage.js","components/FavoritePage/FavoritePage.js","components/AuthorPage/AuthorPage.js","components/PublisherPage/PublisherPage.js","components/AllBooksPage/AllBooksPage.js","components/AdminPage/AuthorsPanel.js","components/AdminPage/PublishersPanel.js","components/AdminPage/GenresPanel.js","components/AdminPage/BooksPanel.js","components/AdminPage/AdminPage.js","components/AuthorPage/AllAuthorsPage.js","components/PublisherPage/AllPublishersPage.js","components/AllBooksPage/GenreBooksPage.js","components/SearchPage/SearchPage.js","App.js","reportWebVitals.js","index.js"],"names":["withRouter","history","children","useEffect","unlisten","listen","window","scrollTo","useStyles","makeStyles","theme","root","image","backgroundImage","backgroundRepeat","backgroundColor","palette","type","grey","backgroundSize","backgroundPosition","display","paper","margin","spacing","flexDirection","alignItems","avatar","primary","main","form","width","marginTop","submit","coverLogo","fontSize","fontWeight","color","height","textAlign","Alert","props","elevation","variant","Copyright","style","paddingBottom","Typography","align","href","Date","getFullYear","SignInSide","classes","useState","username","password","currUser","setCurrUser","error","setError","Paper","maxWidth","minWidth","className","Avatar","component","noValidate","TextField","required","fullWidth","id","label","name","autoComplete","autoFocus","onChange","event","target","value","FormControlLabel","control","Checkbox","Button","onClick","requestOptions","method","headers","body","JSON","stringify","fetch","then","response","json","data","length","setUser","checkUser","Snackbar","open","anchorOrigin","vertical","horizontal","autoHideDuration","onClose","reason","severity","Grid","container","item","xs","Link","to","Box","mt","padding","a","user","registerUser","email","firstName","lastName","SignUp","useHistory","disabled","undefined","push","getPublishers","publishers","getBooks","books","HomePage","location","useLocation","React","checked","setChecked","setPublishers","setBooks","Collapse","in","marginBottom","justifyContent","IconButton","prev","Fade","src","alt","banner","bannerText","highRatedBooks","title","Grow","direction","justify","grid","map","book","index","tileRoot","imageHolder","bookID","replace","coverPicture","details","noWrap","tileTitle","rating","popularPublishers","paddingTop","List","publisher","listPaper","ListItem","button","publisherID","pathname","ListItemAvatar","charAt","toUpperCase","ListItemText","secondary","ReviewsCount","ListItemSecondaryAction","marginRight","marginLeft","breakpoints","down","background","paddingLeft","paddingRight","lineHeight","textDecoration","borderBottom","getAllGenres","genres","menuList","icon","path","MainMenu","toggleDrawer","setOpen","setGenres","flex","ListItemIcon","Divider","timeout","unmountOnExit","disablePadding","genre","PermanentDrawer","Drawer","clsx","drawer","drawerOpen","drawerClose","toolbar","flexShrink","whiteSpace","transition","transitions","create","easing","sharp","duration","enteringScreen","leavingScreen","overflowX","mixins","TemporaryDrawer","anchor","edge","menuButton","aria-label","input","searchButton","searchListRoot","position","zIndex","borderTopLeftRadius","borderTopRightRadius","listItemIcon","getBook","searchQuery","SearchBar","isTyping","setTyping","text","setText","results","setResults","handleTyping","handleClose","ClickAwayListener","onClickAway","InputBase","placeholder","onFocus","borderColor","getFavoriteCount","userID","count","UserMenu","userData","anchorEl","setAnchorEl","favoriteCount","setFavoriteCount","rmh","disableFocusRipple","Badge","badgeContent","showZero","currentTarget","getContentAnchorEl","transformOrigin","keepMounted","Boolean","MenuItem","outline","isAdmin","logOut","AppHeader","openPerm","setOpenPerm","openTemp","setOpenTemp","handleTemporaryDrawerOpen","AppBar","appBar","appBarShift","Toolbar","gridContainer","sm","gridLeft","gridCenter","gridRight","Hidden","smUp","isLogged","loginButton","mdDown","lgUp","hide","up","dateRating","starIcon","textBody","fontFamily","Review","date","getDay","getMonth","getShortDate","textContent","likes","border","boxShadow","slider","ratingBox","uploadReview","reviewData","WriteReviewDialog","bookData","setReviewData","startIcon","Dialog","aria-labelledby","DialogTitle","DialogContent","DialogContentText","multiline","rows","StarRating","setData","DialogActions","toJSON","slice","console","log","updateReviews","stars","setStars","blocked","setBlocked","lastIndex","setLastIndex","updateStarsOnEnter","new_stars","i","updateStarsOnLeave","clickStar","getValue","starss","forEach","star","onMouseLeave","onMouseEnter","reviewTitleBox","reviewTitle","reviewsCount","reviewsBox","getReviews","reviews","ReviewsBlock","setReviews","remount","setRemount","setCount","holdReviews","setHoldReviews","splice","overflow","review","addToFavorite","deleteFromFavorite","checkFavorite","isFavorite","FavoriteButton","setIsFavorite","Tooltip","placement","remountHeader","getBookGenres","allGenres","substring","AdditionalInfo","info","content","publisherName","isDigital","pages","price","obj","contentText","BookBlock","bookBox","imageBox","textInfo","authors","author","authorID","descriptionBox","description","fontVariant","overflowWrap","BookTile","authorNameID","authorName","getRecommendedBooks","RecommendedBooks","rootTitle","getAuthors","getRating","getBookJSON","Object","noBook","BookPage","setBookData","match","params","m","gridItem","getFavoriteBooks","favorites","FavoritePage","minHeight","authorBox","authorIll","getAuthorData","noAuthor","authorData","getAuthorBooks","AuthorPage","setAuthor","getPublisherData","noPublisher","publisherData","getPublisherBooks","setPublisher","phone","address","underTitle","getAllBooks","AllBooksPage","table","fab","bottom","right","deleteAuthors","result","updateAuthors","addAuthors","AuthorsPanel","setAuthors","refresh","setRefresh","openDialog","setOpenDialog","selectedRow","setSelectedRow","handleOpenDialog","TableContainer","Table","TableHead","TableRow","TableCell","TableBody","row","deleteRow","FormDialog","handleClickOpen","Fab","newEntry","deletePublishers","updatePublishers","addPublishers","getGenres","deleteGenres","updateGenres","addGenres","GenresPanel","genreID","formControl","deleteBooks","size","addBook","personName","setPersonName","setPublisherName","genreName","setGenreName","clearAll","defaultValue","InputLabelProps","shrink","inputProps","FormControl","formControld","InputLabel","Select","renderValue","selected","multiple","Input","str","val","MenuProps","indexOf","PaperProps","maxHeight","ITEM_HEIGHT","AdminPage","setValue","tabComponents","Dashboard","Tabs","newValue","indicatorColor","textColor","Tab","a11yProps","comp","TabPanel","other","role","hidden","p","flexGrow","AllAuthorsPage","booksCount","AllPublishersPage","GenreBooksPage","getResults","SearchPage","createMuiTheme","App","setRmh","parsedUser","parse","localStorage","getItem","setUserCallback","setItem","isUserLogged","ThemeProvider","exact","render","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.3b71a430.chunk.js","sourcesContent":["import React, { useEffect, Fragment } from 'react';\nimport { withRouter } from 'react-router-dom';\n\nfunction ScrollToTop({ history, children }) {\n  useEffect(() => {\n    const unlisten = history.listen(() => {\n      window.scrollTo(0, 0);\n    });\n    return () => {\n      unlisten();\n    }\n  }, [history]);\n\n  return <Fragment>{children}</Fragment>;\n}\n\nexport default withRouter(ScrollToTop);","import React, {useEffect, useState} from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport MaterialLink from '@material-ui/core/Link';\nimport Paper from '@material-ui/core/Paper';\nimport Box from '@material-ui/core/Box';\nimport Grid from '@material-ui/core/Grid';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport MuiAlert from '@material-ui/lab/Alert';\n\nimport { Link, useLocation } from \"react-router-dom\";\n\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n   // height: '93.5vh',\n  },\n  image: {\n    backgroundImage: 'url(resources/cover.jpg)',\n    backgroundRepeat: 'no-repeat',\n    backgroundColor:\n      theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\n    backgroundSize: 'cover',\n    backgroundPosition: 'center',\n    display:'flex',\n  },\n  paper: {\n    margin: theme.spacing(8, 4),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.primary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n  coverLogo: {\n    display: 'flex',\n    '& > *': {\n      fontSize:30,\n      fontWeight:'bold',\n      color:'#3f51b5',\n      margin: theme.spacing(1),\n      width: theme.spacing(15),\n      height: theme.spacing(5),\n      textAlign: 'center',\n    },\n  },\n}));\n\nfunction Alert(props) {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n\nfunction Copyright() {\n    return (\n    <div style={{paddingBottom:10}}>\n      <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n        {'Copyright © '}\n        <a href=\"#\" style={{color:'#1976d2'}}>Books</a>\n        {' '}\n        {new Date().getFullYear()}\n        {'.'}\n      </Typography>\n      </div>\n    );\n}\n\nexport default function SignInSide(props) {\n  const classes = useStyles();\n\n  const [currUser, setCurrUser] = useState({username:'',password:''});\n  const [error, setError] = useState(false);\n  \n  useEffect(() => {\n    return () => {setCurrUser({username:'',password:''});}\n  },[])\n   \n  let checkUser = () => {\n    const requestOptions = {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ username: currUser.username, password: currUser.password})\n    };\n    \n    fetch('/api/login', requestOptions)\n          .then(response => response.json())\n          .then(data =>{ \n            data.length > 0 ? props.setUser(data[0]): setError(true);\n          });\n  }\n\n \n  return (\n    <div style={{\n      display: 'flex',\n      flexDirection: 'column',\n      //backgroundImage: 'url(resources/cover.jpg)',\n      alignItems: 'center',\n      height:'calc(100vh - 120px)',\n    }}>\n    <div>\n\n    </div>\n    \n      <Paper elevation={3} style={{marginTop:'10vh',maxWidth:'700px', minWidth:'300px'}}>\n        <div className={classes.paper}>\n          <Avatar className={classes.avatar}>\n            <LockOutlinedIcon />\n          </Avatar>\n          <Typography component=\"h1\" variant=\"h5\">\n            Sign in\n          </Typography>\n          <form className={classes.form} noValidate>\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"username\"\n              label=\"Username\"\n              name=\"username\"\n              autoComplete=\"username\"\n              autoFocus\n              onChange = { (event) => {currUser.username=event.target.value; setCurrUser({...currUser})}}\n            />\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"password\"\n              label=\"Password\"\n              type=\"password\"\n              id=\"password\"\n              autoComplete=\"current-password\"\n              onChange = { (event) => {currUser.password=event.target.value; setCurrUser({...currUser})}}\n            />\n            <FormControlLabel\n              control={<Checkbox value=\"remember\" color=\"primary\" />}\n              label=\"Remember me\"\n            />\n            <Button\n              //type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              className={classes.submit}\n              onClick = { ()=>{checkUser(); }}\n            >\n              Sign In\n            </Button>\n            <Snackbar open={error}\n                anchorOrigin={{ vertical:'bottom', horizontal:'right' }}\n                autoHideDuration={4000} \n                onClose={(event,reason) => {if(reason === 'clickaway') return; setError(false);}} \n            >\n                <Alert\n                onClose={(event,reason) => {if(reason === 'clickaway') return; setError(false);}}  \n                severity=\"error\">\n                    User not found!\n                </Alert>\n            </Snackbar>\n            <Grid container>\n              <Grid item xs>\n                <MaterialLink href=\"#\" variant=\"body2\">\n                  Forgot password?\n                </MaterialLink>\n              </Grid>\n              <Grid item>\n                <MaterialLink\n                    component={Link}\n                    to={\"/signup\"}\n                >\n                    {\"Don't have an account? Sign Up\"}\n                </MaterialLink>\n              </Grid>\n            </Grid>\n            <Box mt={5}>\n              <Copyright />\n            </Box>\n          </form>\n          </div>\n        </Paper>\n      \n        <div style={{padding:40}}></div>\n    </div>\n  );\n\n}","import React, {useEffect, useState} from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport MaterialLink from '@material-ui/core/Link';\nimport Paper from '@material-ui/core/Paper';\nimport Box from '@material-ui/core/Box';\nimport Grid from '@material-ui/core/Grid';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport MuiAlert from '@material-ui/lab/Alert';\n\nimport { Link, useHistory } from \"react-router-dom\";\n\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n   // height: '93.5vh',\n  },\n  image: {\n    backgroundImage: 'url(resources/cover.jpg)',\n    backgroundRepeat: 'no-repeat',\n    backgroundColor:\n      theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\n    backgroundSize: 'cover',\n    backgroundPosition: 'center',\n    display:'flex',\n  },\n  paper: {\n    margin: theme.spacing(8, 4),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.primary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n  coverLogo: {\n    display: 'flex',\n    '& > *': {\n      fontSize:30,\n      fontWeight:'bold',\n      color:'#3f51b5',\n      margin: theme.spacing(1),\n      width: theme.spacing(15),\n      height: theme.spacing(5),\n      textAlign: 'center',\n    },\n  },\n}));\n\nlet checkUser = async (currUser) => {\n    let user = await fetch('/api/checkuser/'+ (currUser.username || ''))\n    .then(response => response.json())\n    .then(data => data);\n\n    return user;\n}\n\nlet registerUser = async (currUser) => {\n    const requestOptions = {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ \n            username: currUser.username, \n            password: currUser.password,\n            email: currUser.email || ' ',\n            firstName: currUser.firstName || ' ',\n            lastName: currUser.lastName || ' '\n        })\n      };\n      \n    fetch('/api/signup', requestOptions)\n    .then(response => response);\n}\n\nexport default function SignUp(props) {\n    const classes = useStyles();\n    const history = useHistory();\n\n    const [currUser, setCurrUser] = useState({});\n    const [error, setError] = useState(false);\n\n    useEffect(() => {\n        return () => {setCurrUser({});}\n    },[])\n   \n    const handleSubmit = () => {\n        checkUser(currUser).then(data => {\n            if(data.length > 0) setError(true);\n            else{\n                registerUser(currUser).then(() => {history.push('/');});\n            } \n        });\n    }\n\n \n    return (\n    <div style={{\n        display: 'flex',\n        flexDirection: 'column',\n        //backgroundImage: 'url(resources/cover.jpg)',\n        alignItems: 'center',\n        height:'calc(100vh - 120px)',\n    }}>\n        <div></div>\n    \n        <Paper elevation={3} style={{marginTop:'1.9vh',maxWidth:'700px', minWidth:'300px'}}>\n        <div className={classes.paper}>\n            <Avatar className={classes.avatar}>\n                <LockOutlinedIcon />\n            </Avatar>\n            <Typography component=\"h1\" variant=\"h5\">\n                Create a new account\n            </Typography>\n            <form className={classes.form} noValidate>\n                <TextField\n                    variant=\"outlined\"\n                    margin=\"normal\"\n                    required\n                    fullWidth\n                    id=\"firstName\"\n                    label=\"First Name\"\n                    name=\"firstName\"\n                    autoComplete=\"firstName\"\n                    autoFocus\n                    value={currUser.firstName || ''}\n                    onChange = { (event) => {currUser.firstName=event.target.value; setCurrUser({...currUser})}}\n                />\n                <TextField\n                    variant=\"outlined\"\n                    margin=\"normal\"\n                    required\n                    fullWidth\n                    id=\"lastName\"\n                    label=\"Last Name\"\n                    name=\"lastName\"\n                    autoComplete=\"lastName\"\n                    value={currUser.lastName || ''}\n                    onChange = { (event) => {currUser.lastName=event.target.value; setCurrUser({...currUser})}}\n                />\n                <TextField\n                    variant=\"outlined\"\n                    margin=\"normal\"\n                    required\n                    fullWidth\n                    id=\"username\"\n                    label=\"Username\"\n                    name=\"username\"\n                    autoComplete=\"username\"\n                    value={currUser.username || ''}\n                    onChange = { (event) => {currUser.username=event.target.value; setCurrUser({...currUser})}}\n                />\n                <TextField\n                    variant=\"outlined\"\n                    margin=\"normal\"\n                    required\n                    fullWidth\n                    name=\"email\"\n                    label=\"Email\"\n                    type=\"email\"\n                    id=\"email\"\n                    value={currUser.email || ''}\n                    onChange = { (event) => {currUser.email=event.target.value; setCurrUser({...currUser})}}\n                />\n                <TextField\n                    variant=\"outlined\"\n                    margin=\"normal\"\n                    required\n                    fullWidth\n                    name=\"password\"\n                    label=\"Password\"\n                    type=\"password\"\n                    id=\"password\"\n                    autoComplete=\"current-password\"\n                    value={currUser.password || ''}\n                    onChange = { (event) => {currUser.password=event.target.value; setCurrUser({...currUser})}}\n                />\n                <Button\n                    fullWidth\n                    variant=\"contained\"\n                    color=\"primary\"\n                    disabled={ currUser.username === '' || currUser.username === undefined\n                                || currUser.password === '' || currUser.password === undefined\n                    }\n                    className={classes.submit}\n                    onClick={handleSubmit}\n                >\n                    Sign Up\n                </Button>\n                <Snackbar open={error}\n                    anchorOrigin={{ vertical:'bottom', horizontal:'right' }}\n                    autoHideDuration={4000} \n                    onClose={(event,reason) => {if(reason === 'clickaway') return; setError(false);}} \n                >\n                    <Alert\n                    onClose={(event,reason) => {if(reason === 'clickaway') return; setError(false);}}  \n                    severity=\"error\">\n                        User already exists!\n                    </Alert>\n                </Snackbar>\n                <Grid container>\n                    <Grid item xs>\n                    \n                    </Grid>\n                    <Grid item>\n                    <MaterialLink\n                        component={Link}\n                        to={\"/login\"}\n                    >\n                        {\"Already have an account? Log in here\"}\n                    </MaterialLink>\n                    </Grid>\n                </Grid>\n                <Box mt={5}>\n                    <Copyright />\n                </Box>\n            </form>\n        </div>\n        </Paper>\n      \n    <div style={{padding:30}}></div>\n    </div>\n  );\n\n}\n\nfunction Alert(props) {\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n  \nfunction Copyright() {\n    return (\n    <div style={{paddingBottom:10}}>\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n        {'Copyright © '}\n        <a href=\"#copyright\" style={{color:'#1976d2'}}>Books</a>\n        {' '}\n        {new Date().getFullYear()}\n        {'.'}\n    </Typography>\n    </div>\n    );\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Collapse from '@material-ui/core/Collapse';\nimport Paper from '@material-ui/core/Paper';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { Box } from '@material-ui/core';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport Avatar from '@material-ui/core/Avatar';\nimport Grid from '@material-ui/core/Grid';\nimport Fade from '@material-ui/core/Fade';\nimport Grow from '@material-ui/core/Grow';\nimport StarIcon from '@material-ui/icons/Star';\n\nimport { Link, useLocation } from \"react-router-dom\";\n\n\nlet getPublishers=  async () => {\n    let publishers = await fetch('/api/homepage/popularpublishers')\n    .then(response => response.json())\n    .then(data => data );\n    \n    return publishers;\n}\n\nlet getBooks = async () => {\n    let books = await fetch('/api/homepage/highratedbooks')\n    .then(response => response.json())\n    .then(data => data);\n    \n    return books;\n}\n\nexport default function HomePage(props){\n    const classes = useStyles();\n    const location = useLocation();\n\n    const [checked, setChecked] = React.useState(true);\n    const [publishers, setPublishers] = React.useState([]);\n    const [books, setBooks] = React.useState([]);\n\n    React.useEffect(()=>{\n        getPublishers().then(data => setPublishers(data));\n        getBooks().then(data => setBooks(data));\n        return () => { setPublishers([]); setBooks([])}\n    },[]);\n\n    const handleChange = () => {\n      setChecked((prev) => !prev);\n    };\n\n    \n    return (\n        <div className={classes.root}>\n            <Collapse in={checked} style={{marginBottom:40}}>\n                <Paper style={{height:200}}>\n                    <div style={{width:'100%', display:'flex', justifyContent:'flex-end'}}>\n                        <IconButton onClick={handleChange}>\n                            <CloseIcon color=\"primary\" />\n                        </IconButton>\n                    </div>\n                        <Box display=\"flex\">\n                            <Fade in={true}>\n                                <img \n                                    src={\"/resources/homepage.png\"} alt=\"\" \n                                    className={classes.banner}\n                                />\n                            </Fade>\n                            <Box display=\"flex\" flexDirection=\"column\">\n                                <Typography color=\"primary\" variant=\"h4\" className={classes.bannerText}>\n                                    Welcome to books!\n                                </Typography>\n                                <Typography color=\"primary\" variant=\"h6\" className={classes.bannerText}>\n                                    This is a website about books, authors and publishers.\n                                </Typography>\n                                <Typography color=\"primary\" variant=\"body1\" className={classes.bannerText}>\n                                    You can even leave reviews or save favorite books.\n                                </Typography>\n                            </Box>\n                        </Box>\n                </Paper>\n            </Collapse>\n\n            <div className={classes.highRatedBooks}>\n                <Typography variant=\"h4\" className={classes.title}>\n                    High Rated Books\n                </Typography>\n                {books.length === 0 ? <></> :\n                    <>\n                    <Grow in={true}>\n                        <Grid \n                            container \n                            spacing={0}\n                            direction=\"row\"\n                            justify=\"flex-start\"\n                            alignItems=\"flex-start\"\n                            className={classes.grid}\n                        >\n                            {books.map((book, index)=>(\n                                <Grid key={index} item >\n                                    <Box display=\"flex\" justifyContent=\"center\" style={{minWidth:170}}>\n                                        <Paper elevation={2} className={classes.tileRoot}>\n                                            <Box>\n                                                <Grid container>\n                                                    <Button \n                                                        className={classes.imageHolder}  \n                                                        component={Link} \n                                                        to={\"/book/\" + book.bookID}\n                                                        replace={location === (\"/book/\" + book.bookID)}\n                                                    >\n                                                        <img src={\"/resources/\" + (book.coverPicture || \"cover.jpg\")} alt=\"\" className={classes.image}/>\n                                                    </Button>\n                                                    <Grid item xs={12} className={classes.details}>\n                                                        <Typography noWrap>\n                                                            <Link\n                                                                className={classes.tileTitle}\n                                                                to={\"/book/\" + book.bookID}\n                                                                replace={location === (\"/book/\" + book.bookID)}\n                                                            >\n                                                                {book.title}\n                                                            </Link>\n                                                        </Typography>\n                                                        <Box display=\"flex\">\n                                                            <Typography>{book.rating}</Typography>\n                                                            <StarIcon color=\"primary\" style={{marginTop:-2}}/>\n                                                        </Box>\n                                                    </Grid>\n                                                </Grid>\n                                            </Box>\n                                        </Paper>\n                                    </Box>\n                                </Grid>\n                            ))}\n                        </Grid>\n                    </Grow>\n                    </>\n                }\n            </div>\n\n            <div className={classes.popularPublishers} style={{paddingTop:15}}>\n                <Typography \n                    variant=\"h4\" \n                    className={classes.title}\n                >\n                    Popular Publishers\n                </Typography>\n                <Fade in={true}>\n                <List>\n                    {publishers.map((publisher, index) => (\n                        <div key={index}>\n                            <Paper variant=\"outlined\" className={classes.listPaper}>\n                                <ListItem \n                                    button \n                                    style={{paddingTop:10, paddingBottom:10}}\n                                    component={Link}\n                                    to={\"/publisher/\"+publisher.publisherID}\n                                    replace={location.pathname === (\"/publisher/\"+publisher.publisherID)}\n                                >\n                                    <ListItemAvatar>\n                                        <Avatar style={{backgroundColor:'#1976d2'}}>\n                                            {publisher.name.charAt(0).toUpperCase()}\n                                        </Avatar>\n                                    </ListItemAvatar>\n                                    <ListItemText \n                                        primary={publisher.name}\n                                        secondary={'Points: ' + publisher.ReviewsCount}\n                                    />\n                                    <ListItemSecondaryAction>\n                                    <Typography\n                                        variant=\"h4\"\n                                        color=\"primary\"\n                                    >\n                                        {index + 1} \n                                    </Typography>\n                                    </ListItemSecondaryAction>\n                                </ListItem>\n                            </Paper>\n                        </div >\n                    ))}\n                </List>\n                </Fade>\n            </div> \n        </div>\n    );\n\n}\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        paddingBottom:40,\n        marginRight:'10%',\n        marginLeft:'10%',\n        [theme.breakpoints.down('sm')]: {\n            marginRight:'0%',\n            marginLeft:'0%',\n        },\n    },\n    banner:{\n        marginTop:-40,\n        height:200,\n        [theme.breakpoints.down('sm')]: {\n            marginTop:-17,\n            height:150,\n        },\n    },\n    title:{\n        marginBottom:15,\n        color:'#333333',\n        fontSize:'1.8em',\n        [theme.breakpoints.down('sm')]: {\n            marginRight:'10%',\n            marginLeft:'10%',\n        },\n        \n    },\n    listPaper:{\n        marginBottom:7\n    },\n    popularPublishers:{\n        marginBottom:30\n    },\n    //book tile\n    tileRoot:{\n        marginBottom:20,\n        paddingBottom:5,\n        maxWidth:160,\n    },\n    imageHolder:{\n        textAlign:'center',\n        paddingTop:5,\n        width:'100%',\n\n        \"&:hover\": {\n            background: \"#efefef\",\n        },\n    },\n    image:{\n        width:150,\n        height:225,\n    },\n    details:{\n        marginTop:5,\n        paddingLeft:10,\n        paddingRight:10,\n    },\n    tileTitle:{\n        lineHeight:'1',\n        fontSize:15,\n        textDecoration:'none',\n        color:'#313131',\n        \"&:hover\": {\n           borderBottom:'0.5px solid #bbb' ,\n        },\n    },\n    bannerText:{\n        [theme.breakpoints.down('sm')]: {\n            fontSize:16,\n        },\n    }\n}));","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Divider from '@material-ui/core/Divider';\nimport ExpandLess from '@material-ui/icons/ExpandLess';\nimport ExpandMore from '@material-ui/icons/ExpandMore';\nimport HomeIcon from '@material-ui/icons/Home';\nimport WorkIcon from '@material-ui/icons/Work';\nimport FaceIcon from '@material-ui/icons/Face';\nimport LibraryBooksIcon from '@material-ui/icons/LibraryBooks';\nimport Collapse from '@material-ui/core/Collapse';\nimport SubdirectoryArrowRightIcon from '@material-ui/icons/SubdirectoryArrowRight';\nimport ExploreIcon from '@material-ui/icons/Explore';\n\nimport { Link, useLocation } from \"react-router-dom\";\nimport { Box } from '@material-ui/core';\n\nlet getAllGenres = async () => {\n    let genres = await fetch('/api/allgenres')\n    .then(response => response.json())\n    .then(data => data);\n    \n    return genres;\n}\n\n\nconst menuList = [\n    {\n        name: 'Home',\n        icon: <HomeIcon/>,\n        path: '/',\n    },\n    {\n        name: 'Books',\n        icon: <LibraryBooksIcon/>,\n        path: '/books',\n\n    },\n    {\n        name: 'Authors',\n        icon: <FaceIcon/>,\n        path: '/authors',\n    },\n    {\n        name: 'Publishers',\n        icon: <WorkIcon/>,\n        path: '/publishers',\n    }\n]\n\n\nexport default function MainMenu(props) {\n    const location = useLocation();\n    const toggleDrawer = props.toggleDrawer;\n\n    const [open, setOpen] = React.useState(true);\n    const [genres, setGenres] = React.useState([]);\n\n    React.useEffect(()=>{\n        getAllGenres().then(data => setGenres(data));\n    },[])\n\n    const handleClick = () => {\n      setOpen(!open);\n    };\n\n\n    return(\n        <Box display=\"flex\" flexDirection=\"column\" style={{height:'100%'}}>\n            <List style={{width:240, flex:1}}>\n            {menuList.map((item, index) => (\n                <ListItem \n                    button\n                    onClick={toggleDrawer}\n                    key={index} \n                    component={Link}\n                    to={item.path}\n                    replace={location.pathname === item.path}\n                >\n                    <ListItemIcon>\n                        {item.icon}\n                    </ListItemIcon>\n                    <ListItemText primary={item.name} />\n                </ListItem>\n            ))}\n                <Divider />\n                <ListItem button onClick={handleClick}>\n                <ListItemIcon>\n                    <ExploreIcon/>\n                </ListItemIcon>\n                <ListItemText primary={\"Genres\"} />\n                {open ? <ExpandLess /> : <ExpandMore />}\n                </ListItem>\n                <Collapse in={open && (genres.length > 0)} timeout=\"auto\" unmountOnExit>\n                    <List component=\"div\" disablePadding>\n                        {genres.map((genre,index) => (\n                            <ListItem \n                                button \n                                key={index} \n                                style={{paddingLeft:'2rem'}}\n                                component={Link}\n                                to={\"/genre/\" + genre.name}\n                                replace={location.pathname === (\"/genre/\" + genre.name)}\n                            >\n                                <ListItemIcon>\n                                    <SubdirectoryArrowRightIcon />\n                                </ListItemIcon>\n                                <ListItemText primary={genre.name} />\n                            </ListItem>\n                        ))}\n                    </List>\n                </Collapse>\n            </List>\n            <Copyright/>\n        </Box>\n    );\n}\n\nfunction Copyright() {\n    return (\n    <div style={{paddingBottom:10}}>\n      <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n        {'Copyright © '}\n        <a href=\"#\" style={{color:'#1976d2'}}>Books</a>\n        {' '}\n        {new Date().getFullYear()}\n        {'.'}\n      </Typography>\n      </div>\n    );\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Drawer from '@material-ui/core/Drawer';\nimport clsx from 'clsx';\n\nimport MainMenu from './MainMenu';\n\nconst drawerWidth = 240;\n\nexport default function PermanentDrawer(props) {\n    const classes = useStyles();\n\n    const open = props.open;\n\n    return (\n        <Drawer\n            variant=\"permanent\"\n            className={clsx(classes.drawer, {\n            [classes.drawerOpen]: open,\n            [classes.drawerClose]: !open,\n            })}\n            classes={{\n            paper: clsx({\n                [classes.drawerOpen]: open,\n                [classes.drawerClose]: !open,\n            }),\n            }}\n        >\n            <div className={classes.toolbar}/>\n            <MainMenu/>\n        </Drawer>\n    );\n\n}\n\nconst useStyles = makeStyles((theme) => ({\n    drawer: {\n      width: drawerWidth,\n      flexShrink: 0,\n      whiteSpace: 'nowrap',\n    },\n    drawerOpen: {\n      width: drawerWidth,\n      transition: theme.transitions.create('width', {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.enteringScreen,\n      }),\n    },\n    drawerClose: {\n      transition: theme.transitions.create('width', {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.leavingScreen,\n      }),\n      overflowX: 'hidden',\n      width: 0,\n    },\n    toolbar: {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'flex-end',\n      padding: theme.spacing(0, 1),\n      ...theme.mixins.toolbar,\n    },\n    \n}));","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Drawer from '@material-ui/core/Drawer';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport MenuBookIcon from '@material-ui/icons/MenuBook';\nimport Typography from '@material-ui/core/Typography';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Divider from '@material-ui/core/Divider';\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport {Link, useLocation} from 'react-router-dom';\n\nimport MainMenu from './MainMenu';\n\nconst drawerWidth = 240;\n\n\nexport default function TemporaryDrawer(props) {\n    const classes = useStyles();\n    const location = useLocation();\n\n    const open = props.open;\n    const toggleDrawer = props.toggleDrawer;\n\n    return (\n        <Drawer anchor={'left'} open={open} onClose={toggleDrawer}>\n            <List style={{paddingTop:0, paddingBottom:0}}>\n                <ListItem>\n                    <ListItemIcon> \n                        <IconButton \n                            edge=\"start\" \n                            className={classes.menuButton} \n                            color=\"inherit\" \n                            aria-label=\"menu\"\n                            onClick={toggleDrawer}\n                        >\n                            <CloseIcon/>\n                        </IconButton>\n                    </ListItemIcon>\n                    <ListItemText>\n                    <Typography\n                        className={classes.title}\n                        variant=\"h6\" \n                        component={Link}\n                        to=\"/\"\n                        replace={location.pathname === \"/\"}\n                    >\n                        <MenuBookIcon style={{marginTop:'-5px'}}/>\n                        Books\n                    </Typography>\n                    </ListItemText>\n                </ListItem>\n            </List>\n            <Divider/>\n            <MainMenu toggleDrawer={toggleDrawer}/>\n        \n        </Drawer>\n    );\n\n}\n\nconst useStyles = makeStyles((theme) => ({\n    drawer: {\n      width: drawerWidth,\n      flexShrink: 0,\n      whiteSpace: 'nowrap',\n    },\n    drawerOpen: {\n      width: drawerWidth,\n      transition: theme.transitions.create('width', {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.enteringScreen,\n      }),\n    },\n    drawerClose: {\n      transition: theme.transitions.create('width', {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.leavingScreen,\n      }),\n      overflowX: 'hidden',\n      width: 0,\n    },\n    toolbar: {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'flex-end',\n      padding: theme.spacing(0, 1),\n      ...theme.mixins.toolbar,\n    },\n    title: {\n        textDecoration: 'none',\n        color: '#000000DE',\n        fontWeight:'bold',\n        display:'flex',\n        alignItems:'center',\n    },\n}));","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport InputBase from '@material-ui/core/InputBase';\nimport IconButton from '@material-ui/core/IconButton';\nimport SearchIcon from '@material-ui/icons/Search';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport Fade from '@material-ui/core/Fade';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\n\nimport ArrowForwardIcon from '@material-ui/icons/ArrowForward';\n\n\nimport { Link, useLocation } from 'react-router-dom';\n\nconst useStyles = makeStyles((theme) => ({\n    root:{\n        width:'100%',\n    },\n    paper:{\n        display: 'flex',\n        alignItems: 'center',\n        width:'100%',\n    },\n    input:{\n        flex:1,\n        marginLeft:'15px',\n    },\n    searchButton:{\n        padding:'6px',\n    },\n    searchListRoot:{\n        position:'absolute',\n        zIndex:100,\n        //padding: '2px 4px',\n        width:'100%',\n        marginTop:'15px',\n        paddingTop:'15px',\n        paddingBottom:'15px',\n        borderTopLeftRadius:'0px',\n        borderTopRightRadius:'0px',\n    },\n    listItemIcon:{\n        color:\"rgba(0, 0, 0, 0.54)\",\n    }\n}));\n\nlet getBook = async (searchQuery) => {\n    let book = await fetch('/api/short-search/' + searchQuery)\n    .then(response => response.json())\n    .then(data => data);\n\n    return book;\n}\n\nexport default function SearchBar(){\n    const classes = useStyles();\n    const location = useLocation();\n\n    const [isTyping, setTyping] = React.useState(false);\n    const [text, setText] = React.useState(\"\");\n    const [results, setResults] = React.useState([]);\n\n    const handleTyping = (event) =>{\n        setText(event.target.value);\n\n        if(event.target.value.length > 0)\n            getBook(event.target.value).then(data => setResults(data));\n\n        event.target.value.length > 0 ?  setTyping(true) : setTyping(false);\n    };\n\n    const handleClose = () =>{\n        setTyping(false);\n    }\n\n\n    return(\n        <div className={classes.root}>\n            <ClickAwayListener onClickAway={handleClose}>\n                <div style={{width:'100%',position:'relative'}}>\n                    <Paper component=\"form\" className={classes.paper}>\n                        <InputBase \n                            className={classes.input}\n                            placeholder=\"Search for books\"\n                            onChange={handleTyping}\n                            onFocus={handleTyping}\n                        >\n                        </InputBase>\n                        <IconButton \n                            className={classes.searchButton}\n                            disabled={text.length === 0 ? true : false}\n                            component={Link}\n                            to={\"/search/\" + text}\n                            onClick={handleClose}\n                        >\n                            <SearchIcon/>\n                        </IconButton>\n                    </Paper>\n                    {isTyping ? (\n                        <Fade in={isTyping}>\n                        <Paper elevation={10} className={classes.searchListRoot}>\n                            <List component=\"nav\" aria-label=\"search elements\">\n                            {results.map((book, index)=>(\n                                <ListItem \n                                    button \n                                    key={index} \n                                    component={Link}\n                                    to={\"/book/\" + book.bookID}\n                                    replace={location.pathname === (\"/book/\" + book.bookID)}\n                                    onClick={handleClose}\n                                >\n                                    <ListItemIcon>\n                                        <img src={\"/resources/\" + (book.coverPicture || \"cover.jpg\")} alt=\"\" style={{height:60, width:40}}/>\n                                    </ListItemIcon>\n                                    <ListItemText>\n                                        {book.title}\n                                    </ListItemText>\n                                    <ListItemSecondaryAction className={classes.listItemIcon}>\n                                        <ArrowForwardIcon/>\n                                    </ListItemSecondaryAction>\n                                </ListItem>\n                            ))}\n                            {results.length === 0 ? \n                                <ListItem>No results</ListItem> : \n                                <ListItem \n                                    button\n                                    component={Link}\n                                    to={\"/search/\" + text}\n                                    replace={location.pathname === (\"/search/\" + text)}\n                                    onClick={handleClose}\n                                >\n                                    <ListItemText style={{textAlign:'center'}}>\n                                        More results\n                                    </ListItemText>\n                                </ListItem>\n                            }\n                            </List>\n                        </Paper>\n                        </Fade>\n                        ) : null\n                    }\n                </div>\n            </ClickAwayListener>\n        </div>\n    );\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport IconButton from '@material-ui/core/IconButton';\nimport SearchIcon from '@material-ui/icons/Search';\nimport { Link, useLocation } from 'react-router-dom';\n\nconst useStyles = makeStyles((theme) => ({\n    root:{\n        width:'100%',\n    },\n}));\n\nexport default function SearchBar(){\n    const classes = useStyles();\n    const location = useLocation();\n\n\n\n    return(\n       <IconButton style={{color:'white'}}>\n           <SearchIcon fontSize=\"large\"/>\n       </IconButton>\n    );\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport IconButton from '@material-ui/core/IconButton';\nimport Avatar from '@material-ui/core/Avatar';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Divider from '@material-ui/core/Divider';\nimport Badge from '@material-ui/core/Badge';\nimport AccountCircleOutlinedIcon from '@material-ui/icons/AccountCircleOutlined';\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport HelpIcon from '@material-ui/icons/Help';\nimport AssignmentIndIcon from '@material-ui/icons/AssignmentInd';\n\nimport {Link, useLocation} from 'react-router-dom';\n\nconst useStyles = makeStyles((theme) => ({\n   \n    button:{\n      color:'white',\n      borderColor:'white',\n      fontWeight:'bold',\n    },\n}));\n\nconst getFavoriteCount = async (userID) => {\n    let count = await fetch('/api/favorite/user/count/' + userID)\n    .then(response => response.json())\n    .then(data => data[0].count);\n\n   return count;\n}\n\n\n\nexport default function UserMenu(props){\n    const classes = useStyles();\n    const location = useLocation();\n\n    const user = props.userData;\n\n    const [anchorEl, setAnchorEl] = React.useState(null);\n    const [favoriteCount, setFavoriteCount] = React.useState(0);\n\n    React.useEffect(()=>{\n        getFavoriteCount(user.userID).then(data => setFavoriteCount(data));\n    },[user.userID, props.rmh]);\n\n    const handleClick = (event) => {\n      if(anchorEl==null) setAnchorEl(event.currentTarget);\n    };\n\n    const handleClose = () => {\n      setAnchorEl(null);\n    };\n\n    return(\n        <div>\n            <IconButton \n                className={classes.button}  \n                component={Link} \n                to=\"/favorites\"\n                replace={ location.pathname === \"/favorites\"}\n                disableFocusRipple\n            >\n                <Badge badgeContent={favoriteCount} color=\"error\" showZero>\n                    <FavoriteBorderIcon fontSize='large'/>\n                </Badge>\n            </IconButton>\n\n            <IconButton className={classes.button} onClick={handleClick}>\n                <AccountCircleOutlinedIcon fontSize='large'/>\n            </IconButton>\n        \n            <Menu\n                elevation={6}\n                getContentAnchorEl={null}\n                anchorOrigin={{\n                    vertical: 'bottom',\n                    horizontal: 'center',\n                }}\n                transformOrigin={{\n                    vertical: 'top',\n                    horizontal: 'center',\n                }}\n                anchorEl={anchorEl}\n                keepMounted\n                open={Boolean(anchorEl)}\n                onClose={handleClose}\n            > \n                <MenuItem button={false} style={{outline:'none'}}>\n                    <ListItemIcon>\n                    <Avatar>{user.firstName.charAt(0) + user.lastName.charAt(0)} </Avatar>\n                    </ListItemIcon>\n                    <ListItemText \n                        primary={user.firstName + \" \" + user.lastName} \n                        secondary={user.email}\n                    />\n                </MenuItem>\n                <MenuItem button={false} style={{outline:'none',paddingLeft: 65, marginTop: -10}}>\n                    <Button color=\"primary\">About account</Button>\n                </MenuItem>\n                <Divider/>\n                {user.isAdmin?\n                <MenuItem \n                    button\n                    component={Link} \n                    to=\"/admin\"\n                    replace={ location.pathname === \"/admin\"}\n                    onClick={handleClose}\n                >\n                    <ListItemIcon>\n                        <AssignmentIndIcon/>    \n                    </ListItemIcon>\n                    <ListItemText primary=\"Admin Panel\"/>\n                </MenuItem>\n                :null\n                }           \n                <MenuItem >\n                    <ListItemIcon>\n                        <SettingsIcon/>    \n                    </ListItemIcon>\n                    <ListItemText primary=\"Settings\"/>\n                </MenuItem>\n                <MenuItem >\n                    <ListItemIcon>\n                        <HelpIcon/>    \n                    </ListItemIcon>\n                    <ListItemText primary=\"Help\"/>\n                </MenuItem>\n                <MenuItem\n                    onClick={()=>{handleClose(); props.logOut();}}\n                >\n                    <ListItemIcon>\n                        <ExitToAppIcon/>    \n                    </ListItemIcon>\n                    <ListItemText primary=\"Log out\"/>\n                </MenuItem>\n            </Menu>\n        </div>\n    );\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport Box from '@material-ui/core/Box';\nimport Grid from '@material-ui/core/Grid'\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport MenuBookIcon from '@material-ui/icons/MenuBook';\nimport Hidden from '@material-ui/core/Hidden';\nimport clsx from 'clsx';\n\nimport { Link, useLocation } from \"react-router-dom\";\n\nimport PermanentDrawer from './MainMenu/PermanentDrawer';\nimport TemporaryDrawer from './MainMenu/TemporaryDrawer';\nimport SearchBar from './SearchBar';\nimport SearchButton from './SearchButton';\nimport UserMenu from './UserMenu';\n\n\nconst drawerWidth = 270;\n\nexport default function AppHeader(props) {\n    const classes = useStyles();\n    const location = useLocation();\n\n    const [openPerm, setOpenPerm] = React.useState(true);\n    const [openTemp, setOpenTemp] = React.useState(false);\n\n    const handlePermanentDrawerOpen = () => {\n        openPerm ? setOpenPerm(false) : setOpenPerm(true);\n    };\n\n    const handleTemporaryDrawerOpen = () => {\n        openTemp ? setOpenTemp(false) : setOpenTemp(true);\n    };\n\n\n    return (\n        <div className={classes.root}>\n            <AppBar \n                position=\"fixed\"\n                className={clsx(classes.appBar, {\n                    [classes.appBarShift]: openPerm,\n                })}\n            >\n                <Toolbar>\n                    <Grid container spacing={1} className={classes.gridContainer}>\n                        <Grid item sm={3} className={classes.gridLeft}>\n                            <Box display=\"flex\" justifyContent=\"flex-start\" alignItems=\"center\" style={{height:'100%'}}>\n                                <IconButton \n                                    edge=\"start\" \n                                    className={classes.menuButton} \n                                    color=\"inherit\" \n                                    aria-label=\"menu\"\n                                    onClick={()=>{\n                                        handlePermanentDrawerOpen(); \n                                        handleTemporaryDrawerOpen()\n                                    }}\n                                >\n                                    <MenuIcon/>\n                                </IconButton>\n                                <Typography\n                                    className={classes.title}\n                                    variant=\"h6\" \n                                    component={Link}\n                                    to=\"/\"\n                                    replace={location.pathname === \"/\"}\n                                >\n                                    <MenuBookIcon style={{marginTop:'-5px'}}/>\n                                    Books\n                                </Typography>\n                            </Box>\n                        </Grid>\n                        <Grid item sm={6} className={classes.gridCenter}>\n                            <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" style={{height:'100%'}}>\n                                <SearchBar/>\n                            </Box>\n                        </Grid>\n                        <Grid item sm={3} className={classes.gridRight}>\n                            <Box display=\"flex\" justifyContent=\"flex-end\" alignItems=\"center\" style={{height:'100%'}}>\n                                <Hidden smUp>\n                                    <SearchButton/>\n                                </Hidden>\n                                {props.isLogged?\n                                    <UserMenu \n                                        userData={props.userData} \n                                        logOut={props.logOut} \n                                        rmh={props.rmh}\n                                    />:\n                                    <div>\n                                        <Button\n                                            className={classes.loginButton}\n                                            variant=\"outlined\"\n                                            component={Link}\n                                            to=\"/login\"\n                                            replace={location.pathname === \"/login\"}\n                                        >\n                                            Log in \n                                        </Button>\n                                        <Button\n                                            className={classes.button}\n                                            variant=\"outlined\"\n                                            component={Link}\n                                            to=\"/signup\"\n                                            replace={location.pathname === \"/signup\"}\n                                        >\n                                            Sign up \n                                        </Button>\n                                    </div>\n                                }\n                            </Box>\n                        </Grid>\n                    </Grid>\n                </Toolbar>\n            </AppBar>\n            <Hidden mdDown>\n                <PermanentDrawer open={openPerm}/>\n            </Hidden>\n            <Hidden lgUp>\n                <TemporaryDrawer open={openTemp} toggleDrawer={handleTemporaryDrawerOpen}/>\n            </Hidden>\n\n        </div>\n    );\n\n}\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      //flexGrow: 0.5,\n    },\n    title: {\n      textDecoration: 'none',\n      color: 'white',\n      fontWeight:'bold',\n      display:'flex',\n      alignItems:'center',\n      marginLeft:10,\n    },\n    button:{\n      color:'white',\n      borderColor:'white',\n      fontWeight:'bold',\n    },\n    loginButton:{\n        color:'white',\n        borderColor:'white',\n        fontWeight:'bold',\n        marginRight: theme.spacing(2),\n    },\n    appBar: {\n      zIndex: theme.zIndex.drawer + 1,\n      transition: theme.transitions.create(['width', 'margin'], {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.leavingScreen,\n      }),\n    },\n    appBarShift: {\n      transition: theme.transitions.create(['width', 'margin'], {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.enteringScreen,\n      }),\n    },\n    menuButton: {\n      \n    },\n    hide: {\n      display: 'none',\n    },\n    drawer: {\n      width: drawerWidth,\n      flexShrink: 0,\n      whiteSpace: 'nowrap',\n    },\n    drawerOpen: {\n      width: drawerWidth,\n      transition: theme.transitions.create('width', {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.enteringScreen,\n      }),\n    },\n    drawerClose: {\n      transition: theme.transitions.create('width', {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.leavingScreen,\n      }),\n      overflowX: 'hidden',\n      width: 0,\n    },\n    toolbar: {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'flex-end',\n      padding: theme.spacing(0, 1),\n      ...theme.mixins.toolbar,\n    },\n    gridContainer:{\n        [theme.breakpoints.up('sm')]: {\n            display:'flex',\n        },\n    },\n    gridLeft:{\n        //flex:0,\n        [theme.breakpoints.down('sm')]: {\n            flex:1,\n        },\n    },\n    gridCenter:{\n        display:'block',\n        [theme.breakpoints.down('sm')]: {\n            display:'none',\n        },\n        [theme.breakpoints.up('sm')]: {\n            display:'block',\n        },\n    },\n    gridRight:{\n\n    }\n    \n}));","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport Avatar from '@material-ui/core/Avatar';\nimport ThumbUpIcon from '@material-ui/icons/ThumbUp';\nimport IconButton from '@material-ui/core/IconButton';\nimport StarIcon from '@material-ui/icons/Star';\n\nconst useStyles = makeStyles((theme) => ({\n    root:{\n        marginBottom:20,\n        paddingLeft:'2%',\n    },\n    avatar:{\n        marginTop:5,\n        backgroundColor: 'orange',\n    },\n    dateRating:{\n        color:'#aaa',\n        fontSize:15,\n    },\n    starIcon:{\n        fontSize:'1rem',\n        marginBottom: '-1.5px',\n        marginRight:'10px',\n    },\n    textBody:{\n        fontFamily: 'system-ui',\n        fontWeight: 300,\n        color:\"333333\"\n    }\n\n}));\n\n\nexport default function Review(props){\n    const classes = useStyles();\n\n    const data = props.data;\n\n    let getShortDate =  () => {\n        const date = new Date(data.date);\n        let day = date.getDay();\n        let month = date.getMonth();\n        let year = date.getFullYear();\n        return day+'/'+month+'/'+year;\n    }\n\n    return(\n        <div className={classes.root}>\n            <Grid container spacing={1}>\n                <Grid item xs={1}>\n                    <Avatar className={classes.avatar}>                       \n                        {data.firstName.charAt(0) + data.lastName.charAt(0)}\n                    </Avatar>\n                </Grid>\n                <Grid item xs={10}>\n                    <Typography>\n                        {data.firstName + \" \" + data.lastName}\n                    </Typography>\n                    <Typography  variant=\"body2\" className={classes.dateRating}>\n                        {data.rating + '/5'} <StarIcon className={classes.starIcon}/>\n                        { \n                           getShortDate()\n                        }\n                    </Typography>\n                    <Typography  variant=\"body2\" className={classes.textBody}>\n                        {data.textContent}\n                    </Typography>\n                </Grid>\n                <Grid item xs={1} style={{textAlign:'center'}}>\n                    <IconButton>\n                        <ThumbUpIcon/>\n                    </IconButton>\n                    <Typography variant=\"caption\" display=\"block\">\n                        {data.likes}\n                    </Typography>\n                </Grid>\n            </Grid>\n        </div>\n    );\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport CreateIcon from '@material-ui/icons/Create';\nimport Divider from '@material-ui/core/Divider';\nimport Grid from '@material-ui/core/Grid';\nimport IconButton from '@material-ui/core/IconButton';\nimport Box from '@material-ui/core/Box';\nimport StarIcon from '@material-ui/icons/Star';\nimport StarBorderIcon from '@material-ui/icons/StarBorder';\n\nconst useStyles = makeStyles((theme) => ({\n    button:{\n\t\tcolor:'dimgrey',\n\t\tbackgroundColor:'white',\n\t\tborder:'1px solid #bbb'\n    },\n    image:{\n        width:125,\n        height:190,\n        boxShadow: '0px 0px 10px 0px',\n\t},\n\tstarIcon:{\n\t\tcolor:theme.palette.primary.main,\n\t\tmarginTop:'-3px',\n\t\t//color: 'white',\n\t},\n\tslider:{\n\t\tmaxWidth:300,\n\t\tmarginRight:20,\n\t},\n\tratingBox:{\n\t\tmarginTop:30,\n\t\tmarginBottom:20,\n\t}\n\n}));\n\nconst uploadReview = async (reviewData) => {\n    const requestOptions = {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(reviewData)\n    };\n    \n    await fetch('/api/add-review', requestOptions);\n          \n}\n\nexport default function WriteReviewDialog(props) {\n\tconst classes = useStyles();\n\tconst bookData = props.bookData;\n\tconst user = props.user;\n\n\tconst [open, setOpen] = React.useState(false);\n\tconst [reviewData, setReviewData] = React.useState({});\n\n\tconst handleClickOpen = () => {\n\t\tsetOpen(true);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t};\n\n\tconst handleSubmit = () => {\n\t\treviewData.userID = user.userID;\n\t\treviewData.bookID = bookData.bookID;\n\t\treviewData.likes = 0;\n\t\treviewData.date = new Date().toJSON().slice(0,10).replace(/-/g,'/');\n\t\tconsole.log(reviewData);\n\t\tuploadReview(reviewData);\n\t\tsetOpen(false);\n\t\tprops.updateReviews();\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<Button\n\t\t\t\tvariant=\"contained\"\n\t\t\t\tcolor=\"default\"\n\t\t\t\tclassName={classes.button}\n\t\t\t\tstartIcon={<CreateIcon/>}\n\t\t\t\tonClick={handleClickOpen}\n\t\t\t>\n\t\t\t\tWrite a review\n\t\t\t</Button>\n\t\t\t{user.username !== ''?\n\t\t\t\t<Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n\t\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t\tReview by {user.firstName + \" \" + user.lastName}\n\t\t\t\t\t</DialogTitle>\n\t\t\t\t\t<Divider/>\n\t\t\t\t\t<DialogContent>\n\t\t\t\t\t\t<DialogContentText>\n\t\t\t\t\t\t\tReviews are public and editable. \n\t\t\t\t\t\t\tPast edits are visible to the developer and users unless you delete your review altogether.\n\t\t\t\t\t\t</DialogContentText>\n\t\t\t\t\t\t<Grid container>\n\t\t\t\t\t\t\t<Grid item xs={3}>\n\t\t\t\t\t\t\t\t<img src={\"/resources/\" + (bookData.coverPicture || \"cover.jpg\")} alt=\"\" className={classes.image}/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item xs={9}>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tid=\"outlined-multiline-static\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"Tell others what you think about this book. Would you recommend it, and why?\"\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\t\trows={8}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tonChange={ \n\t\t\t\t\t\t\t\t\t\t(event) => {\n\t\t\t\t\t\t\t\t\t\t\treviewData.textContent=event.target.value; \n\t\t\t\t\t\t\t\t\t\t\tsetReviewData({...reviewData})\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"flex-end\" className={classes.ratingBox}>\n\t\t\t\t\t\t\t<StarRating \n\t\t\t\t\t\t\t\tsetData={\n\t\t\t\t\t\t\t\t\t(rating) => {\n\t\t\t\t\t\t\t\t\t\treviewData.rating=rating;\n\t\t\t\t\t\t\t\t\t\tsetReviewData({...reviewData})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</DialogContent>\n\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t<Button onClick={handleClose} variant=\"outlined\" color=\"primary\">\n\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button onClick={handleSubmit} variant=\"contained\" color=\"primary\">\n\t\t\t\t\t\t\tSubmit\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</DialogActions>\n\t\t\t\t</Dialog>:\n\t\t\t\t<Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n\t\t\t\t\t<DialogContent>\n\t\t\t\t\t\t<DialogContentText>\n\t\t\t\t\t\t\tYou must be logged to post a review.\n\t\t\t\t\t\t</DialogContentText>\n\t\t\t\t\t</DialogContent>\n\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t<Button onClick={handleClose} variant=\"outlined\" color=\"primary\">\n\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</DialogActions>\n\t\t\t\t</Dialog>\n\t\t\t}\n\t\t</div>\n\t);\n}\n\nfunction StarRating(props){\n\tconst classes = useStyles();\n\n\tconst [stars, setStars] = React.useState([0,0,0,0,0]);\n\tconst [blocked, setBlocked] = React.useState(false);\n\tconst [lastIndex, setLastIndex] = React.useState(-1);\n\n\tlet updateStarsOnEnter = (event) =>{\n\t\tif(!blocked){\n\t\t\tlet index = event.target.value;\n\t\t\tlet new_stars = [0,0,0,0,0];\n\t\t\tfor(let i=0;i<=index;i++){\n\t\t\t\tnew_stars[i] = 1;\n\t\t\t}\n\t\t\tsetStars(new_stars);\n\t\t}\n\t}\n\n\tlet updateStarsOnLeave = (event) =>{\n\t\tif(!blocked){\n\t\t\tlet index = event.target.value;\n\t\t\tlet new_stars = [0,0,0,0,0];\n\t\t\tfor(let i=0;i<index;i++){\n\t\t\t\tnew_stars[i] = 1;\n\t\t\t}\n\t\t\tsetStars(new_stars);\n\t\t}\n\t}\n\n\tlet resetStars = () =>{\n\t\tif(!blocked)\n\t\t\tsetStars([0,0,0,0,0]);\n\t}\n\n\tlet clickStar = (event) =>{\n\t\tlet index = event.currentTarget.value;\n\t\tif(lastIndex === -1){\n\t\t\tsetLastIndex(index);\n\t\t\tsetBlocked(true);\n\t\t\tprops.setData(getValue(stars));\n\t\t}\n\t\telse if(index!==lastIndex){\n\t\t\tsetBlocked(true);\n\t\t\tlet new_stars = [0,0,0,0,0];\n\t\t\tfor(let i=0;i<=index;i++){\n\t\t\t\tnew_stars[i] = 1;\n\t\t\t}\n\t\t\tsetLastIndex(index);\n\t\t\tsetStars(new_stars);\n\t\t\tprops.setData(getValue(stars));\n\t\t}\n\t\telse if(index===lastIndex){\n\t\t\tsetBlocked(false);\n\t\t\tsetLastIndex(-1);\n\t\t\tprops.setData(0);\n\t\t}\n\t\t\n\t}\n\n\tlet getValue = (starss) =>{\n\t\tlet count = 0;\n\t\tstarss.forEach(star => {if(star) count++;});\n\t\treturn count;\n\t}\n\n\treturn(\n\t\t<div onMouseLeave={resetStars}>\n\t\t\t{stars.map((star,index)=>(\n\t\t\t\tstar === 0 ?\n\t\t\t\t<IconButton key={index} value={index} onMouseEnter={updateStarsOnEnter} onClick={clickStar}>\n\t\t\t\t\t<StarBorderIcon className={classes.starIcon} fontSize=\"large\"/>\n\t\t\t\t</IconButton>:\n\t\t\t\t<IconButton key={index} value={index} onMouseLeave={updateStarsOnLeave} onClick={clickStar}>\n\t\t\t\t\t<StarIcon className={classes.starIcon} fontSize=\"large\"/>\n\t\t\t\t</IconButton>\n\t\t\t\n\t\t\t))}\n\t\t</div>\n\t);\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport GroupIcon from '@material-ui/icons/Group';\nimport Collapse from '@material-ui/core/Collapse';\n\nimport Review from './Review';\nimport WriteReviewButton from './WriteReviewButton';\n\nconst useStyles = makeStyles((theme) => ({\n    root:{\n        paddingBottom:30,\n    },\n    reviewTitleBox:{\n        margin:'2rem',\n        marginLeft: '3rem',\n        marginRight: '3rem',\n        alignItems:'baseline',\n        marginBottom:'3rem',\n    },\n    reviewTitle:{\n        flex:1,\n    },\n    reviewsCount:{\n        color:'#aaa',\n        fontSize:14,\n        display:'flex',\n        alignItems:'center',\n    },\n    reviewsBox:{\n        margin:'calc(2rem - 20px)',\n        marginLeft: '3rem',\n        marginRight: '3rem',\n    }\n\n}));\n\nconst getReviews = async (bookID) => {\n    let reviews = await fetch('/api/review/'+bookID)\n    .then(response => response.json())\n    .then(data => data);\n\n   return reviews;\n}\n\nexport default function ReviewsBlock(props){\n\n    const classes = useStyles();\n\n    const bookData = props.bookData;\n\n    const [reviews, setReviews] = React.useState([]);\n    const [remount, setRemount] = React.useState(false);\n    const [count, setCount] = React.useState(0);\n    const [holdReviews, setHoldReviews] = React.useState(true);\n\n    React.useEffect(() => {\n        getReviews(bookData.bookID)\n        .then(data => {\n            setCount(data.length);\n            holdReviews ? setReviews(data.splice(0,3)) : setReviews(data);\n        });\n\n       // return () =>{ setReviews([]); };\n    },[bookData.bookID, remount, holdReviews])\n\n    const updateReviews = () => { setRemount(!remount); }; \n\n    return(\n        <div className={classes.root}>\n            <Box component=\"div\" overflow=\"visible\" display=\"flex\"  className={classes.reviewTitleBox}>\n                <Box className={classes.reviewTitle}>\n                    <Typography>\n                        REVIEWS\n                    </Typography>\n                    <Typography className={classes.reviewsCount}>\n                        <GroupIcon style={{color:'grey'}}/>\n                        {count + \" total\"}\n                    </Typography>\n                </Box>\n                <WriteReviewButton bookData={bookData} user={props.user} updateReviews={updateReviews}/>\n            </Box>\n            <Box component=\"div\" overflow=\"visible\" className={classes.reviewsBox}>\n                <Collapse in={reviews.length > 0 ? true: false}>\n                    {reviews.map((review, index)=>(\n                        <Review key={index} data={review}/>\n                    ))}\n                </Collapse>\n            </Box>\n            <Box textAlign=\"center\">\n                <Button \n                    color=\"primary\"\n                    onClick={()=> setHoldReviews(!holdReviews)}\n                >\n                    { holdReviews ? 'Read all reviews' : 'Read less'}\n                </Button>\n            </Box>\n        </div>\n    );\n}","import React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport Tooltip from '@material-ui/core/Tooltip';\n\nconst addToFavorite = async (bookID, userID) => {\n    const requestOptions = {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ bookID: bookID, userID: userID})\n    };\n    \n    await fetch('/api/favorite/add', requestOptions);\n          \n}\n\nconst deleteFromFavorite = async (bookID, userID) => {\n    const requestOptions = {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ bookID: bookID, userID: userID})\n    };\n    \n    await fetch('/api/favorite/delete', requestOptions);\n          \n}\n\nconst checkFavorite = async (bookID, userID) => {\n    let isFavorite = await fetch('/api/favorite/check/' + bookID + \"-\" + userID)\n    .then(response => response.json())\n    .then(data => data.length > 0 ? true : false);\n    \n    return isFavorite;\n}\n\n\nexport default function FavoriteButton(props){\n    const bookData = props.bookData;\n    const user = props.user;\n\n    const [isFavorite, setIsFavorite] = React.useState(null);\n\n    React.useEffect(()=>{\n        checkFavorite(bookData.bookID, user.userID).then(data => setIsFavorite(data));\n    },[bookData.bookID, user.userID])\n\n\n    const handleAddFavorite = () => {\n        addToFavorite(bookData.bookID, user.userID);\n        setIsFavorite(true);\n        props.remountHeader();\n    }\n\n    const handleRemoveFavorite = () => {\n        deleteFromFavorite(bookData.bookID, user.userID);\n        setIsFavorite(false);\n        props.remountHeader();\n    }\n\n    return(\n        <>\n        {!isFavorite ?\n            <Tooltip title=\"Add to favorites\" placement=\"top\">\n                <IconButton\n                    onClick={handleAddFavorite}\n                >\n                    <FavoriteIcon/>\n                </IconButton>\n            </Tooltip>:\n            <Tooltip title=\"Remove from favorites\" placement=\"top\">\n                <IconButton\n                    onClick={handleRemoveFavorite}\n                >\n                    <FavoriteIcon style={{color:'red'}}/>\n                </IconButton>\n            </Tooltip>\n        }\n        </>\n    );\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\n\n\nlet getBookGenres = async (bookID) => {\n    let genres = await fetch('/api/genres-book/'+bookID)\n    .then(response => response.json())\n    .then(data => data);\n    \n    let allGenres = \"\"; \n    genres.forEach(genre => {\n        allGenres += \", \" + genre.name;\n    });\n\n    return allGenres.substring(1, allGenres.length);\n}\n\n  \nexport default function AdditionalInfo(props) {\n\n    const classes = useStyles();\n    const [genres, setGenres] = React.useState(\"\");\n\n    let bookData = props.bookData;\n\n    React.useEffect(()=>{\n        getBookGenres(bookData.bookID).then(data => setGenres(data));\n    },[bookData.bookID])\n    \n    \n    let info = [\n        {\n            title: 'Publisher',\n            content: bookData.publisherName,\n\n        },\n        {\n            title: 'Published on',\n            content: bookData.date,\n        },\n        {\n            title: 'Genres',\n            content: genres,\n        },\n        {\n            title: 'Digital Format',\n            content: bookData.isDigital? 'Yes' : 'No',\n        },\n        {\n            title: 'Pages',\n            content: bookData.pages,\n        },\n        {\n            title: 'Price',\n            content: bookData.price,\n        }\n    ]\n    \n    return(\n        <div className={classes.root}>\n        <Typography>\n            ADDITIONAL INFORMATION\n        </Typography>\n        <Grid container spacing={3} className={classes.gridContainer}>\n            {info.map((obj, index) => (\n                <Grid key={index} item xs={4}>\n                    <Typography>{obj.title}</Typography>\n                    <Typography variant=\"body2\" className={classes.contentText}>\n                        {obj.content}\n                    </Typography>\n                </Grid>\n            ))}\n        </Grid>\n        </div>\n    );\n    \n}\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        margin: '2rem',\n    },\n    gridContainer:{\n        paddingTop: 20,\n    },\n    contentText:{\n        color: 'dimgrey',\n    }\n}));","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nimport Grid from '@material-ui/core/Grid';\nimport Divider from '@material-ui/core/Divider';\nimport Button from '@material-ui/core/Button';\nimport Fade from '@material-ui/core/Fade';\nimport ReactLink from '@material-ui/core/Link';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport IconButton from '@material-ui/core/IconButton';\nimport StarIcon from '@material-ui/icons/Star';\n\nimport { Link, useLocation } from \"react-router-dom\";\n\nimport ReviewsBlock from './ReviewsBlock';\nimport FavoriteButton from './FavoriteButton';\nimport AdditionalInfo from './AdditionalInfo';\n\n\nexport default function BookBlock(props){\n\n    const classes = useStyles();\n    const location = useLocation();\n\n    const bookData = props.bookData;\n    const user = props.user;\n\n    return(\n        <Paper elevation={5} className={classes.paper}>\n            <Grid container spacing={2}>\n                <Grid item xs={12} className={classes.bookBox} style={{display:'flex'}} >\n                    <Fade in={true}>\n                        <Box className={classes.imageBox}>\n                            <img src={\"/resources/\"+ (bookData.coverPicture || \"cover.jpg\")} alt=\"\" className={classes.image}/>\n                        </Box>\n                    </Fade>\n                   <Box display=\"flex\" flexDirection=\"column\" className={classes.textInfo}>\n                        <Typography variant=\"h2\" className={classes.title}>\n                            {bookData.title}\n                        </Typography>\n                        <Box display=\"flex\" style={{marginBottom:12}}>\n                            {bookData.authors.map((author,index) => (\n                                <Typography key={index} style={{fontSize:14,color:'#616161', marginRight:7}}>\n                                    <ReactLink \n                                        component={Link} \n                                        to={\"/author/\"+author.authorID}\n                                        replace={location === (\"/author\" + author.authorID)}\n                                    >\n                                        {author.firstName +\" \" +    author.lastName}\n                                    </ReactLink>\n                                </Typography>\n                            ))}\n                        </Box>\n                        <Typography style={{fontSize:14,color:'#616161', flex:1}}>\n                            {\"Publisher: \"}\n                            <ReactLink \n                                component={Link} \n                                to={\"/publisher/\" + bookData.publisherID}\n                                replace={location === (\"/publisher/\" + bookData.publisherID)}\n                            >\n                                {bookData.publisherName}\n                            </ReactLink>\n                        </Typography>\n                        <div style={{width:'100%', display:'flex'}}>\n                        <Box style={{flex:1}}>\n                            <Box display=\"flex\">\n                                <Typography style={{fontSize:30}}>\n                                    {bookData.rating}\n                                </Typography>\n                                <StarIcon color=\"primary\" style={{marginTop:4, fontSize:35}}/>\n                            </Box>\n                        </Box>\n                        <Box style={{textAlign:'end'}}>\n                            {user.username !== \"\" ?\n                                <FavoriteButton \n                                    bookData={bookData} \n                                    user={user} \n                                    remountHeader={props.remountHeader}\n                                />:\n                                <Tooltip title=\"Login for favorites\" placement=\"top\">\n                                    <IconButton>\n                                        <FavoriteIcon/>\n                                    </IconButton>\n                                </Tooltip>\n                            }\n                            <Button color=\"primary\" variant=\"contained\" style={{marginRight: 'calc(3rem - 30px)'}}>\n                                Buy {bookData.price}$ \n                            </Button>\n                        </Box>\n                        </div>\n                    </Box>\n                </Grid>\n                <Grid item xs={12} className={classes.descriptionBox}>\n                    <Typography  className={classes.description}>\n                        {bookData.description}\n                    </Typography>\n                </Grid>\n            </Grid>\n            <Divider variant=\"middle\" />\n            <ReviewsBlock bookData={bookData} user={user}/>\n            <Divider variant=\"middle\" />\n            <AdditionalInfo bookData={bookData}/>\n            <Divider variant=\"middle\" />\n        </Paper> \n    );\n}\n\nconst useStyles = makeStyles((theme) => ({\n    paper:{\n        marginLeft:20,\n        paddingBottom:50,\n        maxWidth:800,\n        [theme.breakpoints.down('sm')]: {\n            marginRight:0,\n            marginLeft:0,\n        },\n    },\n\n    bookBox:{\n        flexDirection:'row',\n       \n    },\n\n    imageBox:{\n        marginLeft: 30,\n        marginTop: 30,\n        \n    },\n    image:{\n        width:100,\n        height:150,\n        boxShadow: '0px 0px 10px 0px',\n        [theme.breakpoints.up(450)]: {\n            width:175,\n            height:260,\n        },\n        [theme.breakpoints.up('md')]: {\n            width:200,\n            height:300,\n        },\n    },\n    textInfo:{\n        height:'100%', \n        width:'100%', \n        marginRight:30, \n        marginLeft:30,\n      \n    },\n    title:{\n        fontSize: 35,\n        fontWeight: 300,\n        fontVariant:'all-small-caps',\n        lineHeight:0.8,\n        marginBottom:30,\n        marginTop:30,\n    },\n    descriptionBox:{\n        marginTop:'1rem',\n        marginBottom:'2rem',\n        marginLeft: '3rem',\n        marginRight: '3rem',\n    },\n    description:{\n        color:'#333333', \n        fontFamily: 'system-ui',\n        fontSize: 15,\n        fontWeight: 200,\n        overflowWrap:'break-word',\n    },\n    \n  }));\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid'\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\n\nimport { Link, useLocation } from \"react-router-dom\";\n\nconst useStyles = makeStyles((theme) => ({\n    root:{\n        marginBottom:20,\n        paddingBottom:5,\n        maxWidth:160,\n    },\n    imageHolder:{\n        textAlign:'center',\n        paddingTop:5,\n        width:'100%',\n\n        \"&:hover\": {\n            background: \"#efefef\",\n        },\n    },\n    image:{\n        width:150,\n        height:225,\n    },\n    details:{\n        marginTop:5,\n        paddingLeft:10,\n        paddingRight:10,\n    },\n    title:{\n        lineHeight:'1',\n        fontSize:15,\n        textDecoration:'none',\n        color:'#313131',\n        \"&:hover\": {\n           borderBottom:'0.5px solid #bbb' ,\n        },\n    },\n    author:{\n        marginTop:5,\n        fontSize:13,\n        color:'grey',\n        marginBottom:10,\n        textDecoration:'none',\n        \"&:hover\": {\n           borderBottom:'0.5px solid #bbb' ,\n        },\n    }\n   \n}));\n\nexport default function BookTile(props){\n    const classes = useStyles();\n    const location = useLocation();\n\n    const book = props.book || {};\n\n    return(\n        <Paper elevation={2} className={classes.root}>\n            <Box>\n                <Grid container>\n                    <Button \n                        className={classes.imageHolder}  \n                        component={Link} \n                        to={\"/book/\" + book.bookID}\n                        replace={location === (\"/book/\" + book.bookID)}\n                    >\n                        <img src={\"/resources/\" + (book.coverPicture || \"cover.jpg\")} alt=\"\" className={classes.image}/>\n                    </Button>\n                    <Grid item xs={12} className={classes.details}>\n                        <Typography noWrap>\n                            <Link\n                                className={classes.title}\n                                to={\"/book/\" + book.bookID}\n                                replace={location === (\"/book/\" + book.bookID)}\n                            >\n                                {book.title}\n                            </Link>\n                        </Typography>\n                        <Typography>\n                            <Link \n                                className={classes.author}\n                                to={\"/author/\"+book.authorNameID}\n                                replace={location === (\"/book/\" + book.authorNameID)}\n                            >\n                                {book.authorName}\n                            </Link>\n                        </Typography>\n                    </Grid>\n                </Grid>\n            </Box>\n        </Paper>\n    );\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\n\nimport BookTile from '../Layout/BookTile';\n\nconst getRecommendedBooks = async (bookID) => {\n    return await fetch('/api/recommended/'+bookID)\n    .then(response => response.json())\n    .then(data => data)\n}\n\nexport default function RecommendedBooks(props){\n\n    const classes = useStyles();\n\n    const bookData = props.bookData;\n\n    const [books, setBooks] = React.useState([]);\n\n    React.useEffect(()=>{\n        getRecommendedBooks(bookData.bookID).then(data => setBooks(data));\n    },[bookData.bookID])\n\n    return(\n        <div className={classes.root}>\n            <Typography variant=\"h6\" fontSize=\"h6.fontSize\" className={classes.rootTitle}>Recommended</Typography>\n            {books.map((book, index) => (\n                <BookTile key={index} book={book}/>\n            ))}\n        </div>\n    );\n}\n\n\nconst useStyles = makeStyles((theme) => ({\n    root:{\n            marginTop:'0px',\n            marginLeft:'50px',\n            maxWidth:'170px',\n            marginRight:'20px',\n\n        [theme.breakpoints.down('sm')]: {\n            marginTop:'50px',\n            marginLeft:'20px',\n        },\n    },\n    rootTitle:{\n        marginBottom:20,\n    },\n\n}));","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Box from '@material-ui/core/Box';\n\nimport BookBlock from './BookBlock';\nimport RecommendedBooks from './RecommendedBooks';\n\n\nlet getAuthors = async (bookID) => {\n    let authors = await fetch('/api/book-authors/' + bookID)\n    .then(response => response.json())\n    .then(data => data);\n    \n    return authors;\n}\n\nlet getRating = async (bookID) => {\n    let rating = await fetch('/api/book-rating/' + bookID)\n    .then(response => response.json())\n    .then(data => data.length > 0 ? data[0].rating : 'None');\n    \n    return rating;\n}\n\nlet getBookJSON = async (bookID) => {\n\n    let bookData = await fetch('/api/book/' + bookID)\n    .then(response => response.json())\n    .then(data => data.length > 0 ? data[0] : Object.create({noBook:true}));\n\n    bookData.authors = await getAuthors(bookID).then(data => data );\n    bookData.rating = await getRating(bookID).then(data => data);\n\n    return bookData;\n}\n\n  \nexport default function BookPage(props) {\n\n    const classes = useStyles();\n    const [bookData,setBookData] = React.useState(null);\n    const bookID = props.match.params.id;\n    \n    React.useEffect(()=>{\n        getBookJSON(bookID).then(data => {setBookData(data);});\n    },[bookID]);\n    \n    return(\n        <div>\n        { \n            bookData === null? null:\n            bookData.noBook?\n            <p style={{marginTop:120, marginLeft:50}}>\n                Book not found\n            </p>:\n            <Box justifyContent=\"center\" m={6} className={classes.root}>\n                <Box display=\"flex\" className={classes.content}>\n                    <BookBlock bookData={bookData} user={props.user} remountHeader={props.remountHeader}/>\n                    <RecommendedBooks bookData={bookData} />\n                </Box> \n            </Box>\n        }\n        </div>\n    );\n    \n}\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        marginRight:0,\n        marginLeft:0,\n        [theme.breakpoints.up('sm')]: {\n            display:'flex',\n        },\n    },\n    content:{\n        flexDirection:'column',\n        [theme.breakpoints.up('md')]: {\n            flexDirection:'row',\n        },\n    },\n    paper:{\n        marginLeft:20,\n        paddingBottom:200,\n        maxWidth:800,\n        [theme.breakpoints.down('sm')]: {\n            marginRight:20,\n        },\n    },\n}));","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nimport Zoom from '@material-ui/core/Grow';\n\nimport BookTile from '../Layout/BookTile';\n\n\nconst useStyles = makeStyles((theme) => ({\n    root:{\n        marginRight:'10%',\n        marginLeft:'10%',\n        [theme.breakpoints.down('sm')]: {\n            marginRight:'0%',\n            marginLeft:'0%',\n        },\n    },\n    title:{\n        marginBottom:30,\n        color:'#333333',\n        fontSize:'1.8em',\n        [theme.breakpoints.down('sm')]: {\n            marginRight:'10%',\n            marginLeft:'10%',\n        },\n        \n    },\n    grid:{\n        [theme.breakpoints.down('sm')]: {\n            justifyContent:'space-evenly',\n            paddingLeft:0,\n            paddingRight:0,\n        },\n    },\n    gridItem:{\n        display:'flex',\n        alignItems:'center',\n    }\n}));\n\nlet getFavoriteBooks = async (userID) => {\n    let favorites = await fetch('/api/favorite/user/' + userID)\n    .then(response => response.json())\n    .then(data => data);\n    \n    return favorites;\n}\n\nexport default function FavoritePage(props) {\n\n    const classes = useStyles();\n    const user = props.user;\n\n    const [books, setBooks] = React.useState(null);\n    \n    React.useEffect(() => { \n        getFavoriteBooks(user.userID).then(data => setBooks(data));\n    },[user.userID]);\n\n    return(\n        <div className={classes.root}>\n            {books === null ? <></> :\n                <>\n                <Typography variant=\"h4\" className={classes.title}>\n                    Your favorite books ({books.length})\n                </Typography>\n                <Zoom in={true}>\n                    <Grid \n                        container \n                        spacing={0}\n                        direction=\"row\"\n                        justify=\"flex-start\"\n                        alignItems=\"flex-start\"\n                        className={classes.grid}\n                    >\n                        {books.map((book, index)=>(\n                            <Grid key={index} item >\n                                <Box display=\"flex\" justifyContent=\"center\" style={{minWidth:170}}>\n                                    <BookTile book={book}/>\n                                </Box>\n                            </Grid>\n                        ))}\n                    </Grid>\n                </Zoom>\n                </>\n            }\n        </div>\n    );\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nimport Grow from '@material-ui/core/Grow';\nimport Paper from '@material-ui/core/Paper';\n\nimport BookTile from '../Layout/BookTile';\n\n\nconst useStyles = makeStyles((theme) => ({\n    root:{\n        marginRight:'10%',\n        marginLeft:'10%',\n        [theme.breakpoints.down('sm')]: {\n            marginRight:'0%',\n            marginLeft:'0%',\n        },\n    },\n    paper:{\n        minHeight:200,\n        marginBottom:30,\n        display:'flex',\n    },\n    authorBox:{\n        padding:20,\n        flex:1,\n    },\n    authorIll:{\n        height: 200,\n        paddingRight: 30,\n        [theme.breakpoints.down('sm')]: {\n            height: 140,\n            width:120,\n        },\n    },\n    title:{\n        marginBottom:30,\n        color:'#333333',\n        fontSize:'1.8em',\n        [theme.breakpoints.down('sm')]: {\n            marginLeft:'5%',\n        },\n        \n    },\n    grid:{\n        [theme.breakpoints.down('sm')]: {\n            justifyContent:'space-evenly',\n            paddingLeft:0,\n            paddingRight:0,\n        },\n    },\n    gridItem:{\n        display:'flex',\n        alignItems:'center',\n    }\n}));\n\nlet getAuthorData =  async (authorID) => {\n    let authorData = await fetch('/api/author/' + authorID)\n    .then(response => response.json())\n    .then(data => (data.length > 0 ? data[0] : {noAuthor:true}) );\n    \n    return authorData;\n}\n\nlet getAuthorBooks = async (authorID) => {\n    let books = await fetch('/api/author/' + authorID + '/get-books')\n    .then(response => response.json())\n    .then(data => data);\n    \n    return books;\n}\n\nexport default function AuthorPage(props) {\n\n    const classes = useStyles();\n    const authorID = props.match.params.id;\n\n\n    const [books, setBooks] = React.useState(null);\n    const [author, setAuthor] = React.useState(null);\n    \n    \n    React.useEffect(() => { \n        getAuthorBooks(authorID).then(data => setBooks(data));\n        getAuthorData(authorID).then(data => setAuthor(data));\n    },[authorID]);\n\n    return(\n        <div className={classes.root}>\n            {author === null || books === null ? null : author.noAuthor ? <>No author found</> :\n                <>\n                <Paper className={classes.paper}>\n                    <Box \n                        display=\"flex\" \n                        flexDirection=\"column\" \n                        className={classes.authorBox}\n                    >\n                        <Typography variant=\"h5\">\n                            {author.firstName + \" \" + author.lastName}\n                        </Typography>\n                        <Typography variant=\"body2\" color=\"primary\">\n                        Contact:  {author.email}\n                        </Typography>\n                        <Typography variant=\"body2\" style={{paddingTop:20}}>\n                            {author.description}\n                        </Typography>\n                    </Box>\n                    <Box \n                        display=\"flex\" \n                        flexDirection=\"column\" \n                    >\n                        <img src={\"/resources/author.png\"} alt=\"\" className={classes.authorIll}/>\n                    </Box>\n                </Paper>\n                <Typography variant=\"h4\" className={classes.title}>\n                    From this author ({books.length})\n                </Typography>\n                <Grow in={true}>\n                    <Grid \n                        container \n                        spacing={0}\n                        direction=\"row\"\n                        justify=\"flex-start\"\n                        alignItems=\"flex-start\"\n                        className={classes.grid}\n                    >\n                        {books.map((book, index)=>(\n                            <Grid key={index} item >\n                                <Box display=\"flex\" justifyContent=\"center\" style={{minWidth:170}}>\n                                    <BookTile \n                                        book={{\n                                            ...book,\n                                            authorName: author.firstName + \" \" + author.lastName,\n                                            authorNameID: author.authorID\n                                        }}\n                                    />\n                                </Box>\n                            </Grid>\n                        ))}\n                    </Grid>\n                </Grow>\n                </>\n            }\n        </div>\n    );\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nimport Grow from '@material-ui/core/Grow';\nimport Paper from '@material-ui/core/Paper';\n\nimport BookTile from '../Layout/BookTile';\n\n\nconst useStyles = makeStyles((theme) => ({\n    root:{\n        marginRight:'10%',\n        marginLeft:'10%',\n        [theme.breakpoints.down('sm')]: {\n            marginRight:'0%',\n            marginLeft:'0%',\n        },\n    },\n    paper:{\n        minHeight:200,\n        marginBottom:30,\n        display:'flex',\n    },\n    authorBox:{\n        padding:20,\n        flex:1,\n    },\n    authorIll:{\n        height: 200,\n        paddingRight: 30,\n    },\n    title:{\n        marginBottom:30,\n        color:'#333333',\n        fontSize:'1.8em',\n        [theme.breakpoints.down('sm')]: {\n            marginLeft:'5%',\n        },\n        \n    },\n    grid:{\n        [theme.breakpoints.down('sm')]: {\n            justifyContent:'space-evenly',\n            paddingLeft:0,\n            paddingRight:0,\n        },\n    },\n    gridItem:{\n        display:'flex',\n        alignItems:'center',\n    }\n}));\n\nlet getPublisherData =  async (publisherID) => {\n    let publisherData = await fetch('/api/publisher/' + publisherID)\n    .then(response => response.json())\n    .then(data => (data.length > 0 ? data[0] : {noPublisher:true}) );\n    \n    return publisherData;\n}\n\nlet getPublisherBooks = async (publisherID) => {\n    let books = await fetch('/api/publisher/' + publisherID + '/get-books')\n    .then(response => response.json())\n    .then(data => data);\n    \n    return books;\n}\n\nexport default function AuthorPage(props) {\n\n    const classes = useStyles();\n    const publisherID = props.match.params.id;\n\n\n    const [books, setBooks] = React.useState(null);\n    const [publisher, setPublisher] = React.useState(null);\n    \n    \n    React.useEffect(() => { \n        getPublisherBooks(publisherID).then(data => setBooks(data));\n        getPublisherData(publisherID).then(data => setPublisher(data));\n    },[publisherID]);\n\n    return(\n        <div className={classes.root}>\n            {publisher === null || books == null ? null : publisher.noPublisher ? <>No publisher found</> :\n                <>\n                <Paper className={classes.paper}>\n                    <Box \n                        display=\"flex\" \n                        flexDirection=\"column\" \n                        className={classes.authorBox}\n                    >\n                        <Typography variant=\"h5\">\n                            {publisher.name}\n                        </Typography>\n                        <Typography variant=\"body2\" color=\"primary\">\n                        Email:  {publisher.email}\n                        </Typography>\n                        <Typography variant=\"body2\" style={{color:'grey'}}>\n                        Phone:  {publisher.phone}\n                        </Typography>\n                        <Typography variant=\"body2\" style={{color:'grey'}}>\n                        Address:  {publisher.address}\n                        </Typography>\n                        <Typography variant=\"body2\" style={{paddingTop:20}}>\n                            {publisher.description}\n                        </Typography>\n                    </Box>\n                    <Box \n                        display=\"flex\" \n                        flexDirection=\"column\" \n                    >\n                        <img src={\"/resources/publisher.png\"} alt=\"\" className={classes.authorIll}/>\n                    </Box>\n                </Paper>\n                <Typography variant=\"h4\" className={classes.title}>\n                    From this publisher ({books.length})\n                </Typography>\n                <Grow in={true}>\n                    <Grid \n                        container \n                        spacing={0}\n                        direction=\"row\"\n                        justify=\"flex-start\"\n                        alignItems=\"flex-start\"\n                        className={classes.grid}\n                    >\n                        {books.map((book, index)=>(\n                            <Grid key={index} item >\n                                <Box display=\"flex\" justifyContent=\"center\" style={{minWidth:170}}>\n                                    <BookTile \n                                        book={{...book}}\n                                    />\n                                </Box>\n                            </Grid>\n                        ))}\n                    </Grid>\n                </Grow>\n                </>\n            }\n        </div>\n    );\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nimport Grow from '@material-ui/core/Grow';\nimport Fade from '@material-ui/core/Fade';\n\nimport BookTile from '../Layout/BookTile';\n\n\nconst useStyles = makeStyles((theme) => ({\n    root:{\n        marginRight:'10%',\n        marginLeft:'10%',\n        [theme.breakpoints.down('sm')]: {\n            marginRight:'0%',\n            marginLeft:'0%',\n        },\n        paddingBottom:50\n    },\n    title:{\n        color:'#333333',\n        fontSize:'1.8em',\n        [theme.breakpoints.down('sm')]: {\n            marginRight:'10%',\n            marginLeft:'10%',\n        },\n        \n    },\n    underTitle:{\n        marginBottom:30,\n        [theme.breakpoints.down('sm')]: {\n            marginRight:'10%',\n            marginLeft:'10%',\n        },\n    },\n    grid:{\n        [theme.breakpoints.down('sm')]: {\n            justifyContent:'space-evenly',\n            paddingLeft:0,\n            paddingRight:0,\n        },\n    },\n    gridItem:{\n        display:'flex',\n        alignItems:'center',\n    }\n}));\n\nlet getAllBooks = async () => {\n    let books = await fetch('/api/allbooks')\n    .then(response => response.json())\n    .then(data => data);\n    \n    return books;\n}\n\nexport default function AllBooksPage(props) {\n\n    const classes = useStyles();\n\n    const [books, setBooks] = React.useState([]);\n    \n    React.useEffect(() => { \n        getAllBooks().then(data => setBooks(data));\n    },[]);\n\n    return(\n        <div className={classes.root}>\n            <Typography variant=\"h4\" className={classes.title}>\n                All Books\n            </Typography>\n            <Fade in={books.length > 0}>\n                <Typography variant=\"body2\" className={classes.underTitle}>\n                    {books.length} Books\n                </Typography>\n            </Fade>\n            {books.length === 0 ? <></> :\n                <>\n                <Grow in={true}>\n                    <Grid \n                        container \n                        spacing={0}\n                        direction=\"row\"\n                        justify=\"flex-start\"\n                        alignItems=\"flex-start\"\n                        className={classes.grid}\n                    >\n                        {books.map((book, index)=>(\n                            <Grid key={index} item >\n                                <Box display=\"flex\" justifyContent=\"center\" style={{minWidth:170}}>\n                                    <BookTile book={book}/>\n                                </Box>\n                            </Grid>\n                        ))}\n                    </Grid>\n                </Grow>\n                </>\n            }\n        </div>\n    );\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport IconButton from '@material-ui/core/IconButton';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EditIcon from '@material-ui/icons/Edit';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Fab from '@material-ui/core/Fab';\n\nconst useStyles = makeStyles((theme) => ({\n  table: {\n    minWidth: 650,\n  },\n  fab: {\n    position: 'fixed',\n    bottom: theme.spacing(2),\n    right: theme.spacing(2),\n  },\n}));\n\n\nlet getAuthors = async () => {\n    let books = await fetch('/api/admin/getauthors')\n    .then(response => response.json())\n    .then(data => data);\n    \n    return books;\n}\n\nlet deleteAuthors = async (id) => {\n    let result = await fetch('/api/admin/deleteauthors/'+id)\n    .then(response => response)\n    .then(data => data);\n    \n    return result;\n}\n\nlet updateAuthors = async (data) => {\n    console.log(data);\n    const requestOptions = {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({...data})\n    };\n      \n    let results = fetch('api/admin/updateauthors', requestOptions)\n    .then(response => response)\n    .then(data => data);\n}\n\nlet addAuthors = async (data) => {\n    console.log(data);\n    const requestOptions = {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({...data})\n    };\n      \n    let results = fetch('api/admin/addauthors', requestOptions)\n    .then(response => response)\n    .then(data => data);\n}\n\nexport default function AuthorsPanel() {\n    const classes = useStyles();\n\n    const [authors, setAuthors] = React.useState([]);\n    const [refresh, setRefresh] = React.useState(false);\n    const [openDialog, setOpenDialog] = React.useState(false);\n    const [selectedRow, setSelectedRow] = React.useState({});\n\n    React.useEffect(()=>{\n        getAuthors().then(data => setAuthors(data));\n    },[refresh]);\n\n    const deleteRow = (event) => {\n        const id = event.currentTarget.value;\n        deleteAuthors(id).then(() => setRefresh(refresh => !refresh));\n    };\n\n    const handleOpenDialog = (event) => {\n        const index = event.currentTarget.value;\n        setSelectedRow(authors[index]);\n        setOpenDialog(true);\n    }\n    \n    const handleOpenDialogNewEntry = () => {\n        setSelectedRow({newEntry:true});\n        setOpenDialog(true);\n    }\n\n    const handleCloseDialog = () => {\n        setOpenDialog(false);\n        setRefresh(refresh => !refresh)\n    }\n\n    return (\n    <div style={{paddingBottom:50}}>\n        <TableContainer component={Paper}>\n            <Table className={classes.table} aria-label=\"simple table\">\n            <TableHead>\n                <TableRow>\n                <TableCell>First Name</TableCell>\n                <TableCell>Last Name</TableCell>\n                <TableCell>Email</TableCell>\n                <TableCell>Description</TableCell>\n                <TableCell>Edit</TableCell>\n                <TableCell>Delete</TableCell>\n                </TableRow>\n            </TableHead>\n            <TableBody>\n                {authors.map((row, index) => (\n                <TableRow key={row.authorID}>\n                    <TableCell>{row.firstName}</TableCell>\n                    <TableCell>{row.lastName}</TableCell>\n                    <TableCell>{row.email}</TableCell>\n                    <TableCell>{row.description}</TableCell>\n                    <TableCell>\n                        <IconButton\n                            value={index}\n                            onClick={event => handleOpenDialog(event)}\n                        >\n                            <EditIcon/>\n                        </IconButton>\n                    </TableCell>\n                    <TableCell>\n                        <IconButton \n                            value={row.authorID}\n                            onClick={(event) => { deleteRow(event); }}>\n                            <DeleteIcon/>\n                        </IconButton>\n                    </TableCell>\n                </TableRow>\n                ))}\n            </TableBody>\n            </Table>\n        </TableContainer>\n        <FormDialog\n            open={openDialog}\n            data={selectedRow}\n            handleClickOpen={handleOpenDialog}\n            handleClose={handleCloseDialog}\n        />\n        <Fab \n            className={classes.fab} \n            variant=\"extended\" \n            style={{backgroundColor:'blueviolet', color:'white'}}\n            onClick={handleOpenDialogNewEntry}\n        >\n            <EditIcon/>\n            New Author\n        </Fab>\n    </div>\n    );\n}\n\nfunction FormDialog(props) {\n    const open = props.open;\n    const handleClose = props.handleClose;\n\n    const [data, setData] = React.useState({});\n\n    React.useEffect(()=>{\n        setData(props.data);\n    },[props.data])\n  \n    return (\n      <div>\n        <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n            <DialogTitle id=\"form-dialog-title\">\n              {data.newEntry === true ? 'Insert' : 'Update'} Author\n            </DialogTitle>\n            <DialogContent>\n                <DialogContentText>\n                    *To change the entry just modify the previous values and hit update\n                </DialogContentText>\n                <TextField\n                    autoFocus margin=\"dense\" label=\"First Name\" fullWidth\n                    value={data.firstName || ''}\n                    onChange={\n                        (event) => {\n                            data.firstName=event.target.value;\n                            setData({...data})\n                    }}\n                />\n                <TextField\n                    margin=\"dense\" label=\"Last Name\" fullWidth\n                    value={data.lastName || ''}\n                    onChange={\n                        (event) => {\n                            data.lastName=event.target.value;\n                            setData({...data})\n                    }}\n                />\n                <TextField margin=\"dense\" label=\"Email\" fullWidth\n                    value={data.email || ''}\n                    onChange={\n                        (event) => {\n                            data.email=event.target.value;\n                            setData({...data})\n                    }}\n                />\n                <TextField margin=\"dense\" label=\"Description\" fullWidth\n                    multiline\n                    rows={4}\n                    value={data.description || ''}\n                    onChange={\n                        (event) => {\n                            data.description=event.target.value;\n                            setData({...data})\n                    }}\n                />\n            </DialogContent>\n            <DialogActions>\n                <Button \n                    onClick={() => {handleClose();}} \n                    color=\"primary\"\n                >\n                    Cancel\n                </Button>\n                <Button \n                    onClick={() => {\n                        data.newEntry === true ?\n                        addAuthors(data):\n                        updateAuthors(data);\n\n                        handleClose();\n                    }} \n                    color=\"primary\"\n                >\n                    {data.newEntry === true ? 'Insert' : 'Update'}\n                </Button>\n            </DialogActions>\n        </Dialog>\n      </div>\n    );\n  }","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport IconButton from '@material-ui/core/IconButton';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EditIcon from '@material-ui/icons/Edit';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Fab from '@material-ui/core/Fab';\n\nconst useStyles = makeStyles((theme) => ({\n    table: {\n      minWidth: 650,\n    },\n    fab: {\n      position: 'fixed',\n      bottom: theme.spacing(2),\n      right: theme.spacing(2),\n    },\n  }));\n\n\nlet getPublishers = async () => {\n    let publishers = await fetch('/api/admin/getpublishers')\n    .then(response => response.json())\n    .then(data => data);\n    \n    return publishers;\n}\n\nlet deletePublishers = async (id) => {\n    let result = await fetch('/api/admin/deletepublishers/'+id)\n    .then(response => response)\n    .then(data => data);\n    \n    return result;\n}\n\nlet updatePublishers = async (data) => {\n    console.log(data);\n    const requestOptions = {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({...data})\n    };\n      \n    let results = fetch('api/admin/updatepublishers', requestOptions)\n    .then(response => response)\n    .then(data => data);\n}\n\nlet addPublishers = async (data) => {\n    console.log(data);\n    const requestOptions = {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({...data})\n    };\n      \n    let results = fetch('api/admin/addpublishers', requestOptions)\n    .then(response => response)\n    .then(data => data);\n}\n\nexport default function AuthorsPanel() {\n    const classes = useStyles();\n\n    const [publishers, setPublishers] = React.useState([]);\n    const [refresh, setRefresh] = React.useState(false);\n    const [openDialog, setOpenDialog] = React.useState(false);\n    const [selectedRow, setSelectedRow] = React.useState({});\n\n    React.useEffect(()=>{\n        getPublishers().then(data => setPublishers(data));\n    },[refresh]);\n\n    const deleteRow = (event) => {\n        const id = event.currentTarget.value;\n        deletePublishers(id).then(() => setRefresh(refresh => !refresh));\n    };\n\n    const handleOpenDialog = (event) => {\n        const index = event.currentTarget.value;\n        setSelectedRow(publishers[index]);\n        setOpenDialog(true);\n    }\n    \n    const handleOpenDialogNewEntry = () => {\n        setSelectedRow({newEntry:true});\n        setOpenDialog(true);\n    }\n\n    const handleCloseDialog = () => {\n        setOpenDialog(false);\n        setRefresh(refresh => !refresh)\n    }\n\n    return (\n    <div>\n        <TableContainer component={Paper}>\n            <Table className={classes.table} aria-label=\"simple table\">\n            <TableHead>\n                <TableRow>\n                <TableCell >Name</TableCell>\n                <TableCell >Email</TableCell>\n                <TableCell >Phone</TableCell>\n                <TableCell >Address</TableCell>\n                <TableCell >Description</TableCell>\n                <TableCell >Edit</TableCell>\n                <TableCell >Delete</TableCell>\n                </TableRow>\n            </TableHead>\n            <TableBody>\n                {publishers.map((row,index) => (\n                <TableRow key={row.publisherID}>\n                    <TableCell style={{minWidth:130}}>{row.name}</TableCell>\n                    <TableCell >{row.email}</TableCell>\n                    <TableCell >{row.phone}</TableCell>\n                    <TableCell style={{minWidth:100}}>{row.address}</TableCell>\n                    <TableCell >{row.description}</TableCell>\n                    <TableCell>\n                        <IconButton\n                            value={index}\n                            onClick={event => handleOpenDialog(event)}\n                        >\n                            <EditIcon/>\n                        </IconButton>\n                    </TableCell>\n                    <TableCell >\n                        <IconButton \n                            value={row.publisherID} \n                            onClick={(event) => deleteRow(event)}\n                        >\n                            <DeleteIcon/>\n                        </IconButton>\n                    </TableCell>\n                </TableRow>\n                ))}\n            </TableBody>\n            </Table>\n        </TableContainer>\n        <FormDialog\n            open={openDialog}\n            data={selectedRow}\n            handleClickOpen={handleOpenDialog}\n            handleClose={handleCloseDialog}\n        />\n         <Fab \n            className={classes.fab} \n            variant=\"extended\" \n            color=\"secondary\"\n            onClick={handleOpenDialogNewEntry}\n        >\n            <EditIcon/>\n            New Publisher\n        </Fab>\n    </div>\n    );\n}\n\nfunction FormDialog(props) {\n    const open = props.open;\n    const handleClose = props.handleClose;\n\n    const [data, setData] = React.useState({});\n\n    React.useEffect(()=>{\n        setData(props.data);\n    },[props.data])\n  \n    return (\n      <div style={{paddingBottom:50}}>\n        <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n            <DialogTitle id=\"form-dialog-title\">\n              {data.newEntry === true ? 'Insert' : 'Update'} Publisher\n            </DialogTitle>\n            <DialogContent>\n                <DialogContentText>\n                    *To change the entry just modify the previous values and hit update\n                </DialogContentText>\n                <TextField\n                    autoFocus margin=\"dense\" label=\"Name\" fullWidth\n                    value={data.name || ''}\n                    onChange={\n                        (event) => {\n                            data.name=event.target.value;\n                            setData({...data})\n                    }}\n                />\n                <TextField\n                    margin=\"dense\" label=\"Email\" fullWidth\n                    value={data.email || ''}\n                    onChange={\n                        (event) => {\n                            data.email=event.target.value;\n                            setData({...data})\n                    }}\n                />\n                <TextField margin=\"dense\" label=\"Phone\" fullWidth\n                    value={data.phone || ''}\n                    onChange={\n                        (event) => {\n                            data.phone=event.target.value;\n                            setData({...data})\n                    }}\n                />\n                <TextField margin=\"dense\" label=\"Address\" fullWidth\n                    value={data.address || ''}\n                    onChange={\n                        (event) => {\n                            data.address=event.target.value;\n                            setData({...data})\n                    }}\n                />\n                <TextField margin=\"dense\" label=\"Description\" fullWidth\n                    multiline\n                    rows={4}\n                    value={data.description || ''}\n                    onChange={\n                        (event) => {\n                            data.description=event.target.value;\n                            setData({...data})\n                    }}\n                />\n            </DialogContent>\n            <DialogActions>\n                <Button \n                    onClick={() => {handleClose();}} \n                    color=\"primary\"\n                >\n                    Cancel\n                </Button>\n                <Button \n                    onClick={() => {\n                        data.newEntry === true ?\n                        addPublishers(data):\n                        updatePublishers(data);\n\n                        handleClose();\n                    }} \n                    color=\"primary\"\n                >\n                    {data.newEntry === true ? 'Insert' : 'Update'}\n                </Button>\n            </DialogActions>\n        </Dialog>\n      </div>\n    );\n  }","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport IconButton from '@material-ui/core/IconButton';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EditIcon from '@material-ui/icons/Edit';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Fab from '@material-ui/core/Fab';\n\nconst useStyles = makeStyles((theme) => ({\n    table: {\n      minWidth: 650,\n    },\n    fab: {\n      position: 'fixed',\n      bottom: theme.spacing(2),\n      right: theme.spacing(2),\n    },\n  }));\n\n\nlet getGenres = async () => {\n    let genres = await fetch('/api/admin/getgenres')\n    .then(response => response.json())\n    .then(data => data);\n    \n    return genres;\n}\n\nlet deleteGenres = async (id) => {\n    let result = await fetch('/api/admin/deletegenres/'+id)\n    .then(response => response)\n    .then(data => data);\n    \n    return result;\n}\n\nlet updateGenres = async (data) => {\n    console.log(data);\n    const requestOptions = {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({...data})\n    };\n      \n    let results = fetch('api/admin/updategenres', requestOptions)\n    .then(response => response)\n    .then(data => data);\n}\n\nlet addGenres = async (data) => {\n    console.log(data);\n    const requestOptions = {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({...data})\n    };\n      \n    let results = fetch('api/admin/addgenres', requestOptions)\n    .then(response => response)\n    .then(data => data);\n}\n\n\nexport default function GenresPanel() {\n    const classes = useStyles();\n\n    const [genres, setGenres] = React.useState([]);\n    const [refresh, setRefresh] = React.useState(false);\n    const [openDialog, setOpenDialog] = React.useState(false);\n    const [selectedRow, setSelectedRow] = React.useState({});\n\n    React.useEffect(()=>{\n        getGenres().then(data => setGenres(data));\n    },[refresh]);\n\n    const deleteRow = (event) => {\n        const id = event.currentTarget.value;\n        deleteGenres(id).then(() => setRefresh(refresh => !refresh));\n    };\n\n    const handleOpenDialog = (event) => {\n        const index = event.currentTarget.value;\n        setSelectedRow(genres[index]);\n        setOpenDialog(true);\n    }\n    \n    const handleOpenDialogNewEntry = () => {\n        setSelectedRow({newEntry:true});\n        setOpenDialog(true);\n    }\n\n    const handleCloseDialog = () => {\n        setOpenDialog(false);\n        setRefresh(refresh => !refresh)\n    }\n\n    return (\n    <div style={{paddingBottom:50}}>\n        <TableContainer component={Paper}>\n            <Table className={classes.table} aria-label=\"simple table\">\n            <TableHead>\n                <TableRow>\n                <TableCell>Name</TableCell>\n                <TableCell>Info</TableCell>\n                <TableCell align=\"right\">Edit</TableCell>\n                <TableCell align=\"right\">Delete</TableCell>\n                </TableRow>\n            </TableHead>\n            <TableBody>\n                {genres.map((row, index) => (\n                <TableRow key={row.genreID}>\n                    <TableCell >{row.name}</TableCell>\n                    <TableCell >{row.info}</TableCell>\n                    <TableCell align=\"right\">\n                        <IconButton\n                            value={index}\n                            onClick={event => handleOpenDialog(event)}\n                        >\n                            <EditIcon/>\n                        </IconButton>\n                    </TableCell>\n                    <TableCell align=\"right\">\n                        <IconButton\n                            value={row.genreID}\n                            onClick={(event) => deleteRow(event)}\n                        >\n                            <DeleteIcon/>\n                        </IconButton>\n                    </TableCell>\n                </TableRow>\n                ))}\n            </TableBody>\n            </Table>\n        </TableContainer>\n        <FormDialog\n            open={openDialog}\n            data={selectedRow}\n            handleClickOpen={handleOpenDialog}\n            handleClose={handleCloseDialog}\n        />\n         <Fab \n            className={classes.fab} \n            variant=\"extended\" \n            style={{backgroundColor:'coral', color:'white'}}\n            onClick={handleOpenDialogNewEntry}\n        >\n            <EditIcon/>\n            New Genre\n        </Fab>\n    </div>\n    );\n}\n\nfunction FormDialog(props) {\n    const open = props.open;\n    const handleClose = props.handleClose;\n\n    const [data, setData] = React.useState({});\n\n    React.useEffect(()=>{\n        setData(props.data);\n    },[props.data])\n  \n    return (\n      <div>\n        <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n            <DialogTitle id=\"form-dialog-title\">\n              {data.newEntry === true ? 'Insert' : 'Update'} Genre\n            </DialogTitle>\n            <DialogContent>\n                <DialogContentText>\n                    *To change the entry just modify the previous values and hit update\n                </DialogContentText>\n                <TextField\n                    autoFocus margin=\"dense\" label=\"Name\" fullWidth\n                    value={data.name || ''}\n                    onChange={\n                        (event) => {\n                            data.name=event.target.value;\n                            setData({...data})\n                    }}\n                />\n                <TextField margin=\"dense\" label=\"Info\" fullWidth\n                    multiline\n                    rows={4}\n                    value={data.info || ''}\n                    onChange={\n                        (event) => {\n                            data.info=event.target.value;\n                            setData({...data})\n                    }}\n                />\n            </DialogContent>\n            <DialogActions>\n                <Button \n                    onClick={() => {handleClose();}} \n                    color=\"primary\"\n                >\n                    Cancel\n                </Button>\n                <Button \n                    onClick={() => {\n                        data.newEntry === true ?\n                        addGenres(data):\n                        updateGenres(data);\n\n                        handleClose();\n                    }} \n                    color=\"primary\"\n                >\n                    {data.newEntry === true ? 'Insert' : 'Update'}\n                </Button>\n            </DialogActions>\n        </Dialog>\n      </div>\n    );\n  }","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport IconButton from '@material-ui/core/IconButton';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EditIcon from '@material-ui/icons/Edit';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Fab from '@material-ui/core/Fab';\nimport Input from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Select from '@material-ui/core/Select';\n\nconst useStyles = makeStyles((theme) => ({\n    table: {\n      minWidth: 650,\n    },\n    fab: {\n      position: 'fixed',\n      bottom: theme.spacing(2),\n      right: theme.spacing(2),\n    },\n    formControl: {\n        margin: theme.spacing(1),\n        minWidth: 120,\n        maxWidth: 300,\n      },\n}));\n\n\nlet getBooks = async () => {\n    let books = await fetch('/api/admin/getbooks')\n    .then(response => response.json())\n    .then(data => data);\n    \n    return books;\n}\n\nlet deleteBooks = async (id) => {\n    let result = await fetch('/api/admin/deletebooks/'+id)\n    .then(response => response)\n    .then(data => data);\n    \n    return result;\n}\n\nexport default function GenresPanel() {\n    const classes = useStyles();\n\n    const [books, setBooks] = React.useState([]);\n    const [refresh, setRefresh] = React.useState(false);\n    const [openDialog, setOpenDialog] = React.useState(false);\n\n    React.useEffect(()=>{\n        getBooks().then(data => setBooks(data));\n    },[refresh]);\n\n    const handleOpenDialog = (event) => {\n        setOpenDialog(true);\n    }\n    \n    const handleCloseDialog = () => {\n        setOpenDialog(false);\n        setRefresh(refresh => !refresh)\n    }\n\n    const deleteRow = (event) => {\n        const id = event.currentTarget.value;\n        deleteBooks(id).then(() => setRefresh(refresh => !refresh));\n    };\n\n    return (\n        <div>\n            <TableContainer component={Paper}>\n                <Table className={classes.table} aria-label=\"simple table\">\n                <TableHead>\n                    <TableRow>\n                    <TableCell>Title</TableCell>\n                    <TableCell>Description</TableCell>\n                    <TableCell>Authors</TableCell>\n                    <TableCell>Genres</TableCell>\n                    <TableCell>Publisher</TableCell>\n                    <TableCell>Is Digital</TableCell>\n                    <TableCell>Price</TableCell>\n                    <TableCell>Pages</TableCell>\n                    <TableCell>Delete</TableCell>\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    {books.map((row) => (\n                    <TableRow key={row.bookID}>\n                        <TableCell style={{minWidth:150}}>{row.title}</TableCell>\n                        <TableCell size='small'>{row.description}</TableCell>\n                        <TableCell style={{minWidth:120}}>{row.authors}</TableCell>\n                        <TableCell style={{minWidth:120}}>{row.genres}</TableCell>\n                        <TableCell >{row.publisherName}</TableCell>\n                        <TableCell >{row.isDigital === 1? 'Yes' : 'No'}</TableCell>\n                        <TableCell >{row.price}</TableCell>\n                        <TableCell >{row.pages}</TableCell>\n                        <TableCell >\n                            <IconButton\n                                value={row.bookID}\n                                onClick={(event) => { deleteRow(event); }}\n                            >\n                                <DeleteIcon/>\n                            </IconButton>\n                        </TableCell>\n                    </TableRow>\n                    ))}\n                </TableBody>\n                </Table>\n            </TableContainer>\n            <FormDialog\n                open={openDialog}\n                handleClickOpen={handleOpenDialog}\n                handleClose={handleCloseDialog}\n            />\n            <Fab \n                className={classes.fab} \n                variant=\"extended\" \n                style={{\n                    background:'linear-gradient(90deg, rgba(2,0,36,1) 0%, rgba(9,9,121,1) 35%, rgba(4,125,197,1) 69%, rgba(0,212,255,1) 100%)',\n                    color:'white'\n                }}\n                onClick={handleOpenDialog}\n            >\n                <EditIcon/>\n                New Book\n            </Fab>\n        </div>\n    );\n}\n\nlet getAuthors = async () => {\n    let books = await fetch('/api/admin/getauthors')\n    .then(response => response.json())\n    .then(data => data);\n    \n    return books;\n}\n\nlet getPublishers = async () => {\n    let books = await fetch('/api/admin/getpublishers')\n    .then(response => response.json())\n    .then(data => data);\n    \n    return books;\n}\n\nlet getGenres = async () => {\n    let books = await fetch('/api/admin/getgenres')\n    .then(response => response.json())\n    .then(data => data);\n    \n    return books;\n}\n\nlet addBook = async (bookData, publisher, authors, genres) => {\n    \n    let bookID;\n\n    console.log(publisher);\n    console.log(authors);\n    console.log(genres);\n    bookData.isDigital = bookData.isDigital === true ? 1 : 0;\n    bookData.publisherID = publisher.publisherID;\n\n    console.log(bookData);\n\n    const requestOptions = {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({...bookData})\n    };\n        \n    fetch('api/admin/addbooks', requestOptions)\n    .then(response => response.json())\n    .then(data => {\n        bookID = data[0].bookID;\n        console.log(bookID);\n        authors.forEach((author)=>{\n         fetch('api/admin/authorbond/'+ bookID +'/'+author.authorID);\n        })\n\n        genres.forEach((genre)=>{\n            fetch('/api/admin/genrebond/'+ bookID +'/'+genre.genreID);\n        })\n    });\n\n    \n}\n\nfunction FormDialog(props) {\n    const classes = useStyles();\n    const open = props.open;\n    const handleClose = props.handleClose;\n\n    const [data, setData] = React.useState({});\n    const [authors, setAuthors] = React.useState([]);\n    const [publishers, setPublishers] = React.useState([]);\n    const [genres, setGenres] = React.useState([]);\n\n\n    const [personName, setPersonName] = React.useState([]);\n    const [publisherName, setPublisherName] = React.useState({});\n    const [genreName, setGenreName] = React.useState([]);\n\n\n    React.useEffect(()=>{\n        getAuthors().then(data => setAuthors(data));\n        getPublishers().then(data => {setPublishers(data); setPublisherName(data[0]);});\n        getGenres().then(data => setGenres(data));\n\n    },[open]);\n\n    const handleChange = (event) => {\n      setPersonName(event.target.value);\n    };\n\n    const handleChange2 = (event) => {\n        setPublisherName(event.target.value);\n    }\n\n    const handleChange3 = (event) => {\n        setGenreName(event.target.value);\n    }\n\n    const clearAll = () => {\n        setData({});\n        setPersonName([]);\n        setGenreName([]);\n        setPublisherName({});\n    }\n\n    return (\n      <div>\n        <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n            <DialogTitle id=\"form-dialog-title\">\n              Insert Book\n            </DialogTitle>\n            <DialogContent>\n                <DialogContentText>\n                    *To change the entry just modify the previous values and hit update\n                </DialogContentText>\n                <TextField\n                    autoFocus margin=\"dense\" label=\"Title\" fullWidth\n                    value={data.title || ''}\n                    onChange={\n                        (event) => {\n                            data.title=event.target.value;\n                            setData({...data})\n                    }}\n                />\n                <TextField margin=\"dense\" label=\"Description\" fullWidth\n                    multiline\n                    rows={4}\n                    value={data.description || ''}\n                    onChange={\n                        (event) => {\n                            data.description=event.target.value;\n                            setData({...data});\n                    }}\n                />\n                <TextField\n                    label=\"Date\" type=\"date\" style={{marginTop:10}} fullWidth\n                    defaultValue=\"2020-05-24\"\n                    InputLabelProps={{\n                    shrink: true,\n                    }}\n                    onChange={(event) => {\n                        data.date = event.target.value;\n                        setData({...data});\n                    }}\n                    \n                />\n                <FormControlLabel style={{paddingTop:10, paddingBottom:10}}\n                    control={\n                        <Checkbox\n                            checked={data.isDigital ||  false}\n                            onChange={() => {\n                                data.isDigital === undefined ? \n                                data.isDigital = true : data.isDigital = !data.isDigital;\n                                setData({...data});\n                            }}\n                            inputProps={{ 'aria-label': 'primary checkbox' }}\n                        />\n                    }\n                    label=\"Is Digital\"\n                />\n                <TextField margin=\"dense\" label=\"Price\" fullWidth\n                    value={data.price || ''}\n                    onChange={\n                        (event) => {\n                            data.price=event.target.value;\n                            setData({...data});\n                    }}\n                />\n                <TextField margin=\"dense\" label=\"Pages\" fullWidth\n                    value={data.pages || ''}\n                    onChange={\n                        (event) => {\n                            data.pages=event.target.value;\n                            setData({...data});\n                    }}\n                />\n                <FormControl className={classes.formControld} fullWidth>\n                    <InputLabel>Publisher</InputLabel>\n                    <Select\n                        value={publisherName}\n                        renderValue={(selected) => {\n                            return selected.name === undefined ? '': selected.name;\n                            \n                        }}\n                        onChange={handleChange2}\n                    >\n                        {publishers.map((publisher,index)=>(\n                            <MenuItem key={index} value={publisher}>\n                                {publisher.name}\n                            </MenuItem>\n                        ))}\n                    </Select>\n                </FormControl>\n                <FormControl className={classes.formControld} fullWidth>\n                    <InputLabel>Authors</InputLabel>\n                    <Select\n                        multiple\n                        value={personName}\n                        onChange={handleChange}\n                        input={<Input />}\n                        renderValue={(selected) => {\n                            let str = '';\n                            selected.forEach((val)=>{\n                                str += ', ' + val.firstName + ' ' + val.lastName;\n                            });\n                            str = str.slice(1,str.length);\n                            return str;\n                        }}\n                        MenuProps={MenuProps}\n                    >\n                        {authors.map((author, index) => (\n                            <MenuItem key={index} value={author}>\n                            <Checkbox checked={personName.indexOf(author) > -1} />\n                            <ListItemText primary={author.firstName + ' ' + author.lastName} />\n                            </MenuItem>\n                        ))}\n                    </Select>\n                </FormControl>\n                <FormControl className={classes.formControld} fullWidth>\n                    <InputLabel>Genres</InputLabel>\n                    <Select\n                        multiple\n                        value={genreName}\n                        onChange={handleChange3}\n                        input={<Input />}\n                        renderValue={(selected) => {\n                            let str = '';\n                            selected.forEach((val)=>{\n                                str += ', ' + val.name;\n                            });\n                            str = str.slice(1,str.length);\n                            return str;\n                        }}\n                        MenuProps={MenuProps}\n                    >\n                        {genres.map((genre, index) => (\n                            <MenuItem key={index} value={genre}>\n                            <Checkbox checked={genreName.indexOf(genre) > -1} />\n                            <ListItemText primary={genre.name} />\n                            </MenuItem>\n                        ))}\n                    </Select>\n                </FormControl>\n            </DialogContent>\n            <DialogActions>\n                <Button \n                    onClick={() => {clearAll(); handleClose();}} \n                    color=\"primary\"\n                >\n                    Cancel\n                </Button>\n                <Button \n                    onClick={() => {\n                        addBook(data, publisherName, personName, genreName);\n                        clearAll();\n                        handleClose();\n                    }} \n                    color=\"primary\"\n                >\n                    Insert\n                </Button>\n            </DialogActions>\n        </Dialog>\n      </div>\n    );\n  }\n\nconst ITEM_HEIGHT = 48;\nconst ITEM_PADDING_TOP = 8;\nconst MenuProps = {\n  PaperProps: {\n    style: {\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\n      width: 250,\n    },\n  },\n};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nimport Paper from '@material-ui/core/Paper';\nimport MoodIcon from '@material-ui/icons/Mood';\n\nimport AuthorsPanel from './AuthorsPanel';\nimport PublishersPanel from './PublishersPanel';\nimport GenresPanel from './GenresPanel';\nimport BooksPanel from './BooksPanel';\n\nexport default function AdminPage() {\n    const classes = useStyles();\n    const [value, setValue] = React.useState(0);\n\n    const tabComponents = [\n        {content: <Dashboard/>},\n        {content: <AuthorsPanel/>},\n        {content: <PublishersPanel/>},\n        {content: <GenresPanel/>},\n        {content: <BooksPanel/>},\n    ]\n\n    const handleChange = (event, newValue) => {\n    setValue(newValue);\n    };\n\n    return (\n        <div className={classes.root}>\n            <Paper elevation={1}>\n                <Tabs \n                    value={value} \n                    onChange={handleChange}\n                    //centered\n                    indicatorColor=\"primary\"\n                    textColor=\"primary\"\n                >\n                    <Tab label=\"Dashboard\" {...a11yProps(0)} />\n                    <Tab label=\"Authors\" {...a11yProps(1)} />\n                    <Tab label=\"Publishers\" {...a11yProps(2)} />\n                    <Tab label=\"Genres\" {...a11yProps(3)} />\n                    <Tab label=\"Books\" {...a11yProps(4)} />\n                </Tabs>\n            </Paper>\n            {tabComponents.map((comp,index) => (\n                <TabPanel key={index} value={value} index={index}>\n                    {comp.content}\n                </TabPanel>\n            ))}\n        </div>\n    );\n}\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box p={3}>\n          {children}\n        </Box>\n      )}\n    </div>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `simple-tab-${index}`,\n    'aria-controls': `simple-tabpanel-${index}`,\n  };\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n        backgroundColor: \"#f5f5f5\",\n    marginLeft:20,\n    marginRight:20,\n    marginTop:15,\n  },\n  fab: {\n    position: 'absolute',\n    bottom: theme.spacing(2),\n    right: theme.spacing(2),\n  },\n}));\n\nfunction Dashboard(){\n\n    return(\n        <Paper>\n            <div style={{padding:30, paddingBottom:100}}>\n                <Typography variant=\"h3\"> Dashboard </Typography>\n                <Typography variant=\"h5\" style={{paddingTop:40}}>Here you can view the database.</Typography>\n                <Typography variant=\"h6\">You can also insert, update and delete entries.</Typography>\n                <MoodIcon style={{fontSize:50}}/>\n            </div>\n        </Paper>\n    );\n\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport Avatar from '@material-ui/core/Avatar';\nimport { Typography } from '@material-ui/core';\nimport Paper from '@material-ui/core/Paper';\nimport Fade from '@material-ui/core/Fade';\n\nimport { Link, useLocation } from \"react-router-dom\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        marginRight:'10%',\n        marginLeft:'10%',\n        [theme.breakpoints.down('sm')]: {\n            marginRight:'0%',\n            marginLeft:'0%',\n        },\n        paddingBottom:50\n    },\n    title:{\n        marginBottom:30,\n        color:'#333333',\n        fontSize:'1.8em',\n        [theme.breakpoints.down('sm')]: {\n            marginRight:'10%',\n            marginLeft:'10%',\n        },\n        \n    },\n    listPaper:{\n        marginBottom:7\n    }\n}));\n\nlet getAuthors =  async () => {\n    let authors = await fetch('/api/allauthors')\n    .then(response => response.json())\n    .then(data => data );\n    \n    return authors;\n}\n\nexport default function AllAuthorsPage(props) {\n    const classes = useStyles();\n    const [authors, setAuthors] = React.useState([]);\n\n    const location = useLocation();\n\n    React.useEffect(()=>{\n        getAuthors().then(data => setAuthors(data));\n\n        return () => {setAuthors([]); }\n    },[]);\n\n    return (\n        <div className={classes.root}>\n            <Typography \n                variant=\"h4\" \n                className={classes.title}\n            >\n                All Authors\n            </Typography>\n            <Fade in={true}>\n            <List>\n                {authors.map((author, index) => (\n                    <div key={index}>\n                    <Paper variant=\"outlined\" className={classes.listPaper}>\n                        <ListItem \n                            button \n                            style={{paddingTop:10, paddingBottom:10}}\n                            component={Link}\n                            to={\"/author/\"+author.authorID}\n                            replace={location.pathname === (\"/author/\"+author.authorID)}\n                        >\n                            <ListItemAvatar>\n                                <Avatar style={{backgroundColor:'#1976d2'}}>\n                                    {author.firstName.charAt(0).toUpperCase() +  \n                                    author.lastName.charAt(0).toUpperCase()}\n                                </Avatar>\n                            </ListItemAvatar>\n                            <ListItemText \n                                primary={author.firstName + \" \" +  author.lastName}\n                                secondary={author.booksCount + \" books\"}\n                            />\n                            <ListItemSecondaryAction>\n                            \n                            </ListItemSecondaryAction>\n                        </ListItem>\n                    </Paper>\n                    </div >\n                ))}\n            </List>\n            </Fade>\n        </div>\n    );\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport Avatar from '@material-ui/core/Avatar';\nimport Divider from '@material-ui/core/Divider';\nimport { Typography } from '@material-ui/core';\nimport Paper from '@material-ui/core/Paper';\nimport Fade from '@material-ui/core/Fade';\n\nimport { Link, useLocation } from \"react-router-dom\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        marginRight:'10%',\n        marginLeft:'10%',\n        [theme.breakpoints.down('sm')]: {\n            marginRight:'0%',\n            marginLeft:'0%',\n        },\n        paddingBottom:50\n    },\n    title:{\n        marginBottom:30,\n        color:'#333333',\n        fontSize:'1.8em',\n        [theme.breakpoints.down('sm')]: {\n            marginRight:'10%',\n            marginLeft:'10%',\n        },\n        \n    },\n    listPaper:{\n        marginBottom:7\n    }\n}));\n\nlet getPublishers=  async () => {\n    let publishers = await fetch('/api/allpublishers')\n    .then(response => response.json())\n    .then(data => data );\n    \n    return publishers;\n}\n\nexport default function AllPublishersPage(props) {\n    const classes = useStyles();\n    const [publishers, setPublishers] = React.useState([]);\n\n    const location = useLocation();\n\n    React.useEffect(()=>{\n        getPublishers().then(data => setPublishers(data));\n\n        return () => { setPublishers([]); }\n    },[]);\n\n    return (\n        <div className={classes.root}>\n            <Typography \n                variant=\"h4\" \n                className={classes.title}\n            >\n                All Publishers\n            </Typography>\n            <Fade in={true}>\n            <List>\n                {publishers.map((publisher, index) => (\n                    <div key={index}>\n                     <Paper variant=\"outlined\" className={classes.listPaper}>\n                        <ListItem \n                            button \n                            style={{paddingTop:10, paddingBottom:10}}\n                            component={Link}\n                            to={\"/publisher/\"+publisher.publisherID}\n                            replace={location.pathname === (\"/publisher/\"+publisher.publisherID)}\n                        >\n                            <ListItemAvatar>\n                                <Avatar style={{backgroundColor:'#1976d2'}}>\n                                    {publisher.name.charAt(0).toUpperCase()}\n                                </Avatar>\n                            </ListItemAvatar>\n                            <ListItemText \n                                primary={publisher.name}\n                                secondary={publisher.booksCount + \" books\"}\n                            />\n                            <ListItemSecondaryAction>\n                            \n                            </ListItemSecondaryAction>\n                        </ListItem>\n                    </Paper>\n                    </div >\n                ))}\n            </List>\n            </Fade>\n        </div>\n    );\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nimport Grow from '@material-ui/core/Grow';\n\nimport BookTile from '../Layout/BookTile';\n\n\nconst useStyles = makeStyles((theme) => ({\n    root:{\n        marginRight:'10%',\n        marginLeft:'10%',\n        [theme.breakpoints.down('sm')]: {\n            marginRight:'0%',\n            marginLeft:'0%',\n        },\n        paddingBottom:50,\n    },\n    title:{\n        marginBottom:30,\n        color:'#333333',\n        fontSize:'1.8em',\n        [theme.breakpoints.down('sm')]: {\n            marginRight:'10%',\n            marginLeft:'10%',\n        },\n        \n    },\n    grid:{\n        [theme.breakpoints.down('sm')]: {\n            justifyContent:'space-evenly',\n            paddingLeft:0,\n            paddingRight:0,\n        },\n    },\n    gridItem:{\n        display:'flex',\n        alignItems:'center',\n    }\n}));\n\nlet getAllBooks = async (name) => {\n    let books = await fetch('/api/genres/'+name)\n    .then(response => response.json())\n    .then(data => data);\n    \n    return books;\n}\n\nexport default function GenreBooksPage(props) {\n\n    const classes = useStyles();\n    const genreName = props.match.params.genre;\n\n    const [books, setBooks] = React.useState(null);\n    const [open, setOpen] = React.useState(false);\n    //console.log(open);\n\n    React.useEffect(() => {\n        setOpen(false);\n    },[genreName]);\n\n    React.useEffect(() => {\n        if(!open) setOpen(true);\n        if(open) getAllBooks(genreName).then(data => setBooks(data));\n    },[open, genreName]);\n\n    return(\n        <div className={classes.root}>\n            <Typography variant=\"h4\" className={classes.title}>\n                All Books In {genreName}\n            </Typography>\n            {books === null ? <></> :\n                <>\n                {open?\n                <Grow in={true}>\n                    <Grid \n                        container \n                        spacing={0}\n                        direction=\"row\"\n                        justify=\"flex-start\"\n                        alignItems=\"flex-start\"\n                        className={classes.grid}\n                    >\n                        {books.map((book, index)=>(\n                            <Grid key={index} item >\n                                <Box display=\"flex\" justifyContent=\"center\" style={{minWidth:170}}>\n                                    <BookTile book={book}/>\n                                </Box>\n                            </Grid>\n                        ))}\n                    </Grid>\n                </Grow>\n                :null\n                }\n                </>\n            }\n        </div>\n    );\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ArrowForwardIcon from '@material-ui/icons/ArrowForward';\nimport { Typography } from '@material-ui/core';\nimport Paper from '@material-ui/core/Paper';\nimport Fade from '@material-ui/core/Fade';\n\nimport { Link, useLocation } from \"react-router-dom\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        marginRight:'10%',\n        marginLeft:'10%',\n        [theme.breakpoints.down('sm')]: {\n            marginRight:'0%',\n            marginLeft:'0%',\n        },\n    },\n    title:{\n        marginBottom:30,\n        color:'#333333',\n        fontSize:'1.8em',\n        [theme.breakpoints.down('sm')]: {\n            marginRight:'10%',\n            marginLeft:'10%',\n        },\n        \n    },\n    listPaper:{\n        marginBottom:7\n    }\n}));\n\nlet getResults = async (name) => {\n    let results = await fetch('/api/long-search/' + name)\n    .then(response => response.json())\n    .then(data => data );\n    \n    return results;\n}\n\nexport default function SearchPage(props) {\n    const classes = useStyles();\n    const name = props.match.params.name;\n\n    const [results, setResults] = React.useState([]);\n\n    const location = useLocation();\n\n    React.useEffect(()=>{\n        getResults(name).then(data => setResults(data));\n    },[name]);\n\n    return (\n        <div className={classes.root}>\n            <Typography \n                variant=\"h4\" \n                className={classes.title}\n            >\n                Search Results for: {name}\n            </Typography>\n            <Fade in={true}>\n                <List component=\"nav\" aria-label=\"search elements\">\n                    {results.map((book, index)=>(\n                        <div key={index}>\n                        <Paper variant=\"outlined\" className={classes.listPaper}>\n                            <ListItem \n                                button \n                                key={index} \n                                component={Link}\n                                to={\"/book/\" + book.bookID}\n                                replace={location.pathname === (\"/book/\" + book.bookID)}\n                            >\n                                <ListItemIcon>\n                                    <img src={\"/resources/\" + (book.coverPicture || \"cover.jpg\")} alt=\"\" style={{height:60, width:40}}/>\n                                </ListItemIcon>\n                                <ListItemText\n                                    primary={book.title}\n                                    secondary={'Publisher: ' + book.name}\n                                />\n                                <ListItemSecondaryAction className={classes.listItemIcon}>\n                                    <ArrowForwardIcon/>\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                        </Paper>\n                        </div>\n                    ))}\n                </List>\n            </Fade>\n        </div>\n    );\n}","import React, { useState, useEffect } from 'react';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect\n} from \"react-router-dom\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\n\nimport 'fontsource-roboto';\nimport ScrollToTop from './components/Layout/ScrollToTop';\n\nimport SignIn from './components/User/SignIn';\nimport SignUp from './components/User/SignUp';\nimport HomePage from './components/HomePage/HomePage';\nimport AppHeader from './components/Layout/AppHeader'; \nimport BookPage from './components/BookPage/BookPage';\nimport FavoritePage from './components/FavoritePage/FavoritePage';\nimport AuthorPage from './components/AuthorPage/AuthorPage';\nimport PublisherPage from './components/PublisherPage/PublisherPage';\nimport AllBooksPage from './components/AllBooksPage/AllBooksPage';\nimport AdminPage from './components/AdminPage/AdminPage';\nimport AllAuthorsPage from './components/AuthorPage/AllAuthorsPage';\nimport AllPublishersPage from './components/PublisherPage/AllPublishersPage';\nimport GenreBooksPage from './components/AllBooksPage/GenreBooksPage';\nimport SearchPage from './components/SearchPage/SearchPage';\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: '#1976d2',\n    },\n  },\n});\n\nconst useStyles = makeStyles((theme) => ({\n  root:{\n    display:'flex',\n    height:'100%',\n  },\n  toolbar: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-end',\n    padding: theme.spacing(0, 1),\n    ...theme.mixins.toolbar,\n    marginBottom:48,\n  },\n  content: {\n    flexGrow: 1,\n  },\n}));\n\nfunction App() {\n  const classes = useStyles();\n\n  const [user, setUser] = useState(null);\n  const [rmh, setRmh] = useState(false);\n\n  const unloggedUser = () => ({username:\"\",password:\"\"});\n  //const unloggedUser = {username:\"\",password:\"\"};\n\n  //localStorage.clear();\n  useEffect(() => {\n    const parsedUser = JSON.parse(localStorage.getItem('user'));\n\n    if(parsedUser!==null){\n      const requestOptions = {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ username: parsedUser.username, password: parsedUser.password})\n      };\n      \n      fetch('/api/login', requestOptions)\n          .then(response => response.json())\n          .then(data =>{ \n            data.length > 0 ? setUser(data[0]): setUser(unloggedUser());\n          });\n    }\n    else{\n      setUser(unloggedUser());\n    }\n    \n  }, []);\n\n  let setUserCallback = (obj) =>{\n    setUser({...obj});\n    localStorage.setItem('user',JSON.stringify(obj));\n  };\n \n  let isUserLogged = () =>{\n    if(user != null)\n      if(user.username !== \"\" && user.password !== \"\"){\n        return true;\n      }\n        \n    return false;\n  };\n\n  let doesLogOut = () =>{\n    setUser(unloggedUser());\n    localStorage.setItem('user',null);\n  };\n\n  let isMounted = () =>{\n    if(user !== null) return true;\n    else return false;\n  };\n\n  let remountHeader = () => setRmh(!rmh);\n\n  if(isMounted())\n    return (\n      <ThemeProvider theme={theme}>\n        <Router>\n          <div className={classes.root}>\n            <AppHeader isLogged={isUserLogged()} userData={user} logOut={doesLogOut} rmh={rmh}/>\n            <main className={classes.content}>\n              <div className={classes.toolbar} />\n                <ScrollToTop>\n                  <Switch>\n                    <Route exact path=\"/login\"\n                      render={() => (\n                        isUserLogged() ?\n                        <Redirect to=\"/\" />: \n                        <SignIn setUser={setUserCallback}/>\n                      )}\n                    />\n                    <Route exact path=\"/signup\"\n                      render={() => (\n                        isUserLogged() ?\n                        <Redirect to=\"/\" />: \n                        <SignUp/>\n                      )}\n                    />\n                    <Route exact path=\"/\" component={HomePage}/>\n                    <Route exact path=\"/search/:name\" \n                      render={(props) => \n                        <SearchPage {...props}/>}\n                    />\n                    <Route exact path=\"/books\"\n                      render={(props) => \n                        <AllBooksPage {...props}/>}\n                    />\n                    <Route exact path=\"/publishers\"\n                      render={(props) => \n                        <AllPublishersPage {...props}/>}\n                    />\n                    <Route exact path=\"/authors\"\n                      render={(props) => \n                        <AllAuthorsPage {...props}/>}\n                    />\n                    <Route exact path=\"/author/:id\" \n                      render={(props) => \n                        <AuthorPage {...props}/>}\n                    />\n                    <Route exact path=\"/publisher/:id\" \n                      render={(props) => \n                        <PublisherPage {...props}/>}\n                    />\n                    <Route exact path=\"/book/:id\" \n                      render={(props) => \n                        <BookPage user={user} remountHeader={remountHeader} {...props}/>}\n                    />\n                    <Route exact path=\"/genre/:genre\" \n                      render={(props) => \n                        <GenreBooksPage {...props}/>}\n                    />\n                    <Route exact path=\"/favorites\" \n                      render={(props) => \n                        (isUserLogged() ?\n                          <FavoritePage user={user} remountHeader={remountHeader} {...props}/>:\n                          <Redirect to=\"/\" />\n                        )}\n                    />\n                    <Route exact path=\"/admin\" \n                      render={() => \n                        (isUserLogged() && user.isAdmin ?\n                        <AdminPage setUser={setUserCallback}/>:\n                        <Redirect to=\"/\" />\n                      )}\n                    />\n                  </Switch>\n                </ScrollToTop>\n            </main>\n          </div>\n        </Router>\n      </ThemeProvider>\n    );\n\n  return <></>;\n\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}